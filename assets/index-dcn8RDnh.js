(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();var ZS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cd={exports:{}},kl={};var lv;function tT(){if(lv)return kl;lv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:n,type:a,key:f,ref:l!==void 0?l:null,props:u}}return kl.Fragment=t,kl.jsx=r,kl.jsxs=r,kl}var uv;function nT(){return uv||(uv=1,cd.exports=tT()),cd.exports}var I=nT(),fd={exports:{}},Ke={};var cv;function iT(){if(cv)return Ke;cv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),x=Symbol.iterator;function O(q){return q===null||typeof q!="object"?null:(q=x&&q[x]||q["@@iterator"],typeof q=="function"?q:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,H={};function X(q,oe,Se){this.props=q,this.context=oe,this.refs=H,this.updater=Se||j}X.prototype.isReactComponent={},X.prototype.setState=function(q,oe){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,oe,"setState")},X.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function ee(){}ee.prototype=X.prototype;function F(q,oe,Se){this.props=q,this.context=oe,this.refs=H,this.updater=Se||j}var ce=F.prototype=new ee;ce.constructor=F,D(ce,X.prototype),ce.isPureReactComponent=!0;var ne=Array.isArray;function ye(){}var fe={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function je(q,oe,Se){var Oe=Se.ref;return{$$typeof:n,type:q,key:oe,ref:Oe!==void 0?Oe:null,props:Se}}function it(q,oe){return je(q.type,oe,q.props)}function Ot(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function bt(q){var oe={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Se){return oe[Se]})}var Yt=/\/+/g;function jn(q,oe){return typeof q=="object"&&q!==null&&q.key!=null?bt(""+q.key):oe.toString(36)}function Wt(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(ye,ye):(q.status="pending",q.then(function(oe){q.status==="pending"&&(q.status="fulfilled",q.value=oe)},function(oe){q.status==="pending"&&(q.status="rejected",q.reason=oe)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function re(q,oe,Se,Oe,Pe){var Ge=typeof q;(Ge==="undefined"||Ge==="boolean")&&(q=null);var Je=!1;if(q===null)Je=!0;else switch(Ge){case"bigint":case"string":case"number":Je=!0;break;case"object":switch(q.$$typeof){case n:case t:Je=!0;break;case w:return Je=q._init,re(Je(q._payload),oe,Se,Oe,Pe)}}if(Je)return Pe=Pe(q),Je=Oe===""?"."+jn(q,0):Oe,ne(Pe)?(Se="",Je!=null&&(Se=Je.replace(Yt,"$&/")+"/"),re(Pe,oe,Se,"",function(De){return De})):Pe!=null&&(Ot(Pe)&&(Pe=it(Pe,Se+(Pe.key==null||q&&q.key===Pe.key?"":(""+Pe.key).replace(Yt,"$&/")+"/")+Je)),oe.push(Pe)),1;Je=0;var Ft=Oe===""?".":Oe+":";if(ne(q))for(var Rt=0;Rt<q.length;Rt++)Oe=q[Rt],Ge=Ft+jn(Oe,Rt),Je+=re(Oe,oe,Se,Ge,Pe);else if(Rt=O(q),typeof Rt=="function")for(q=Rt.call(q),Rt=0;!(Oe=q.next()).done;)Oe=Oe.value,Ge=Ft+jn(Oe,Rt++),Je+=re(Oe,oe,Se,Ge,Pe);else if(Ge==="object"){if(typeof q.then=="function")return re(Wt(q),oe,Se,Oe,Pe);throw oe=String(q),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Je}function ge(q,oe,Se){if(q==null)return q;var Oe=[],Pe=0;return re(q,Oe,"","",function(Ge){return oe.call(Se,Ge,Pe++)}),Oe}function Ae(q){if(q._status===-1){var oe=q._result;oe=oe(),oe.then(function(Se){(q._status===0||q._status===-1)&&(q._status=1,q._result=Se)},function(Se){(q._status===0||q._status===-1)&&(q._status=2,q._result=Se)}),q._status===-1&&(q._status=0,q._result=oe)}if(q._status===1)return q._result.default;throw q._result}var He=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},qe={map:ge,forEach:function(q,oe,Se){ge(q,function(){oe.apply(this,arguments)},Se)},count:function(q){var oe=0;return ge(q,function(){oe++}),oe},toArray:function(q){return ge(q,function(oe){return oe})||[]},only:function(q){if(!Ot(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Ke.Activity=T,Ke.Children=qe,Ke.Component=X,Ke.Fragment=r,Ke.Profiler=l,Ke.PureComponent=F,Ke.StrictMode=a,Ke.Suspense=y,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(q){return fe.H.useMemoCache(q)}},Ke.cache=function(q){return function(){return q.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(q,oe,Se){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Oe=D({},q.props),Pe=q.key;if(oe!=null)for(Ge in oe.key!==void 0&&(Pe=""+oe.key),oe)!ie.call(oe,Ge)||Ge==="key"||Ge==="__self"||Ge==="__source"||Ge==="ref"&&oe.ref===void 0||(Oe[Ge]=oe[Ge]);var Ge=arguments.length-2;if(Ge===1)Oe.children=Se;else if(1<Ge){for(var Je=Array(Ge),Ft=0;Ft<Ge;Ft++)Je[Ft]=arguments[Ft+2];Oe.children=Je}return je(q.type,Pe,Oe)},Ke.createContext=function(q){return q={$$typeof:f,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:u,_context:q},q},Ke.createElement=function(q,oe,Se){var Oe,Pe={},Ge=null;if(oe!=null)for(Oe in oe.key!==void 0&&(Ge=""+oe.key),oe)ie.call(oe,Oe)&&Oe!=="key"&&Oe!=="__self"&&Oe!=="__source"&&(Pe[Oe]=oe[Oe]);var Je=arguments.length-2;if(Je===1)Pe.children=Se;else if(1<Je){for(var Ft=Array(Je),Rt=0;Rt<Je;Rt++)Ft[Rt]=arguments[Rt+2];Pe.children=Ft}if(q&&q.defaultProps)for(Oe in Je=q.defaultProps,Je)Pe[Oe]===void 0&&(Pe[Oe]=Je[Oe]);return je(q,Ge,Pe)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(q){return{$$typeof:m,render:q}},Ke.isValidElement=Ot,Ke.lazy=function(q){return{$$typeof:w,_payload:{_status:-1,_result:q},_init:Ae}},Ke.memo=function(q,oe){return{$$typeof:v,type:q,compare:oe===void 0?null:oe}},Ke.startTransition=function(q){var oe=fe.T,Se={};fe.T=Se;try{var Oe=q(),Pe=fe.S;Pe!==null&&Pe(Se,Oe),typeof Oe=="object"&&Oe!==null&&typeof Oe.then=="function"&&Oe.then(ye,He)}catch(Ge){He(Ge)}finally{oe!==null&&Se.types!==null&&(oe.types=Se.types),fe.T=oe}},Ke.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Ke.use=function(q){return fe.H.use(q)},Ke.useActionState=function(q,oe,Se){return fe.H.useActionState(q,oe,Se)},Ke.useCallback=function(q,oe){return fe.H.useCallback(q,oe)},Ke.useContext=function(q){return fe.H.useContext(q)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(q,oe){return fe.H.useDeferredValue(q,oe)},Ke.useEffect=function(q,oe){return fe.H.useEffect(q,oe)},Ke.useEffectEvent=function(q){return fe.H.useEffectEvent(q)},Ke.useId=function(){return fe.H.useId()},Ke.useImperativeHandle=function(q,oe,Se){return fe.H.useImperativeHandle(q,oe,Se)},Ke.useInsertionEffect=function(q,oe){return fe.H.useInsertionEffect(q,oe)},Ke.useLayoutEffect=function(q,oe){return fe.H.useLayoutEffect(q,oe)},Ke.useMemo=function(q,oe){return fe.H.useMemo(q,oe)},Ke.useOptimistic=function(q,oe){return fe.H.useOptimistic(q,oe)},Ke.useReducer=function(q,oe,Se){return fe.H.useReducer(q,oe,Se)},Ke.useRef=function(q){return fe.H.useRef(q)},Ke.useState=function(q){return fe.H.useState(q)},Ke.useSyncExternalStore=function(q,oe,Se){return fe.H.useSyncExternalStore(q,oe,Se)},Ke.useTransition=function(){return fe.H.useTransition()},Ke.version="19.2.4",Ke}var fv;function Tp(){return fv||(fv=1,fd.exports=iT()),fd.exports}var me=Tp(),hd={exports:{}},Dl={},dd={exports:{}},pd={};var hv;function rT(){return hv||(hv=1,(function(n){function t(re,ge){var Ae=re.length;re.push(ge);e:for(;0<Ae;){var He=Ae-1>>>1,qe=re[He];if(0<l(qe,ge))re[He]=ge,re[Ae]=qe,Ae=He;else break e}}function r(re){return re.length===0?null:re[0]}function a(re){if(re.length===0)return null;var ge=re[0],Ae=re.pop();if(Ae!==ge){re[0]=Ae;e:for(var He=0,qe=re.length,q=qe>>>1;He<q;){var oe=2*(He+1)-1,Se=re[oe],Oe=oe+1,Pe=re[Oe];if(0>l(Se,Ae))Oe<qe&&0>l(Pe,Se)?(re[He]=Pe,re[Oe]=Ae,He=Oe):(re[He]=Se,re[oe]=Ae,He=oe);else if(Oe<qe&&0>l(Pe,Ae))re[He]=Pe,re[Oe]=Ae,He=Oe;else break e}}return ge}function l(re,ge){var Ae=re.sortIndex-ge.sortIndex;return Ae!==0?Ae:re.id-ge.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();n.unstable_now=function(){return f.now()-m}}var y=[],v=[],w=1,T=null,x=3,O=!1,j=!1,D=!1,H=!1,X=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ce(re){for(var ge=r(v);ge!==null;){if(ge.callback===null)a(v);else if(ge.startTime<=re)a(v),ge.sortIndex=ge.expirationTime,t(y,ge);else break;ge=r(v)}}function ne(re){if(D=!1,ce(re),!j)if(r(y)!==null)j=!0,ye||(ye=!0,bt());else{var ge=r(v);ge!==null&&Wt(ne,ge.startTime-re)}}var ye=!1,fe=-1,ie=5,je=-1;function it(){return H?!0:!(n.unstable_now()-je<ie)}function Ot(){if(H=!1,ye){var re=n.unstable_now();je=re;var ge=!0;try{e:{j=!1,D&&(D=!1,ee(fe),fe=-1),O=!0;var Ae=x;try{t:{for(ce(re),T=r(y);T!==null&&!(T.expirationTime>re&&it());){var He=T.callback;if(typeof He=="function"){T.callback=null,x=T.priorityLevel;var qe=He(T.expirationTime<=re);if(re=n.unstable_now(),typeof qe=="function"){T.callback=qe,ce(re),ge=!0;break t}T===r(y)&&a(y),ce(re)}else a(y);T=r(y)}if(T!==null)ge=!0;else{var q=r(v);q!==null&&Wt(ne,q.startTime-re),ge=!1}}break e}finally{T=null,x=Ae,O=!1}ge=void 0}}finally{ge?bt():ye=!1}}}var bt;if(typeof F=="function")bt=function(){F(Ot)};else if(typeof MessageChannel<"u"){var Yt=new MessageChannel,jn=Yt.port2;Yt.port1.onmessage=Ot,bt=function(){jn.postMessage(null)}}else bt=function(){X(Ot,0)};function Wt(re,ge){fe=X(function(){re(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(re){switch(x){case 1:case 2:case 3:var ge=3;break;default:ge=x}var Ae=x;x=ge;try{return re()}finally{x=Ae}},n.unstable_requestPaint=function(){H=!0},n.unstable_runWithPriority=function(re,ge){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var Ae=x;x=re;try{return ge()}finally{x=Ae}},n.unstable_scheduleCallback=function(re,ge,Ae){var He=n.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?He+Ae:He):Ae=He,re){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=Ae+qe,re={id:w++,callback:ge,priorityLevel:re,startTime:Ae,expirationTime:qe,sortIndex:-1},Ae>He?(re.sortIndex=Ae,t(v,re),r(y)===null&&re===r(v)&&(D?(ee(fe),fe=-1):D=!0,Wt(ne,Ae-He))):(re.sortIndex=qe,t(y,re),j||O||(j=!0,ye||(ye=!0,bt()))),re},n.unstable_shouldYield=it,n.unstable_wrapCallback=function(re){var ge=x;return function(){var Ae=x;x=ge;try{return re.apply(this,arguments)}finally{x=Ae}}}})(pd)),pd}var dv;function sT(){return dv||(dv=1,dd.exports=rT()),dd.exports}var md={exports:{}},_n={};var pv;function aT(){if(pv)return _n;pv=1;var n=Tp();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,v,w){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:y,containerInfo:v,implementation:w}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,_n.createPortal=function(y,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(y,v,null,w)},_n.flushSync=function(y){var v=f.T,w=a.p;try{if(f.T=null,a.p=2,y)return y()}finally{f.T=v,a.p=w,a.d.f()}},_n.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(y,v))},_n.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},_n.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var w=v.as,T=m(w,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,O=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?a.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:O}):w==="script"&&a.d.X(y,{crossOrigin:T,integrity:x,fetchPriority:O,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},_n.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=m(v.as,v.crossOrigin);a.d.M(y,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(y)},_n.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,T=m(w,v.crossOrigin);a.d.L(y,w,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},_n.preloadModule=function(y,v){if(typeof y=="string")if(v){var w=m(v.as,v.crossOrigin);a.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(y)},_n.requestFormReset=function(y){a.d.r(y)},_n.unstable_batchedUpdates=function(y,v){return y(v)},_n.useFormState=function(y,v,w){return f.H.useFormState(y,v,w)},_n.useFormStatus=function(){return f.H.useHostTransitionStatus()},_n.version="19.2.4",_n}var mv;function oT(){if(mv)return md.exports;mv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),md.exports=aT(),md.exports}var yv;function lT(){if(yv)return Dl;yv=1;var n=sT(),t=Tp(),r=oT();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(a(188))}function v(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(a(188));return i!==e?null:e}for(var s=e,o=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return y(h),e;if(d===o)return y(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=d;else{for(var _=!1,A=h.child;A;){if(A===s){_=!0,s=h,o=d;break}if(A===o){_=!0,o=h,s=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===s){_=!0,s=d,o=h;break}if(A===o){_=!0,o=d,s=h;break}A=A.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:i}function w(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=w(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,x=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),je=Symbol.for("react.activity"),it=Symbol.for("react.memo_cache_sentinel"),Ot=Symbol.iterator;function bt(e){return e===null||typeof e!="object"?null:(e=Ot&&e[Ot]||e["@@iterator"],typeof e=="function"?e:null)}var Yt=Symbol.for("react.client.reference");function jn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Yt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case X:return"Profiler";case H:return"StrictMode";case ne:return"Suspense";case ye:return"SuspenseList";case je:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case F:return e.displayName||"Context";case ee:return(e._context.displayName||"Context")+".Consumer";case ce:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fe:return i=e.displayName||null,i!==null?i:jn(e.type)||"Memo";case ie:i=e._payload,e=e._init;try{return jn(e(i))}catch{}}return null}var Wt=Array.isArray,re=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},He=[],qe=-1;function q(e){return{current:e}}function oe(e){0>qe||(e.current=He[qe],He[qe]=null,qe--)}function Se(e,i){qe++,He[qe]=e.current,e.current=i}var Oe=q(null),Pe=q(null),Ge=q(null),Je=q(null);function Ft(e,i){switch(Se(Ge,i),Se(Pe,e),Se(Oe,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?kg(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=kg(i),e=Dg(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}oe(Oe),Se(Oe,e)}function Rt(){oe(Oe),oe(Pe),oe(Ge)}function De(e){e.memoizedState!==null&&Se(Je,e);var i=Oe.current,s=Dg(i,e.type);i!==s&&(Se(Pe,e),Se(Oe,s))}function ys(e){Pe.current===e&&(oe(Oe),oe(Pe)),Je.current===e&&(oe(Je),Ol._currentValue=Ae)}var rt,Tr;function Ii(e){if(rt===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);rt=i&&i[1]||"",Tr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+e+Tr}var ui=!1;function Ro(e,i){if(!e||ui)return"";ui=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var Z=te}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(te){Z=te}e.call(ue.prototype)}}else{try{throw Error()}catch(te){Z=te}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var k=_.split(`
`),Q=A.split(`
`);for(h=o=0;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;for(;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;if(o===k.length||h===Q.length)for(o=k.length-1,h=Q.length-1;1<=o&&0<=h&&k[o]!==Q[h];)h--;for(;1<=o&&0<=h;o--,h--)if(k[o]!==Q[h]){if(o!==1||h!==1)do if(o--,h--,0>h||k[o]!==Q[h]){var ae=`
`+k[o].replace(" at new "," at ");return e.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",e.displayName)),ae}while(1<=o&&0<=h);break}}}finally{ui=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ii(s):""}function yf(e,i){switch(e.tag){case 26:case 27:case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return e.child!==i&&i!==null?Ii("Suspense Fallback"):Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return Ro(e.type,!1);case 11:return Ro(e.type.render,!1);case 1:return Ro(e.type,!0);case 31:return Ii("Activity");default:return""}}function fu(e){try{var i="",s=null;do i+=yf(e,s),s=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var jo=Object.prototype.hasOwnProperty,gs=n.unstable_scheduleCallback,kn=n.unstable_cancelCallback,hu=n.unstable_shouldYield,vs=n.unstable_requestPaint,pn=n.unstable_now,bs=n.unstable_getCurrentPriorityLevel,mn=n.unstable_ImmediatePriority,Ti=n.unstable_UserBlockingPriority,Er=n.unstable_NormalPriority,_s=n.unstable_LowPriority,ca=n.unstable_IdlePriority,fa=n.log,Ki=n.unstable_setDisableYieldValue,Ei=null,rn=null;function sn(e){if(typeof fa=="function"&&Ki(e),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(Ei,e)}catch{}}var Te=Math.clz32?Math.clz32:ha,ws=Math.log,Hi=Math.LN2;function ha(e){return e>>>=0,e===0?32:31-(ws(e)/Hi|0)|0}var _e=256,xr=262144,Ss=4194304;function ci(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ts(e,i,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var A=o&134217727;return A!==0?(o=A&~d,o!==0?h=ci(o):(_&=A,_!==0?h=ci(_):s||(s=A&~e,s!==0&&(h=ci(s))))):(A=o&~d,A!==0?h=ci(A):_!==0?h=ci(_):s||(s=o&~e,s!==0&&(h=ci(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function Gi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function gf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var e=Ss;return Ss<<=1,(Ss&62914560)===0&&(Ss=4194304),e}function xi(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function Xn(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ko(e,i,s,o,h,d){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var A=e.entanglements,k=e.expirationTimes,Q=e.hiddenUpdates;for(s=_&~s;0<s;){var ae=31-Te(s),ue=1<<ae;A[ae]=0,k[ae]=-1;var Z=Q[ae];if(Z!==null)for(Q[ae]=null,ae=0;ae<Z.length;ae++){var te=Z[ae];te!==null&&(te.lane&=-536870913)}s&=~ue}o!==0&&Es(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Es(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Te(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function gt(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var o=31-Te(s),h=1<<o;h&i|e[o]&i&&(e[o]|=i),s&=~h}}function Ut(e,i){var s=i&-i;return s=(s&42)!==0?1:Do(s),(s&(e.suspendedLanes|i))!==0?0:s}function Do(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ar(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xs(){var e=ge.p;return e!==0?e:(e=window.event,e===void 0?32:tv(e.type))}function As(e,i){var s=ge.p;try{return ge.p=e,i()}finally{ge.p=s}}var Ai=Math.random().toString(36).slice(2),_t="__reactFiber$"+Ai,Bt="__reactProps$"+Ai,En="__reactContainer$"+Ai,Or="__reactEvents$"+Ai,vf="__reactListeners$"+Ai,Oi="__reactHandles$"+Ai,Mo="__reactResources$"+Ai,zn="__reactMarker$"+Ai;function da(e){delete e[_t],delete e[Bt],delete e[Or],delete e[vf],delete e[Oi]}function Ci(e){var i=e[_t];if(i)return i;for(var s=e.parentNode;s;){if(i=s[En]||s[_t]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Vg(e);e!==null;){if(s=e[_t])return s;e=Vg(e)}return i}e=s,s=e.parentNode}return null}function ht(e){if(e=e[_t]||e[En]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Vn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function yn(e){var i=e[Mo];return i||(i=e[Mo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Lt(e){e[zn]=!0}var $i=new Set,Os={};function fi(e,i){Ri(e,i),Ri(e+"Capture",i)}function Ri(e,i){for(Os[e]=i,e=0;e<i.length;e++)$i.add(i[e])}var Yi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Cs={};function pu(e){return jo.call(Cs,e)?!0:jo.call(No,e)?!1:Yi.test(e)?Cs[e]=!0:(No[e]=!0,!1)}function Fe(e,i,s){if(pu(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function Rs(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function Jn(e,i,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+o)}}function an(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function mu(e,i,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){s=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function pa(e){if(!e._valueTracker){var i=Cr(e)?"checked":"value";e._valueTracker=mu(e,i,""+e[i])}}function Uo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return e&&(o=Cr(e)?e.checked?"true":"false":e.value),e=o,e!==s?(i.setValue(e),!0):!1}function ot(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var js=/[\n"\\]/g;function Zt(e){return e.replace(js,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ji(e,i,s,o,h,d,_,A){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+an(i)):e.value!==""+an(i)&&(e.value=""+an(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?ks(e,_,an(i)):s!=null?ks(e,_,an(s)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+an(A):e.removeAttribute("name")}function ma(e,i,s,o,h,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){pa(e);return}s=s!=null?""+an(s):"",i=i!=null?""+an(i):s,A||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=A?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),pa(e)}function ks(e,i,s){i==="number"&&ot(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function hi(e,i,s,o){if(e=e.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=i.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+an(s),i=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Bo(e,i,s){if(i!=null&&(i=""+an(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+an(s):""}function Ds(e,i,s,o){if(i==null){if(o!=null){if(s!=null)throw Error(a(92));if(Wt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),i=s}s=an(i),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),pa(e)}function Fi(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var bf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tt(e,i,s){var o=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,s):typeof s!="number"||s===0||bf.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function Lo(e,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&s[h]!==o&&tt(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&tt(e,d,i[d])}function zo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _f=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function di(e){return xn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dn(){}var Qn=null;function ya(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xi=null,Tt=null;function Pn(e){var i=ht(e);if(i&&(e=i.stateNode)){var s=e[Bt]||null;e:switch(e=i.stateNode,i.type){case"input":if(ji(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Zt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==e&&o.form===e.form){var h=o[Bt]||null;if(!h)throw Error(a(90));ji(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)o=s[i],o.form===e.form&&Uo(o)}break e;case"textarea":Bo(e,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&hi(e,!!s.multiple,i,!1)}}}var Ji=!1;function Rr(e,i,s){if(Ji)return e(i,s);Ji=!0;try{var o=e(i);return o}finally{if(Ji=!1,(Xi!==null||Tt!==null)&&(rc(),Xi&&(i=Xi,e=Tt,Tt=Xi=null,Pn(i),e)))for(i=0;i<e.length;i++)Pn(e[i])}}function Qi(e,i){var s=e.stateNode;if(s===null)return null;var o=s[Bt]||null;if(o===null)return null;s=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vo=!1;if(en)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){Vo=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{Vo=!1}var Wn=null,ga=null,jr=null;function kr(){if(jr)return jr;var e,i=ga,s=i.length,o,h="value"in Wn?Wn.value:Wn.textContent,d=h.length;for(e=0;e<s&&i[e]===h[e];e++);var _=s-e;for(o=1;o<=_&&i[s-o]===h[d-o];o++);return jr=h.slice(e,1<o?1-o:void 0)}function Dr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ms(){return!0}function yu(){return!1}function Pt(e){function i(s,o,h,d,_){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(s=e[A],this[A]=s?s(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ms:yu,this.isPropagationStopped=yu,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),i}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=Pt(Wi),ki=T({},Wi,{view:0,detail:0}),ba=Pt(ki),Ns,Po,Us,_a=T({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Us&&(Us&&e.type==="mousemove"?(Ns=e.screenX-Us.screenX,Po=e.screenY-Us.screenY):Po=Ns=0,Us=e),Ns)},movementY:function(e){return"movementY"in e?e.movementY:Po}}),wa=Pt(_a),qo=T({},_a,{dataTransfer:0}),gu=Pt(qo),Sa=T({},ki,{relatedTarget:0}),Mr=Pt(Sa),Ta=T({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=Pt(Ta),wf=T({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nr=Pt(wf),Io=T({},Wi,{data:0}),Ea=Pt(Io),Ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ho={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bs(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=tn[e])?!!i[e]:!1}function Zi(){return Bs}var bu=T({},ki,{key:function(e){if(e.key){var i=Ko[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ho[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zi,charCode:function(e){return e.type==="keypress"?Dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xa=Pt(bu),_u=T({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=Pt(_u),Aa=T({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zi}),$o=Pt(Aa),er=T({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yo=Pt(er),Fo=T({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Oa=Pt(Fo),Xo=T({},Wi,{newState:0,oldState:0}),wu=Pt(Xo),Sf=[9,13,27,32],Ls=en&&"CompositionEvent"in window,Di=null;en&&"documentMode"in document&&(Di=document.documentMode);var Tf=en&&"TextEvent"in window&&!Di,Ca=en&&(!Ls||Di&&8<Di&&11>=Di),Ra=" ",Su=!1;function Jo(e,i){switch(e){case"keyup":return Sf.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tr=!1;function Eu(e,i){switch(e){case"compositionend":return Tu(i);case"keypress":return i.which!==32?null:(Su=!0,Ra);case"textInput":return e=i.data,e===Ra&&Su?null:e;default:return null}}function Ef(e,i){if(tr)return e==="compositionend"||!Ls&&Jo(e,i)?(e=kr(),jr=ga=Wn=null,tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ca&&i.locale!=="ko"?null:i.data;default:return null}}var xu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ja(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!xu[e.type]:i==="textarea"}function Qo(e,i,s,o){Xi?Tt?Tt.push(o):Tt=[o]:Xi=o,i=fc(i,"onChange"),0<i.length&&(s=new va("onChange","change",null,s,o),e.push({event:s,listeners:i}))}var Ur=null,zs=null;function xf(e){xg(e,0)}function ka(e){var i=Vn(e);if(Uo(i))return e}function Vs(e,i){if(e==="change")return i}var Zn=!1;if(en){var Et;if(en){var Br="oninput"in document;if(!Br){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),Br=typeof nr.oninput=="function"}Et=Br}else Et=!1;Zn=Et&&(!document.documentMode||9<document.documentMode)}function Au(){Ur&&(Ur.detachEvent("onpropertychange",Da),zs=Ur=null)}function Da(e){if(e.propertyName==="value"&&ka(zs)){var i=[];Qo(i,zs,e,ya(e)),Rr(xf,i)}}function Ou(e,i,s){e==="focusin"?(Au(),Ur=i,zs=s,Ur.attachEvent("onpropertychange",Da)):e==="focusout"&&Au()}function ir(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ka(zs)}function Wo(e,i){if(e==="click")return ka(i)}function Lr(e,i){if(e==="input"||e==="change")return ka(i)}function Mi(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var vn=typeof Object.is=="function"?Object.is:Mi;function c(e,i){if(vn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!jo.call(i,h)||!vn(e[h],i[h]))return!1}return!0}function p(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function g(e,i){var s=p(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=i&&o>=i)return{node:s,offset:i-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=p(s)}}function b(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?b(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function S(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ot(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=ot(e.document)}return i}function E(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var C=en&&"documentMode"in document&&11>=document.documentMode,R=null,N=null,G=null,U=!1;function M(e,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;U||R==null||R!==ot(o)||(o=R,"selectionStart"in o&&E(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),G&&c(G,o)||(G=o,o=fc(N,"onSelect"),0<o.length&&(i=new va("onSelect","select",null,i,s),e.push({event:i,listeners:o}),i.target=R)))}function z(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var P={animationend:z("Animation","AnimationEnd"),animationiteration:z("Animation","AnimationIteration"),animationstart:z("Animation","AnimationStart"),transitionrun:z("Transition","TransitionRun"),transitionstart:z("Transition","TransitionStart"),transitioncancel:z("Transition","TransitionCancel"),transitionend:z("Transition","TransitionEnd")},B={},L={};en&&(L=document.createElement("div").style,"AnimationEvent"in window||(delete P.animationend.animation,delete P.animationiteration.animation,delete P.animationstart.animation),"TransitionEvent"in window||delete P.transitionend.transition);function Y(e){if(B[e])return B[e];if(!P[e])return e;var i=P[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in L)return B[e]=i[s];return e}var W=Y("animationend"),$=Y("animationiteration"),se=Y("animationstart"),he=Y("transitionrun"),ve=Y("transitionstart"),be=Y("transitioncancel"),de=Y("transitionend"),Ee=new Map,we="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");we.push("scrollEnd");function pe(e,i){Ee.set(e,i),fi(i,[e])}var xe=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ve=[],Xe=0,Ne=0;function Ie(){for(var e=Xe,i=Ne=Xe=0;i<e;){var s=Ve[i];Ve[i++]=null;var o=Ve[i];Ve[i++]=null;var h=Ve[i];Ve[i++]=null;var d=Ve[i];if(Ve[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&Ni(s,h,d)}}function dt(e,i,s,o){Ve[Xe++]=e,Ve[Xe++]=i,Ve[Xe++]=s,Ve[Xe++]=o,Ne|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function bn(e,i,s,o){return dt(e,i,s,o),zr(e)}function ut(e,i){return dt(e,null,null,i),zr(e)}function Ni(e,i,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Te(s),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=s|536870912),d):null}function zr(e){if(50<_l)throw _l=0,Nh=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ma={};function Bw(e,i,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(e,i,s,o){return new Bw(e,i,s,o)}function Af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rr(e,i){var s=e.alternate;return s===null?(s=qn(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function om(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Cu(e,i,s,o,h,d){var _=0;if(o=e,typeof e=="function")Af(e)&&(_=1);else if(typeof e=="string")_=qS(e,s,Oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case je:return e=qn(31,s,i,h),e.elementType=je,e.lanes=d,e;case D:return Ps(s.children,h,d,i);case H:_=8,h|=24;break;case X:return e=qn(12,s,i,h|2),e.elementType=X,e.lanes=d,e;case ne:return e=qn(13,s,i,h),e.elementType=ne,e.lanes=d,e;case ye:return e=qn(19,s,i,h),e.elementType=ye,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:_=10;break e;case ee:_=9;break e;case ce:_=11;break e;case fe:_=14;break e;case ie:_=16,o=null;break e}_=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return i=qn(_,s,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function Ps(e,i,s,o){return e=qn(7,e,o,i),e.lanes=s,e}function Of(e,i,s){return e=qn(6,e,null,i),e.lanes=s,e}function lm(e){var i=qn(18,null,null,0);return i.stateNode=e,i}function Cf(e,i,s){return i=qn(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var um=new WeakMap;function ei(e,i){if(typeof e=="object"&&e!==null){var s=um.get(e);return s!==void 0?s:(i={value:e,source:i,stack:fu(i)},um.set(e,i),i)}return{value:e,source:i,stack:fu(i)}}var Na=[],Ua=0,Ru=null,Zo=0,ti=[],ni=0,Vr=null,Ui=1,Bi="";function sr(e,i){Na[Ua++]=Zo,Na[Ua++]=Ru,Ru=e,Zo=i}function cm(e,i,s){ti[ni++]=Ui,ti[ni++]=Bi,ti[ni++]=Vr,Vr=e;var o=Ui;e=Bi;var h=32-Te(o)-1;o&=~(1<<h),s+=1;var d=32-Te(i)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ui=1<<32-Te(i)+h|s<<h|o,Bi=d+e}else Ui=1<<d|s<<h|o,Bi=e}function Rf(e){e.return!==null&&(sr(e,1),cm(e,1,0))}function jf(e){for(;e===Ru;)Ru=Na[--Ua],Na[Ua]=null,Zo=Na[--Ua],Na[Ua]=null;for(;e===Vr;)Vr=ti[--ni],ti[ni]=null,Bi=ti[--ni],ti[ni]=null,Ui=ti[--ni],ti[ni]=null}function fm(e,i){ti[ni++]=Ui,ti[ni++]=Bi,ti[ni++]=Vr,Ui=i.id,Bi=i.overflow,Vr=e}var on=null,xt=null,nt=!1,Pr=null,ii=!1,kf=Error(a(519));function qr(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(ei(i,e)),kf}function hm(e){var i=e.stateNode,s=e.type,o=e.memoizedProps;switch(i[_t]=e,i[Bt]=o,s){case"dialog":We("cancel",i),We("close",i);break;case"iframe":case"object":case"embed":We("load",i);break;case"video":case"audio":for(s=0;s<Sl.length;s++)We(Sl[s],i);break;case"source":We("error",i);break;case"img":case"image":case"link":We("error",i),We("load",i);break;case"details":We("toggle",i);break;case"input":We("invalid",i),ma(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":We("invalid",i);break;case"textarea":We("invalid",i),Ds(i,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||o.suppressHydrationWarning===!0||Rg(i.textContent,s)?(o.popover!=null&&(We("beforetoggle",i),We("toggle",i)),o.onScroll!=null&&We("scroll",i),o.onScrollEnd!=null&&We("scrollend",i),o.onClick!=null&&(i.onclick=Dn),i=!0):i=!1,i||qr(e,!0)}function dm(e){for(on=e.return;on;)switch(on.tag){case 5:case 31:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:on=on.return}}function Ba(e){if(e!==on)return!1;if(!nt)return dm(e),nt=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Xh(e.type,e.memoizedProps)),s=!s),s&&xt&&qr(e),dm(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));xt=zg(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));xt=zg(e)}else i===27?(i=xt,ts(e.type)?(e=ed,ed=null,xt=e):xt=i):xt=on?si(e.stateNode.nextSibling):null;return!0}function qs(){xt=on=null,nt=!1}function Df(){var e=Pr;return e!==null&&(Bn===null?Bn=e:Bn.push.apply(Bn,e),Pr=null),e}function el(e){Pr===null?Pr=[e]:Pr.push(e)}var Mf=q(null),Is=null,ar=null;function Ir(e,i,s){Se(Mf,i._currentValue),i._currentValue=s}function or(e){e._currentValue=Mf.current,oe(Mf)}function Nf(e,i,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===s)break;e=e.return}}function Uf(e,i,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var k=0;k<i.length;k++)if(A.context===i[k]){d.lanes|=s,A=d.alternate,A!==null&&(A.lanes|=s),Nf(d.return,s,e),o||(_=null);break e}d=A.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Nf(_,s,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function La(e,i,s,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var A=h.type;vn(h.pendingProps.value,_.value)||(e!==null?e.push(A):e=[A])}}else if(h===Je.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ol):e=[Ol])}h=h.return}e!==null&&Uf(i,e,s,o),i.flags|=262144}function ju(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ks(e){Is=e,ar=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ln(e){return pm(Is,e)}function ku(e,i){return Is===null&&Ks(e),pm(e,i)}function pm(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},ar===null){if(e===null)throw Error(a(308));ar=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ar=ar.next=i;return s}var Lw=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},zw=n.unstable_scheduleCallback,Vw=n.unstable_NormalPriority,qt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bf(){return{controller:new Lw,data:new Map,refCount:0}}function tl(e){e.refCount--,e.refCount===0&&zw(Vw,function(){e.controller.abort()})}var nl=null,Lf=0,za=0,Va=null;function Pw(e,i){if(nl===null){var s=nl=[];Lf=0,za=Ph(),Va={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Lf++,i.then(mm,mm),i}function mm(){if(--Lf===0&&nl!==null){Va!==null&&(Va.status="fulfilled");var e=nl;nl=null,za=0,Va=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function qw(e,i){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var ym=re.S;re.S=function(e,i){Zy=pn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Pw(e,i),ym!==null&&ym(e,i)};var Hs=q(null);function zf(){var e=Hs.current;return e!==null?e:vt.pooledCache}function Du(e,i){i===null?Se(Hs,Hs.current):Se(Hs,i.pool)}function gm(){var e=zf();return e===null?null:{parent:qt._currentValue,pool:e}}var Pa=Error(a(460)),Vf=Error(a(474)),Mu=Error(a(542)),Nu={then:function(){}};function vm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bm(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(Dn,Dn),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,wm(e),e;default:if(typeof i.status=="string")i.then(Dn,Dn);else{if(e=vt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,wm(e),e}throw $s=i,Pa}}function Gs(e){try{var i=e._init;return i(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?($s=s,Pa):s}}var $s=null;function _m(){if($s===null)throw Error(a(459));var e=$s;return $s=null,e}function wm(e){if(e===Pa||e===Mu)throw Error(a(483))}var qa=null,il=0;function Uu(e){var i=il;return il+=1,qa===null&&(qa=[]),bm(qa,e,i)}function rl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Bu(e,i){throw i.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Sm(e){function i(K,V){if(e){var J=K.deletions;J===null?(K.deletions=[V],K.flags|=16):J.push(V)}}function s(K,V){if(!e)return null;for(;V!==null;)i(K,V),V=V.sibling;return null}function o(K){for(var V=new Map;K!==null;)K.key!==null?V.set(K.key,K):V.set(K.index,K),K=K.sibling;return V}function h(K,V){return K=rr(K,V),K.index=0,K.sibling=null,K}function d(K,V,J){return K.index=J,e?(J=K.alternate,J!==null?(J=J.index,J<V?(K.flags|=67108866,V):J):(K.flags|=67108866,V)):(K.flags|=1048576,V)}function _(K){return e&&K.alternate===null&&(K.flags|=67108866),K}function A(K,V,J,le){return V===null||V.tag!==6?(V=Of(J,K.mode,le),V.return=K,V):(V=h(V,J),V.return=K,V)}function k(K,V,J,le){var Ue=J.type;return Ue===D?ae(K,V,J.props.children,le,J.key):V!==null&&(V.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===ie&&Gs(Ue)===V.type)?(V=h(V,J.props),rl(V,J),V.return=K,V):(V=Cu(J.type,J.key,J.props,null,K.mode,le),rl(V,J),V.return=K,V)}function Q(K,V,J,le){return V===null||V.tag!==4||V.stateNode.containerInfo!==J.containerInfo||V.stateNode.implementation!==J.implementation?(V=Cf(J,K.mode,le),V.return=K,V):(V=h(V,J.children||[]),V.return=K,V)}function ae(K,V,J,le,Ue){return V===null||V.tag!==7?(V=Ps(J,K.mode,le,Ue),V.return=K,V):(V=h(V,J),V.return=K,V)}function ue(K,V,J){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Of(""+V,K.mode,J),V.return=K,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case O:return J=Cu(V.type,V.key,V.props,null,K.mode,J),rl(J,V),J.return=K,J;case j:return V=Cf(V,K.mode,J),V.return=K,V;case ie:return V=Gs(V),ue(K,V,J)}if(Wt(V)||bt(V))return V=Ps(V,K.mode,J,null),V.return=K,V;if(typeof V.then=="function")return ue(K,Uu(V),J);if(V.$$typeof===F)return ue(K,ku(K,V),J);Bu(K,V)}return null}function Z(K,V,J,le){var Ue=V!==null?V.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ue!==null?null:A(K,V,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return J.key===Ue?k(K,V,J,le):null;case j:return J.key===Ue?Q(K,V,J,le):null;case ie:return J=Gs(J),Z(K,V,J,le)}if(Wt(J)||bt(J))return Ue!==null?null:ae(K,V,J,le,null);if(typeof J.then=="function")return Z(K,V,Uu(J),le);if(J.$$typeof===F)return Z(K,V,ku(K,J),le);Bu(K,J)}return null}function te(K,V,J,le,Ue){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return K=K.get(J)||null,A(V,K,""+le,Ue);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case O:return K=K.get(le.key===null?J:le.key)||null,k(V,K,le,Ue);case j:return K=K.get(le.key===null?J:le.key)||null,Q(V,K,le,Ue);case ie:return le=Gs(le),te(K,V,J,le,Ue)}if(Wt(le)||bt(le))return K=K.get(J)||null,ae(V,K,le,Ue,null);if(typeof le.then=="function")return te(K,V,J,Uu(le),Ue);if(le.$$typeof===F)return te(K,V,J,ku(V,le),Ue);Bu(V,le)}return null}function Ce(K,V,J,le){for(var Ue=null,st=null,ke=V,Ye=V=0,et=null;ke!==null&&Ye<J.length;Ye++){ke.index>Ye?(et=ke,ke=null):et=ke.sibling;var at=Z(K,ke,J[Ye],le);if(at===null){ke===null&&(ke=et);break}e&&ke&&at.alternate===null&&i(K,ke),V=d(at,V,Ye),st===null?Ue=at:st.sibling=at,st=at,ke=et}if(Ye===J.length)return s(K,ke),nt&&sr(K,Ye),Ue;if(ke===null){for(;Ye<J.length;Ye++)ke=ue(K,J[Ye],le),ke!==null&&(V=d(ke,V,Ye),st===null?Ue=ke:st.sibling=ke,st=ke);return nt&&sr(K,Ye),Ue}for(ke=o(ke);Ye<J.length;Ye++)et=te(ke,K,Ye,J[Ye],le),et!==null&&(e&&et.alternate!==null&&ke.delete(et.key===null?Ye:et.key),V=d(et,V,Ye),st===null?Ue=et:st.sibling=et,st=et);return e&&ke.forEach(function(as){return i(K,as)}),nt&&sr(K,Ye),Ue}function Be(K,V,J,le){if(J==null)throw Error(a(151));for(var Ue=null,st=null,ke=V,Ye=V=0,et=null,at=J.next();ke!==null&&!at.done;Ye++,at=J.next()){ke.index>Ye?(et=ke,ke=null):et=ke.sibling;var as=Z(K,ke,at.value,le);if(as===null){ke===null&&(ke=et);break}e&&ke&&as.alternate===null&&i(K,ke),V=d(as,V,Ye),st===null?Ue=as:st.sibling=as,st=as,ke=et}if(at.done)return s(K,ke),nt&&sr(K,Ye),Ue;if(ke===null){for(;!at.done;Ye++,at=J.next())at=ue(K,at.value,le),at!==null&&(V=d(at,V,Ye),st===null?Ue=at:st.sibling=at,st=at);return nt&&sr(K,Ye),Ue}for(ke=o(ke);!at.done;Ye++,at=J.next())at=te(ke,K,Ye,at.value,le),at!==null&&(e&&at.alternate!==null&&ke.delete(at.key===null?Ye:at.key),V=d(at,V,Ye),st===null?Ue=at:st.sibling=at,st=at);return e&&ke.forEach(function(WS){return i(K,WS)}),nt&&sr(K,Ye),Ue}function yt(K,V,J,le){if(typeof J=="object"&&J!==null&&J.type===D&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case O:e:{for(var Ue=J.key;V!==null;){if(V.key===Ue){if(Ue=J.type,Ue===D){if(V.tag===7){s(K,V.sibling),le=h(V,J.props.children),le.return=K,K=le;break e}}else if(V.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===ie&&Gs(Ue)===V.type){s(K,V.sibling),le=h(V,J.props),rl(le,J),le.return=K,K=le;break e}s(K,V);break}else i(K,V);V=V.sibling}J.type===D?(le=Ps(J.props.children,K.mode,le,J.key),le.return=K,K=le):(le=Cu(J.type,J.key,J.props,null,K.mode,le),rl(le,J),le.return=K,K=le)}return _(K);case j:e:{for(Ue=J.key;V!==null;){if(V.key===Ue)if(V.tag===4&&V.stateNode.containerInfo===J.containerInfo&&V.stateNode.implementation===J.implementation){s(K,V.sibling),le=h(V,J.children||[]),le.return=K,K=le;break e}else{s(K,V);break}else i(K,V);V=V.sibling}le=Cf(J,K.mode,le),le.return=K,K=le}return _(K);case ie:return J=Gs(J),yt(K,V,J,le)}if(Wt(J))return Ce(K,V,J,le);if(bt(J)){if(Ue=bt(J),typeof Ue!="function")throw Error(a(150));return J=Ue.call(J),Be(K,V,J,le)}if(typeof J.then=="function")return yt(K,V,Uu(J),le);if(J.$$typeof===F)return yt(K,V,ku(K,J),le);Bu(K,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,V!==null&&V.tag===6?(s(K,V.sibling),le=h(V,J),le.return=K,K=le):(s(K,V),le=Of(J,K.mode,le),le.return=K,K=le),_(K)):s(K,V)}return function(K,V,J,le){try{il=0;var Ue=yt(K,V,J,le);return qa=null,Ue}catch(ke){if(ke===Pa||ke===Mu)throw ke;var st=qn(29,ke,null,K.mode);return st.lanes=le,st.return=K,st}}}var Ys=Sm(!0),Tm=Sm(!1),Kr=!1;function Pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gr(e,i,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(lt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=zr(e),Ni(e,null,s),i}return dt(e,o,i,s),zr(e)}function sl(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,gt(e,s)}}function If(e,i){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var Kf=!1;function al(){if(Kf){var e=Va;if(e!==null)throw e}}function ol(e,i,s,o){Kf=!1;var h=e.updateQueue;Kr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var k=A,Q=k.next;k.next=null,_===null?d=Q:_.next=Q,_=k;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,A=ae.lastBaseUpdate,A!==_&&(A===null?ae.firstBaseUpdate=Q:A.next=Q,ae.lastBaseUpdate=k))}if(d!==null){var ue=h.baseState;_=0,ae=Q=k=null,A=d;do{var Z=A.lane&-536870913,te=Z!==A.lane;if(te?(Ze&Z)===Z:(o&Z)===Z){Z!==0&&Z===za&&(Kf=!0),ae!==null&&(ae=ae.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ce=e,Be=A;Z=i;var yt=s;switch(Be.tag){case 1:if(Ce=Be.payload,typeof Ce=="function"){ue=Ce.call(yt,ue,Z);break e}ue=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Be.payload,Z=typeof Ce=="function"?Ce.call(yt,ue,Z):Ce,Z==null)break e;ue=T({},ue,Z);break e;case 2:Kr=!0}}Z=A.callback,Z!==null&&(e.flags|=64,te&&(e.flags|=8192),te=h.callbacks,te===null?h.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ae===null?(Q=ae=te,k=ue):ae=ae.next=te,_|=Z;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;te=A,A=te.next,te.next=null,h.lastBaseUpdate=te,h.shared.pending=null}}while(!0);ae===null&&(k=ue),h.baseState=k,h.firstBaseUpdate=Q,h.lastBaseUpdate=ae,d===null&&(h.shared.lanes=0),Jr|=_,e.lanes=_,e.memoizedState=ue}}function Em(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function xm(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Em(s[e],i)}var Ia=q(null),Lu=q(0);function Am(e,i){e=yr,Se(Lu,e),Se(Ia,i),yr=e|i.baseLanes}function Hf(){Se(Lu,yr),Se(Ia,Ia.current)}function Gf(){yr=Lu.current,oe(Ia),oe(Lu)}var In=q(null),ri=null;function $r(e){var i=e.alternate;Se(zt,zt.current&1),Se(In,e),ri===null&&(i===null||Ia.current!==null||i.memoizedState!==null)&&(ri=e)}function $f(e){Se(zt,zt.current),Se(In,e),ri===null&&(ri=e)}function Om(e){e.tag===22?(Se(zt,zt.current),Se(In,e),ri===null&&(ri=e)):Yr()}function Yr(){Se(zt,zt.current),Se(In,In.current)}function Kn(e){oe(In),ri===e&&(ri=null),oe(zt)}var zt=q(0);function zu(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Wh(s)||Zh(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var lr=0,$e=null,pt=null,It=null,Vu=!1,Ka=!1,Fs=!1,Pu=0,ll=0,Ha=null,Iw=0;function kt(){throw Error(a(321))}function Yf(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!vn(e[s],i[s]))return!1;return!0}function Ff(e,i,s,o,h,d){return lr=d,$e=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,re.H=e===null||e.memoizedState===null?cy:uh,Fs=!1,d=s(o,h),Fs=!1,Ka&&(d=Rm(i,s,o,h)),Cm(e),d}function Cm(e){re.H=fl;var i=pt!==null&&pt.next!==null;if(lr=0,It=pt=$e=null,Vu=!1,ll=0,Ha=null,i)throw Error(a(300));e===null||Kt||(e=e.dependencies,e!==null&&ju(e)&&(Kt=!0))}function Rm(e,i,s,o){$e=e;var h=0;do{if(Ka&&(Ha=null),ll=0,Ka=!1,25<=h)throw Error(a(301));if(h+=1,It=pt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}re.H=fy,d=i(s,o)}while(Ka);return d}function Kw(){var e=re.H,i=e.useState()[0];return i=typeof i.then=="function"?ul(i):i,e=e.useState()[0],(pt!==null?pt.memoizedState:null)!==e&&($e.flags|=1024),i}function Xf(){var e=Pu!==0;return Pu=0,e}function Jf(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function Qf(e){if(Vu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Vu=!1}lr=0,It=pt=$e=null,Ka=!1,ll=Pu=0,Ha=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?$e.memoizedState=It=e:It=It.next=e,It}function Vt(){if(pt===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var i=It===null?$e.memoizedState:It.next;if(i!==null)It=i,pt=e;else{if(e===null)throw $e.alternate===null?Error(a(467)):Error(a(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},It===null?$e.memoizedState=It=e:It=It.next=e}return It}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(e){var i=ll;return ll+=1,Ha===null&&(Ha=[]),e=bm(Ha,e,i),i=$e,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,re.H=i===null||i.memoizedState===null?cy:uh),e}function Iu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ul(e);if(e.$$typeof===F)return ln(e)}throw Error(a(438,String(e)))}function Wf(e){var i=null,s=$e.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var o=$e.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=qu(),$e.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),o=0;o<e;o++)s[o]=it;return i.index++,s}function ur(e,i){return typeof i=="function"?i(e):i}function Ku(e){var i=Vt();return Zf(i,pt,e)}function Zf(e,i,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var A=_=null,k=null,Q=i,ae=!1;do{var ue=Q.lane&-536870913;if(ue!==Q.lane?(Ze&ue)===ue:(lr&ue)===ue){var Z=Q.revertLane;if(Z===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ue===za&&(ae=!0);else if((lr&Z)===Z){Q=Q.next,Z===za&&(ae=!0);continue}else ue={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},k===null?(A=k=ue,_=d):k=k.next=ue,$e.lanes|=Z,Jr|=Z;ue=Q.action,Fs&&s(d,ue),d=Q.hasEagerState?Q.eagerState:s(d,ue)}else Z={lane:ue,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},k===null?(A=k=Z,_=d):k=k.next=Z,$e.lanes|=ue,Jr|=ue;Q=Q.next}while(Q!==null&&Q!==i);if(k===null?_=d:k.next=A,!vn(d,e.memoizedState)&&(Kt=!0,ae&&(s=Va,s!==null)))throw s;e.memoizedState=d,e.baseState=_,e.baseQueue=k,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function eh(e){var i=Vt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);vn(d,i.memoizedState)||(Kt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,o]}function jm(e,i,s){var o=$e,h=Vt(),d=nt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var _=!vn((pt||h).memoizedState,s);if(_&&(h.memoizedState=s,Kt=!0),h=h.queue,ih(Mm.bind(null,o,h,e),[e]),h.getSnapshot!==i||_||It!==null&&It.memoizedState.tag&1){if(o.flags|=2048,Ga(9,{destroy:void 0},Dm.bind(null,o,h,s,i),null),vt===null)throw Error(a(349));d||(lr&127)!==0||km(o,i,s)}return s}function km(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=$e.updateQueue,i===null?(i=qu(),$e.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function Dm(e,i,s,o){i.value=s,i.getSnapshot=o,Nm(i)&&Um(e)}function Mm(e,i,s){return s(function(){Nm(i)&&Um(e)})}function Nm(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!vn(e,s)}catch{return!0}}function Um(e){var i=ut(e,2);i!==null&&Ln(i,e,2)}function th(e){var i=An();if(typeof e=="function"){var s=e;if(e=s(),Fs){sn(!0);try{s()}finally{sn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:e},i}function Bm(e,i,s,o){return e.baseState=s,Zf(e,pt,typeof o=="function"?o:ur)}function Hw(e,i,s,o,h){if($u(e))throw Error(a(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};re.T!==null?s(!0):d.isTransition=!1,o(d),s=i.pending,s===null?(d.next=i.pending=d,Lm(i,d)):(d.next=s.next,i.pending=s.next=d)}}function Lm(e,i){var s=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=re.T,_={};re.T=_;try{var A=s(h,o),k=re.S;k!==null&&k(_,A),zm(e,i,A)}catch(Q){nh(e,i,Q)}finally{d!==null&&_.types!==null&&(d.types=_.types),re.T=d}}else try{d=s(h,o),zm(e,i,d)}catch(Q){nh(e,i,Q)}}function zm(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Vm(e,i,o)},function(o){return nh(e,i,o)}):Vm(e,i,s)}function Vm(e,i,s){i.status="fulfilled",i.value=s,Pm(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,Lm(e,s)))}function nh(e,i,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=s,Pm(i),i=i.next;while(i!==o)}e.action=null}function Pm(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function qm(e,i){return i}function Im(e,i){if(nt){var s=vt.formState;if(s!==null){e:{var o=$e;if(nt){if(xt){t:{for(var h=xt,d=ii;h.nodeType!==8;){if(!d){h=null;break t}if(h=si(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){xt=si(h.nextSibling),o=h.data==="F!";break e}}qr(o)}o=!1}o&&(i=s[0])}}return s=An(),s.memoizedState=s.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qm,lastRenderedState:i},s.queue=o,s=oy.bind(null,$e,o),o.dispatch=s,o=th(!1),d=lh.bind(null,$e,!1,o.queue),o=An(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,s=Hw.bind(null,$e,h,d,s),h.dispatch=s,o.memoizedState=e,[i,s,!1]}function Km(e){var i=Vt();return Hm(i,pt,e)}function Hm(e,i,s){if(i=Zf(e,i,qm)[0],e=Ku(ur)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=ul(i)}catch(_){throw _===Pa?Mu:_}else o=i;i=Vt();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&($e.flags|=2048,Ga(9,{destroy:void 0},Gw.bind(null,h,s),null)),[o,d,e]}function Gw(e,i){e.action=i}function Gm(e){var i=Vt(),s=pt;if(s!==null)return Hm(i,s,e);Vt(),i=i.memoizedState,s=Vt();var o=s.queue.dispatch;return s.memoizedState=e,[i,o,!1]}function Ga(e,i,s,o){return e={tag:e,create:s,deps:o,inst:i,next:null},i=$e.updateQueue,i===null&&(i=qu(),$e.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,i.lastEffect=e),e}function $m(){return Vt().memoizedState}function Hu(e,i,s,o){var h=An();$e.flags|=e,h.memoizedState=Ga(1|i,{destroy:void 0},s,o===void 0?null:o)}function Gu(e,i,s,o){var h=Vt();o=o===void 0?null:o;var d=h.memoizedState.inst;pt!==null&&o!==null&&Yf(o,pt.memoizedState.deps)?h.memoizedState=Ga(i,d,s,o):($e.flags|=e,h.memoizedState=Ga(1|i,d,s,o))}function Ym(e,i){Hu(8390656,8,e,i)}function ih(e,i){Gu(2048,8,e,i)}function $w(e){$e.flags|=4;var i=$e.updateQueue;if(i===null)i=qu(),$e.updateQueue=i,i.events=[e];else{var s=i.events;s===null?i.events=[e]:s.push(e)}}function Fm(e){var i=Vt().memoizedState;return $w({ref:i,nextImpl:e}),function(){if((lt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Xm(e,i){return Gu(4,2,e,i)}function Jm(e,i){return Gu(4,4,e,i)}function Qm(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Wm(e,i,s){s=s!=null?s.concat([e]):null,Gu(4,4,Qm.bind(null,i,e),s)}function rh(){}function Zm(e,i){var s=Vt();i=i===void 0?null:i;var o=s.memoizedState;return i!==null&&Yf(i,o[1])?o[0]:(s.memoizedState=[e,i],e)}function ey(e,i){var s=Vt();i=i===void 0?null:i;var o=s.memoizedState;if(i!==null&&Yf(i,o[1]))return o[0];if(o=e(),Fs){sn(!0);try{e()}finally{sn(!1)}}return s.memoizedState=[o,i],o}function sh(e,i,s){return s===void 0||(lr&1073741824)!==0&&(Ze&261930)===0?e.memoizedState=i:(e.memoizedState=s,e=tg(),$e.lanes|=e,Jr|=e,s)}function ty(e,i,s,o){return vn(s,i)?s:Ia.current!==null?(e=sh(e,s,o),vn(e,i)||(Kt=!0),e):(lr&42)===0||(lr&1073741824)!==0&&(Ze&261930)===0?(Kt=!0,e.memoizedState=s):(e=tg(),$e.lanes|=e,Jr|=e,i)}function ny(e,i,s,o,h){var d=ge.p;ge.p=d!==0&&8>d?d:8;var _=re.T,A={};re.T=A,lh(e,!1,i,s);try{var k=h(),Q=re.S;if(Q!==null&&Q(A,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ae=qw(k,o);cl(e,i,ae,$n(e))}else cl(e,i,o,$n(e))}catch(ue){cl(e,i,{then:function(){},status:"rejected",reason:ue},$n())}finally{ge.p=d,_!==null&&A.types!==null&&(_.types=A.types),re.T=_}}function Yw(){}function ah(e,i,s,o){if(e.tag!==5)throw Error(a(476));var h=iy(e).queue;ny(e,h,i,Ae,s===null?Yw:function(){return ry(e),s(o)})}function iy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:Ae},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ry(e){var i=iy(e);i.next===null&&(i=e.alternate.memoizedState),cl(e,i.next.queue,{},$n())}function oh(){return ln(Ol)}function sy(){return Vt().memoizedState}function ay(){return Vt().memoizedState}function Fw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=$n();e=Hr(s);var o=Gr(i,e,s);o!==null&&(Ln(o,i,s),sl(o,i,s)),i={cache:Bf()},e.payload=i;return}i=i.return}}function Xw(e,i,s){var o=$n();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$u(e)?ly(i,s):(s=bn(e,i,s,o),s!==null&&(Ln(s,e,o),uy(s,i,o)))}function oy(e,i,s){var o=$n();cl(e,i,s,o)}function cl(e,i,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if($u(e))ly(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,A=d(_,s);if(h.hasEagerState=!0,h.eagerState=A,vn(A,_))return dt(e,i,h,0),vt===null&&Ie(),!1}catch{}if(s=bn(e,i,h,o),s!==null)return Ln(s,e,o),uy(s,i,o),!0}return!1}function lh(e,i,s,o){if(o={lane:2,revertLane:Ph(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$u(e)){if(i)throw Error(a(479))}else i=bn(e,s,o,2),i!==null&&Ln(i,e,2)}function $u(e){var i=e.alternate;return e===$e||i!==null&&i===$e}function ly(e,i){Ka=Vu=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function uy(e,i,s){if((s&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,gt(e,s)}}var fl={readContext:ln,use:Iu,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};fl.useEffectEvent=kt;var cy={readContext:ln,use:Iu,useCallback:function(e,i){return An().memoizedState=[e,i===void 0?null:i],e},useContext:ln,useEffect:Ym,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,Hu(4194308,4,Qm.bind(null,i,e),s)},useLayoutEffect:function(e,i){return Hu(4194308,4,e,i)},useInsertionEffect:function(e,i){Hu(4,2,e,i)},useMemo:function(e,i){var s=An();i=i===void 0?null:i;var o=e();if(Fs){sn(!0);try{e()}finally{sn(!1)}}return s.memoizedState=[o,i],o},useReducer:function(e,i,s){var o=An();if(s!==void 0){var h=s(i);if(Fs){sn(!0);try{s(i)}finally{sn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Xw.bind(null,$e,e),[o.memoizedState,e]},useRef:function(e){var i=An();return e={current:e},i.memoizedState=e},useState:function(e){e=th(e);var i=e.queue,s=oy.bind(null,$e,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:rh,useDeferredValue:function(e,i){var s=An();return sh(s,e,i)},useTransition:function(){var e=th(!1);return e=ny.bind(null,$e,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var o=$e,h=An();if(nt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),vt===null)throw Error(a(349));(Ze&127)!==0||km(o,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,Ym(Mm.bind(null,o,d,e),[e]),o.flags|=2048,Ga(9,{destroy:void 0},Dm.bind(null,o,d,s,i),null),s},useId:function(){var e=An(),i=vt.identifierPrefix;if(nt){var s=Bi,o=Ui;s=(o&~(1<<32-Te(o)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Pu++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=Iw++,i="_"+i+"r_"+s.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:oh,useFormState:Im,useActionState:Im,useOptimistic:function(e){var i=An();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=lh.bind(null,$e,!0,s),s.dispatch=i,[e,i]},useMemoCache:Wf,useCacheRefresh:function(){return An().memoizedState=Fw.bind(null,$e)},useEffectEvent:function(e){var i=An(),s={impl:e};return i.memoizedState=s,function(){if((lt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},uh={readContext:ln,use:Iu,useCallback:Zm,useContext:ln,useEffect:ih,useImperativeHandle:Wm,useInsertionEffect:Xm,useLayoutEffect:Jm,useMemo:ey,useReducer:Ku,useRef:$m,useState:function(){return Ku(ur)},useDebugValue:rh,useDeferredValue:function(e,i){var s=Vt();return ty(s,pt.memoizedState,e,i)},useTransition:function(){var e=Ku(ur)[0],i=Vt().memoizedState;return[typeof e=="boolean"?e:ul(e),i]},useSyncExternalStore:jm,useId:sy,useHostTransitionStatus:oh,useFormState:Km,useActionState:Km,useOptimistic:function(e,i){var s=Vt();return Bm(s,pt,e,i)},useMemoCache:Wf,useCacheRefresh:ay};uh.useEffectEvent=Fm;var fy={readContext:ln,use:Iu,useCallback:Zm,useContext:ln,useEffect:ih,useImperativeHandle:Wm,useInsertionEffect:Xm,useLayoutEffect:Jm,useMemo:ey,useReducer:eh,useRef:$m,useState:function(){return eh(ur)},useDebugValue:rh,useDeferredValue:function(e,i){var s=Vt();return pt===null?sh(s,e,i):ty(s,pt.memoizedState,e,i)},useTransition:function(){var e=eh(ur)[0],i=Vt().memoizedState;return[typeof e=="boolean"?e:ul(e),i]},useSyncExternalStore:jm,useId:sy,useHostTransitionStatus:oh,useFormState:Gm,useActionState:Gm,useOptimistic:function(e,i){var s=Vt();return pt!==null?Bm(s,pt,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:ay};fy.useEffectEvent=Fm;function ch(e,i,s,o){i=e.memoizedState,s=s(o,i),s=s==null?i:T({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var fh={enqueueSetState:function(e,i,s){e=e._reactInternals;var o=$n(),h=Hr(o);h.payload=i,s!=null&&(h.callback=s),i=Gr(e,h,o),i!==null&&(Ln(i,e,o),sl(i,e,o))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var o=$n(),h=Hr(o);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Gr(e,h,o),i!==null&&(Ln(i,e,o),sl(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=$n(),o=Hr(s);o.tag=2,i!=null&&(o.callback=i),i=Gr(e,o,s),i!==null&&(Ln(i,e,s),sl(i,e,s))}};function hy(e,i,s,o,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,_):i.prototype&&i.prototype.isPureReactComponent?!c(s,o)||!c(h,d):!0}function dy(e,i,s,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==e&&fh.enqueueReplaceState(i,i.state,null)}function Xs(e,i){var s=i;if("ref"in i){s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}if(e=e.defaultProps){s===i&&(s=T({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function py(e){xe(e)}function my(e){console.error(e)}function yy(e){xe(e)}function Yu(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function gy(e,i,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hh(e,i,s){return s=Hr(s),s.tag=3,s.payload={element:null},s.callback=function(){Yu(e,i)},s}function vy(e){return e=Hr(e),e.tag=3,e}function by(e,i,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){gy(i,s,o)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){gy(i,s,o),typeof h!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function Jw(e,i,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=s.alternate,i!==null&&La(i,s,h,!0),s=In.current,s!==null){switch(s.tag){case 31:case 13:return ri===null?sc():s.alternate===null&&Dt===0&&(Dt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Nu?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([o]):i.add(o),Lh(e,o,h)),!1;case 22:return s.flags|=65536,o===Nu?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([o]):s.add(o)),Lh(e,o,h)),!1}throw Error(a(435,s.tag))}return Lh(e,o,h),sc(),!1}if(nt)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==kf&&(e=Error(a(422),{cause:o}),el(ei(e,s)))):(o!==kf&&(i=Error(a(423),{cause:o}),el(ei(i,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=ei(o,s),h=hh(e.stateNode,o,h),If(e,h),Dt!==4&&(Dt=2)),!1;var d=Error(a(520),{cause:o});if(d=ei(d,s),bl===null?bl=[d]:bl.push(d),Dt!==4&&(Dt=2),i===null)return!0;o=ei(o,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=hh(s.stateNode,o,e),If(s,e),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Qr===null||!Qr.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=vy(h),by(h,e,s,o),If(s,h),!1}s=s.return}while(s!==null);return!1}var dh=Error(a(461)),Kt=!1;function un(e,i,s,o){i.child=e===null?Tm(i,null,s,o):Ys(i,e.child,s,o)}function _y(e,i,s,o,h){s=s.render;var d=i.ref;if("ref"in o){var _={};for(var A in o)A!=="ref"&&(_[A]=o[A])}else _=o;return Ks(i),o=Ff(e,i,s,_,d,h),A=Xf(),e!==null&&!Kt?(Jf(e,i,h),cr(e,i,h)):(nt&&A&&Rf(i),i.flags|=1,un(e,i,o,h),i.child)}function wy(e,i,s,o,h){if(e===null){var d=s.type;return typeof d=="function"&&!Af(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Sy(e,i,d,o,h)):(e=Cu(s.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!wh(e,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:c,s(_,o)&&e.ref===i.ref)return cr(e,i,h)}return i.flags|=1,e=rr(d,o),e.ref=i.ref,e.return=i,i.child=e}function Sy(e,i,s,o,h){if(e!==null){var d=e.memoizedProps;if(c(d,o)&&e.ref===i.ref)if(Kt=!1,i.pendingProps=o=d,wh(e,h))(e.flags&131072)!==0&&(Kt=!0);else return i.lanes=e.lanes,cr(e,i,h)}return ph(e,i,s,o,h)}function Ty(e,i,s,o){var h=o.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return Ey(e,i,d,s,o)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(i,d!==null?d.cachePool:null),d!==null?Am(i,d):Hf(),Om(i);else return o=i.lanes=536870912,Ey(e,i,d!==null?d.baseLanes|s:s,s,o)}else d!==null?(Du(i,d.cachePool),Am(i,d),Yr(),i.memoizedState=null):(e!==null&&Du(i,null),Hf(),Yr());return un(e,i,h,s),i.child}function hl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ey(e,i,s,o,h){var d=zf();return d=d===null?null:{parent:qt._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},e!==null&&Du(i,null),Hf(),Om(i),e!==null&&La(e,i,o,!0),i.childLanes=h,null}function Fu(e,i){return i=Ju({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function xy(e,i,s){return Ys(i,e.child,null,s),e=Fu(i,i.pendingProps),e.flags|=2,Kn(i),i.memoizedState=null,e}function Qw(e,i,s){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(nt){if(o.mode==="hidden")return e=Fu(i,o),i.lanes=536870912,hl(null,e);if($f(i),(e=xt)?(e=Lg(e,ii),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Vr!==null?{id:Ui,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},s=lm(e),s.return=i,i.child=s,on=i,xt=null)):e=null,e===null)throw qr(i);return i.lanes=536870912,null}return Fu(i,o)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if($f(i),h)if(i.flags&256)i.flags&=-257,i=xy(e,i,s);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(Kt||La(e,i,s,!1),h=(s&e.childLanes)!==0,Kt||h){if(o=vt,o!==null&&(_=Ut(o,s),_!==0&&_!==d.retryLane))throw d.retryLane=_,ut(e,_),Ln(o,e,_),dh;sc(),i=xy(e,i,s)}else e=d.treeContext,xt=si(_.nextSibling),on=i,nt=!0,Pr=null,ii=!1,e!==null&&fm(i,e),i=Fu(i,o),i.flags|=4096;return i}return e=rr(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Xu(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function ph(e,i,s,o,h){return Ks(i),s=Ff(e,i,s,o,void 0,h),o=Xf(),e!==null&&!Kt?(Jf(e,i,h),cr(e,i,h)):(nt&&o&&Rf(i),i.flags|=1,un(e,i,s,h),i.child)}function Ay(e,i,s,o,h,d){return Ks(i),i.updateQueue=null,s=Rm(i,o,s,h),Cm(e),o=Xf(),e!==null&&!Kt?(Jf(e,i,d),cr(e,i,d)):(nt&&o&&Rf(i),i.flags|=1,un(e,i,s,d),i.child)}function Oy(e,i,s,o,h){if(Ks(i),i.stateNode===null){var d=Ma,_=s.contextType;typeof _=="object"&&_!==null&&(d=ln(_)),d=new s(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fh,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Pf(i),_=s.contextType,d.context=typeof _=="object"&&_!==null?ln(_):Ma,d.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(ch(i,s,_,o),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&fh.enqueueReplaceState(d,d.state,null),ol(i,o,d,h),al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var A=i.memoizedProps,k=Xs(s,A);d.props=k;var Q=d.context,ae=s.contextType;_=Ma,typeof ae=="object"&&ae!==null&&(_=ln(ae));var ue=s.getDerivedStateFromProps;ae=typeof ue=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,ae||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||Q!==_)&&dy(i,d,o,_),Kr=!1;var Z=i.memoizedState;d.state=Z,ol(i,o,d,h),al(),Q=i.memoizedState,A||Z!==Q||Kr?(typeof ue=="function"&&(ch(i,s,ue,o),Q=i.memoizedState),(k=Kr||hy(i,s,k,o,Z,Q,_))?(ae||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=Q),d.props=o,d.state=Q,d.context=_,o=k):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,qf(e,i),_=i.memoizedProps,ae=Xs(s,_),d.props=ae,ue=i.pendingProps,Z=d.context,Q=s.contextType,k=Ma,typeof Q=="object"&&Q!==null&&(k=ln(Q)),A=s.getDerivedStateFromProps,(Q=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ue||Z!==k)&&dy(i,d,o,k),Kr=!1,Z=i.memoizedState,d.state=Z,ol(i,o,d,h),al();var te=i.memoizedState;_!==ue||Z!==te||Kr||e!==null&&e.dependencies!==null&&ju(e.dependencies)?(typeof A=="function"&&(ch(i,s,A,o),te=i.memoizedState),(ae=Kr||hy(i,s,ae,o,Z,te,k)||e!==null&&e.dependencies!==null&&ju(e.dependencies))?(Q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,te,k),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,te,k)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=te),d.props=o,d.state=te,d.context=k,o=ae):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,Xu(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=Ys(i,e.child,null,h),i.child=Ys(i,null,s,h)):un(e,i,s,h),i.memoizedState=d.state,e=i.child):e=cr(e,i,h),e}function Cy(e,i,s,o){return qs(),i.flags|=256,un(e,i,s,o),i.child}var mh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yh(e){return{baseLanes:e,cachePool:gm()}}function gh(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=Gn),e}function Ry(e,i,s){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(zt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(nt){if(h?$r(i):Yr(),(e=xt)?(e=Lg(e,ii),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Vr!==null?{id:Ui,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},s=lm(e),s.return=i,i.child=s,on=i,xt=null)):e=null,e===null)throw qr(i);return Zh(e)?i.lanes=32:i.lanes=536870912,null}var A=o.children;return o=o.fallback,h?(Yr(),h=i.mode,A=Ju({mode:"hidden",children:A},h),o=Ps(o,h,s,null),A.return=i,o.return=i,A.sibling=o,i.child=A,o=i.child,o.memoizedState=yh(s),o.childLanes=gh(e,_,s),i.memoizedState=mh,hl(null,o)):($r(i),vh(i,A))}var k=e.memoizedState;if(k!==null&&(A=k.dehydrated,A!==null)){if(d)i.flags&256?($r(i),i.flags&=-257,i=bh(e,i,s)):i.memoizedState!==null?(Yr(),i.child=e.child,i.flags|=128,i=null):(Yr(),A=o.fallback,h=i.mode,o=Ju({mode:"visible",children:o.children},h),A=Ps(A,h,s,null),A.flags|=2,o.return=i,A.return=i,o.sibling=A,i.child=o,Ys(i,e.child,null,s),o=i.child,o.memoizedState=yh(s),o.childLanes=gh(e,_,s),i.memoizedState=mh,i=hl(null,o));else if($r(i),Zh(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var Q=_.dgst;_=Q,o=Error(a(419)),o.stack="",o.digest=_,el({value:o,source:null,stack:null}),i=bh(e,i,s)}else if(Kt||La(e,i,s,!1),_=(s&e.childLanes)!==0,Kt||_){if(_=vt,_!==null&&(o=Ut(_,s),o!==0&&o!==k.retryLane))throw k.retryLane=o,ut(e,o),Ln(_,e,o),dh;Wh(A)||sc(),i=bh(e,i,s)}else Wh(A)?(i.flags|=192,i.child=e.child,i=null):(e=k.treeContext,xt=si(A.nextSibling),on=i,nt=!0,Pr=null,ii=!1,e!==null&&fm(i,e),i=vh(i,o.children),i.flags|=4096);return i}return h?(Yr(),A=o.fallback,h=i.mode,k=e.child,Q=k.sibling,o=rr(k,{mode:"hidden",children:o.children}),o.subtreeFlags=k.subtreeFlags&65011712,Q!==null?A=rr(Q,A):(A=Ps(A,h,s,null),A.flags|=2),A.return=i,o.return=i,o.sibling=A,i.child=o,hl(null,o),o=i.child,A=e.child.memoizedState,A===null?A=yh(s):(h=A.cachePool,h!==null?(k=qt._currentValue,h=h.parent!==k?{parent:k,pool:k}:h):h=gm(),A={baseLanes:A.baseLanes|s,cachePool:h}),o.memoizedState=A,o.childLanes=gh(e,_,s),i.memoizedState=mh,hl(e.child,o)):($r(i),s=e.child,e=s.sibling,s=rr(s,{mode:"visible",children:o.children}),s.return=i,s.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=s,i.memoizedState=null,s)}function vh(e,i){return i=Ju({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ju(e,i){return e=qn(22,e,null,i),e.lanes=0,e}function bh(e,i,s){return Ys(i,e.child,null,s),e=vh(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function jy(e,i,s){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Nf(e.return,i,s)}function _h(e,i,s,o,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=s,_.tailMode=h,_.treeForkCount=d)}function ky(e,i,s){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var _=zt.current,A=(_&2)!==0;if(A?(_=_&1|2,i.flags|=128):_&=1,Se(zt,_),un(e,i,o,s),o=nt?Zo:0,!A&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jy(e,s,i);else if(e.tag===19)jy(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)e=s.alternate,e!==null&&zu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),_h(i,!1,h,s,d,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){i.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}_h(i,!0,s,null,d,o);break;case"together":_h(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function cr(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),Jr|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(La(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,s=rr(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=rr(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function wh(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ju(e)))}function Ww(e,i,s){switch(i.tag){case 3:Ft(i,i.stateNode.containerInfo),Ir(i,qt,e.memoizedState.cache),qs();break;case 27:case 5:De(i);break;case 4:Ft(i,i.stateNode.containerInfo);break;case 10:Ir(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,$f(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?($r(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Ry(e,i,s):($r(i),e=cr(e,i,s),e!==null?e.sibling:null);$r(i);break;case 19:var h=(e.flags&128)!==0;if(o=(s&i.childLanes)!==0,o||(La(e,i,s,!1),o=(s&i.childLanes)!==0),h){if(o)return ky(e,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Se(zt,zt.current),o)break;return null;case 22:return i.lanes=0,Ty(e,i,s,i.pendingProps);case 24:Ir(i,qt,e.memoizedState.cache)}return cr(e,i,s)}function Dy(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)Kt=!0;else{if(!wh(e,s)&&(i.flags&128)===0)return Kt=!1,Ww(e,i,s);Kt=(e.flags&131072)!==0}else Kt=!1,nt&&(i.flags&1048576)!==0&&cm(i,Zo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(e=Gs(i.elementType),i.type=e,typeof e=="function")Af(e)?(o=Xs(e,o),i.tag=1,i=Oy(null,i,e,o,s)):(i.tag=0,i=ph(null,i,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===ce){i.tag=11,i=_y(null,i,e,o,s);break e}else if(h===fe){i.tag=14,i=wy(null,i,e,o,s);break e}}throw i=jn(e)||e,Error(a(306,i,""))}}return i;case 0:return ph(e,i,i.type,i.pendingProps,s);case 1:return o=i.type,h=Xs(o,i.pendingProps),Oy(e,i,o,h,s);case 3:e:{if(Ft(i,i.stateNode.containerInfo),e===null)throw Error(a(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,qf(e,i),ol(i,o,null,s);var _=i.memoizedState;if(o=_.cache,Ir(i,qt,o),o!==d.cache&&Uf(i,[qt],s,!0),al(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Cy(e,i,o,s);break e}else if(o!==h){h=ei(Error(a(424)),i),el(h),i=Cy(e,i,o,s);break e}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,xt=si(e.firstChild),on=i,nt=!0,Pr=null,ii=!0,s=Tm(i,null,o,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(qs(),o===h){i=cr(e,i,s);break e}un(e,i,o,s)}i=i.child}return i;case 26:return Xu(e,i),e===null?(s=Kg(i.type,null,i.pendingProps,null))?i.memoizedState=s:nt||(s=i.type,e=i.pendingProps,o=hc(Ge.current).createElement(s),o[_t]=i,o[Bt]=e,cn(o,s,e),Lt(o),i.stateNode=o):i.memoizedState=Kg(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return De(i),e===null&&nt&&(o=i.stateNode=Pg(i.type,i.pendingProps,Ge.current),on=i,ii=!0,h=xt,ts(i.type)?(ed=h,xt=si(o.firstChild)):xt=h),un(e,i,i.pendingProps.children,s),Xu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&nt&&((h=o=xt)&&(o=CS(o,i.type,i.pendingProps,ii),o!==null?(i.stateNode=o,on=i,xt=si(o.firstChild),ii=!1,h=!0):h=!1),h||qr(i)),De(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,o=d.children,Xh(h,d)?o=null:_!==null&&Xh(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Ff(e,i,Kw,null,null,s),Ol._currentValue=h),Xu(e,i),un(e,i,o,s),i.child;case 6:return e===null&&nt&&((e=s=xt)&&(s=RS(s,i.pendingProps,ii),s!==null?(i.stateNode=s,on=i,xt=null,e=!0):e=!1),e||qr(i)),null;case 13:return Ry(e,i,s);case 4:return Ft(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Ys(i,null,o,s):un(e,i,o,s),i.child;case 11:return _y(e,i,i.type,i.pendingProps,s);case 7:return un(e,i,i.pendingProps,s),i.child;case 8:return un(e,i,i.pendingProps.children,s),i.child;case 12:return un(e,i,i.pendingProps.children,s),i.child;case 10:return o=i.pendingProps,Ir(i,i.type,o.value),un(e,i,o.children,s),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ks(i),h=ln(h),o=o(h),i.flags|=1,un(e,i,o,s),i.child;case 14:return wy(e,i,i.type,i.pendingProps,s);case 15:return Sy(e,i,i.type,i.pendingProps,s);case 19:return ky(e,i,s);case 31:return Qw(e,i,s);case 22:return Ty(e,i,s,i.pendingProps);case 24:return Ks(i),o=ln(qt),e===null?(h=zf(),h===null&&(h=vt,d=Bf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:o,cache:h},Pf(i),Ir(i,qt,h)):((e.lanes&s)!==0&&(qf(e,i),ol(i,null,null,s),al()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ir(i,qt,o)):(o=d.cache,Ir(i,qt,o),o!==h.cache&&Uf(i,[qt],s,!0))),un(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function fr(e){e.flags|=4}function Sh(e,i,s,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(sg())e.flags|=8192;else throw $s=Nu,Vf}else e.flags&=-16777217}function My(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Fg(i))if(sg())e.flags|=8192;else throw $s=Nu,Vf}function Qu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?du():536870912,e.lanes|=i,Xa|=i)}function dl(e,i){if(!nt)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function At(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(i)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,i}function Zw(e,i,s){var o=i.pendingProps;switch(jf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(i),null;case 1:return At(i),null;case 3:return s=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),or(qt),Rt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ba(i)?fr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Df())),At(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(fr(i),d!==null?(At(i),My(i,d)):(At(i),Sh(i,h,null,o,s))):d?d!==e.memoizedState?(fr(i),At(i),My(i,d)):(At(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&fr(i),At(i),Sh(i,h,e,o,s)),null;case 27:if(ys(i),s=Ge.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&fr(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return At(i),null}e=Oe.current,Ba(i)?hm(i):(e=Pg(h,o,s),i.stateNode=e,fr(i))}return At(i),null;case 5:if(ys(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&fr(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return At(i),null}if(d=Oe.current,Ba(i))hm(i);else{var _=hc(Ge.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}d[_t]=i,d[Bt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(cn(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&fr(i)}}return At(i),Sh(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,s),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&fr(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(e=Ge.current,Ba(i)){if(e=i.stateNode,s=i.memoizedProps,o=null,h=on,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_t]=i,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Rg(e.nodeValue,s)),e||qr(i,!0)}else e=hc(e).createTextNode(o),e[_t]=i,i.stateNode=e}return At(i),null;case 31:if(s=i.memoizedState,e===null||e.memoizedState!==null){if(o=Ba(i),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_t]=i}else qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;At(i),e=!1}else s=Df(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return i.flags&256?(Kn(i),i):(Kn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return At(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ba(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_t]=i}else qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;At(i),h=!1}else h=Df(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Kn(i),i):(Kn(i),null)}return Kn(i),(i.flags&128)!==0?(i.lanes=s,i):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),s!==e&&s&&(i.child.flags|=8192),Qu(i,i.updateQueue),At(i),null);case 4:return Rt(),e===null&&Hh(i.stateNode.containerInfo),At(i),null;case 10:return or(i.type),At(i),null;case 19:if(oe(zt),o=i.memoizedState,o===null)return At(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)dl(o,!1);else{if(Dt!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=zu(e),d!==null){for(i.flags|=128,dl(o,!1),e=d.updateQueue,i.updateQueue=e,Qu(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)om(s,e),s=s.sibling;return Se(zt,zt.current&1|2),nt&&sr(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&pn()>nc&&(i.flags|=128,h=!0,dl(o,!1),i.lanes=4194304)}else{if(!h)if(e=zu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Qu(i,e),dl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!nt)return At(i),null}else 2*pn()-o.renderingStartTime>nc&&s!==536870912&&(i.flags|=128,h=!0,dl(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(e=o.last,e!==null?e.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=pn(),e.sibling=null,s=zt.current,Se(zt,h?s&1|2:s&1),nt&&sr(i,o.treeForkCount),e):(At(i),null);case 22:case 23:return Kn(i),Gf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(s&536870912)!==0&&(i.flags&128)===0&&(At(i),i.subtreeFlags&6&&(i.flags|=8192)):At(i),s=i.updateQueue,s!==null&&Qu(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==s&&(i.flags|=2048),e!==null&&oe(Hs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),or(qt),At(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function eS(e,i){switch(jf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return or(qt),Rt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ys(i),null;case 31:if(i.memoizedState!==null){if(Kn(i),i.alternate===null)throw Error(a(340));qs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Kn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));qs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return oe(zt),null;case 4:return Rt(),null;case 10:return or(i.type),null;case 22:case 23:return Kn(i),Gf(),e!==null&&oe(Hs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return or(qt),null;case 25:return null;default:return null}}function Ny(e,i){switch(jf(i),i.tag){case 3:or(qt),Rt();break;case 26:case 27:case 5:ys(i);break;case 4:Rt();break;case 31:i.memoizedState!==null&&Kn(i);break;case 13:Kn(i);break;case 19:oe(zt);break;case 10:or(i.type);break;case 22:case 23:Kn(i),Gf(),e!==null&&oe(Hs);break;case 24:or(qt)}}function pl(e,i){try{var s=i.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var d=s.create,_=s.inst;o=d(),_.destroy=o}s=s.next}while(s!==h)}}catch(A){ft(i,i.return,A)}}function Fr(e,i,s){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var _=o.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,h=i;var k=s,Q=A;try{Q()}catch(ae){ft(h,k,ae)}}}o=o.next}while(o!==d)}}catch(ae){ft(i,i.return,ae)}}function Uy(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{xm(i,s)}catch(o){ft(e,e.return,o)}}}function By(e,i,s){s.props=Xs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){ft(e,i,o)}}function ml(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){ft(e,i,h)}}function Li(e,i){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ft(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ft(e,i,h)}else s.current=null}function Ly(e){var i=e.type,s=e.memoizedProps,o=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ft(e,e.return,h)}}function Th(e,i,s){try{var o=e.stateNode;SS(o,e.type,s,i),o[Bt]=i}catch(h){ft(e,e.return,h)}}function zy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ts(e.type)||e.tag===4}function Eh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ts(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xh(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Dn));else if(o!==4&&(o===27&&ts(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(xh(e,i,s),e=e.sibling;e!==null;)xh(e,i,s),e=e.sibling}function Wu(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(o!==4&&(o===27&&ts(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Wu(e,i,s),e=e.sibling;e!==null;)Wu(e,i,s),e=e.sibling}function Vy(e){var i=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);cn(i,o,s),i[_t]=e,i[Bt]=s}catch(d){ft(e,e.return,d)}}var hr=!1,Ht=!1,Ah=!1,Py=typeof WeakSet=="function"?WeakSet:Set,nn=null;function tS(e,i){if(e=e.containerInfo,Yh=bc,e=S(e),E(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,A=-1,k=-1,Q=0,ae=0,ue=e,Z=null;t:for(;;){for(var te;ue!==s||h!==0&&ue.nodeType!==3||(A=_+h),ue!==d||o!==0&&ue.nodeType!==3||(k=_+o),ue.nodeType===3&&(_+=ue.nodeValue.length),(te=ue.firstChild)!==null;)Z=ue,ue=te;for(;;){if(ue===e)break t;if(Z===s&&++Q===h&&(A=_),Z===d&&++ae===o&&(k=_),(te=ue.nextSibling)!==null)break;ue=Z,Z=ue.parentNode}ue=te}s=A===-1||k===-1?null:{start:A,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(Fh={focusedElem:e,selectionRange:s},bc=!1,nn=i;nn!==null;)if(i=nn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,nn=e;else for(;nn!==null;){switch(i=nn,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var Ce=Xs(s.type,h);e=o.getSnapshotBeforeUpdate(Ce,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Be){ft(s,s.return,Be)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)Qh(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,nn=e;break}nn=i.return}}function qy(e,i,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:pr(e,s),o&4&&pl(5,s);break;case 1:if(pr(e,s),o&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(_){ft(s,s.return,_)}else{var h=Xs(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){ft(s,s.return,_)}}o&64&&Uy(s),o&512&&ml(s,s.return);break;case 3:if(pr(e,s),o&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{xm(e,i)}catch(_){ft(s,s.return,_)}}break;case 27:i===null&&o&4&&Vy(s);case 26:case 5:pr(e,s),i===null&&o&4&&Ly(s),o&512&&ml(s,s.return);break;case 12:pr(e,s);break;case 31:pr(e,s),o&4&&Hy(e,s);break;case 13:pr(e,s),o&4&&Gy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=cS.bind(null,s),jS(e,s))));break;case 22:if(o=s.memoizedState!==null||hr,!o){i=i!==null&&i.memoizedState!==null||Ht,h=hr;var d=Ht;hr=o,(Ht=i)&&!d?mr(e,s,(s.subtreeFlags&8772)!==0):pr(e,s),hr=h,Ht=d}break;case 30:break;default:pr(e,s)}}function Iy(e){var i=e.alternate;i!==null&&(e.alternate=null,Iy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&da(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ct=null,Mn=!1;function dr(e,i,s){for(s=s.child;s!==null;)Ky(e,i,s),s=s.sibling}function Ky(e,i,s){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Ei,s)}catch{}switch(s.tag){case 26:Ht||Li(s,i),dr(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ht||Li(s,i);var o=Ct,h=Mn;ts(s.type)&&(Ct=s.stateNode,Mn=!1),dr(e,i,s),El(s.stateNode),Ct=o,Mn=h;break;case 5:Ht||Li(s,i);case 6:if(o=Ct,h=Mn,Ct=null,dr(e,i,s),Ct=o,Mn=h,Ct!==null)if(Mn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(s.stateNode)}catch(d){ft(s,i,d)}else try{Ct.removeChild(s.stateNode)}catch(d){ft(s,i,d)}break;case 18:Ct!==null&&(Mn?(e=Ct,Ug(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),io(e)):Ug(Ct,s.stateNode));break;case 4:o=Ct,h=Mn,Ct=s.stateNode.containerInfo,Mn=!0,dr(e,i,s),Ct=o,Mn=h;break;case 0:case 11:case 14:case 15:Fr(2,s,i),Ht||Fr(4,s,i),dr(e,i,s);break;case 1:Ht||(Li(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"&&By(s,i,o)),dr(e,i,s);break;case 21:dr(e,i,s);break;case 22:Ht=(o=Ht)||s.memoizedState!==null,dr(e,i,s),Ht=o;break;default:dr(e,i,s)}}function Hy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{io(e)}catch(s){ft(i,i.return,s)}}}function Gy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{io(e)}catch(s){ft(i,i.return,s)}}function nS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Py),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Py),i;default:throw Error(a(435,e.tag))}}function Zu(e,i){var s=nS(e);i.forEach(function(o){if(!s.has(o)){s.add(o);var h=fS.bind(null,e,o);o.then(h,h)}})}function Nn(e,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],d=e,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(ts(A.type)){Ct=A.stateNode,Mn=!1;break e}break;case 5:Ct=A.stateNode,Mn=!1;break e;case 3:case 4:Ct=A.stateNode.containerInfo,Mn=!0;break e}A=A.return}if(Ct===null)throw Error(a(160));Ky(d,_,h),Ct=null,Mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)$y(i,e),i=i.sibling}var pi=null;function $y(e,i){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nn(i,e),Un(e),o&4&&(Fr(3,e,e.return),pl(3,e),Fr(5,e,e.return));break;case 1:Nn(i,e),Un(e),o&512&&(Ht||s===null||Li(s,s.return)),o&64&&hr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=pi;if(Nn(i,e),Un(e),o&512&&(Ht||s===null||Li(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){e:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[zn]||d[_t]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),cn(d,o,s),d[_t]=e,Lt(d),o=d;break e;case"link":var _=$g("link","href",h).get(o+(s.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(A,1);break t}}d=h.createElement(o),cn(d,o,s),h.head.appendChild(d);break;case"meta":if(_=$g("meta","content",h).get(o+(s.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(A,1);break t}}d=h.createElement(o),cn(d,o,s),h.head.appendChild(d);break;default:throw Error(a(468,o))}d[_t]=e,Lt(d),o=d}e.stateNode=o}else Yg(h,e.type,e.stateNode);else e.stateNode=Gg(h,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?Yg(h,e.type,e.stateNode):Gg(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Th(e,e.memoizedProps,s.memoizedProps)}break;case 27:Nn(i,e),Un(e),o&512&&(Ht||s===null||Li(s,s.return)),s!==null&&o&4&&Th(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Nn(i,e),Un(e),o&512&&(Ht||s===null||Li(s,s.return)),e.flags&32){h=e.stateNode;try{Fi(h,"")}catch(Ce){ft(e,e.return,Ce)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Th(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Ah=!0);break;case 6:if(Nn(i,e),Un(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(Ce){ft(e,e.return,Ce)}}break;case 3:if(mc=null,h=pi,pi=dc(i.containerInfo),Nn(i,e),pi=h,Un(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{io(i.containerInfo)}catch(Ce){ft(e,e.return,Ce)}Ah&&(Ah=!1,Yy(e));break;case 4:o=pi,pi=dc(e.stateNode.containerInfo),Nn(i,e),Un(e),pi=o;break;case 12:Nn(i,e),Un(e);break;case 31:Nn(i,e),Un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:Nn(i,e),Un(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tc=pn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var k=s!==null&&s.memoizedState!==null,Q=hr,ae=Ht;if(hr=Q||h,Ht=ae||k,Nn(i,e),Ht=ae,hr=Q,Un(e),o&8192)e:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||k||hr||Ht||Js(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){k=s=i;try{if(d=k.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=k.stateNode;var ue=k.memoizedProps.style,Z=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;A.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Ce){ft(k,k.return,Ce)}}}else if(i.tag===6){if(s===null){k=i;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(Ce){ft(k,k.return,Ce)}}}else if(i.tag===18){if(s===null){k=i;try{var te=k.stateNode;h?Bg(te,!0):Bg(k.stateNode,!1)}catch(Ce){ft(k,k.return,Ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Zu(e,s))));break;case 19:Nn(i,e),Un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:Nn(i,e),Un(e)}}function Un(e){var i=e.flags;if(i&2){try{for(var s,o=e.return;o!==null;){if(zy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=Eh(e);Wu(e,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(Fi(_,""),s.flags&=-33);var A=Eh(e);Wu(e,A,_);break;case 3:case 4:var k=s.stateNode.containerInfo,Q=Eh(e);xh(e,Q,k);break;default:throw Error(a(161))}}catch(ae){ft(e,e.return,ae)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Yy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function pr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)qy(e,i.alternate,i),i=i.sibling}function Js(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Fr(4,i,i.return),Js(i);break;case 1:Li(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&By(i,i.return,s),Js(i);break;case 27:El(i.stateNode);case 26:case 5:Li(i,i.return),Js(i);break;case 22:i.memoizedState===null&&Js(i);break;case 30:Js(i);break;default:Js(i)}e=e.sibling}}function mr(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:mr(h,d,s),pl(4,d);break;case 1:if(mr(h,d,s),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Q){ft(o,o.return,Q)}if(o=d,h=o.updateQueue,h!==null){var A=o.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)Em(k[h],A)}catch(Q){ft(o,o.return,Q)}}s&&_&64&&Uy(d),ml(d,d.return);break;case 27:Vy(d);case 26:case 5:mr(h,d,s),s&&o===null&&_&4&&Ly(d),ml(d,d.return);break;case 12:mr(h,d,s);break;case 31:mr(h,d,s),s&&_&4&&Hy(h,d);break;case 13:mr(h,d,s),s&&_&4&&Gy(h,d);break;case 22:d.memoizedState===null&&mr(h,d,s),ml(d,d.return);break;case 30:break;default:mr(h,d,s)}i=i.sibling}}function Oh(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&tl(s))}function Ch(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&tl(e))}function mi(e,i,s,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fy(e,i,s,o),i=i.sibling}function Fy(e,i,s,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:mi(e,i,s,o),h&2048&&pl(9,i);break;case 1:mi(e,i,s,o);break;case 3:mi(e,i,s,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&tl(e)));break;case 12:if(h&2048){mi(e,i,s,o),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){ft(i,i.return,k)}}else mi(e,i,s,o);break;case 31:mi(e,i,s,o);break;case 13:mi(e,i,s,o);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?mi(e,i,s,o):yl(e,i):d._visibility&2?mi(e,i,s,o):(d._visibility|=2,$a(e,i,s,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Oh(_,i);break;case 24:mi(e,i,s,o),h&2048&&Ch(i.alternate,i);break;default:mi(e,i,s,o)}}function $a(e,i,s,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,A=s,k=o,Q=_.flags;switch(_.tag){case 0:case 11:case 15:$a(d,_,A,k,h),pl(8,_);break;case 23:break;case 22:var ae=_.stateNode;_.memoizedState!==null?ae._visibility&2?$a(d,_,A,k,h):yl(d,_):(ae._visibility|=2,$a(d,_,A,k,h)),h&&Q&2048&&Oh(_.alternate,_);break;case 24:$a(d,_,A,k,h),h&&Q&2048&&Ch(_.alternate,_);break;default:$a(d,_,A,k,h)}i=i.sibling}}function yl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,o=i,h=o.flags;switch(o.tag){case 22:yl(s,o),h&2048&&Oh(o.alternate,o);break;case 24:yl(s,o),h&2048&&Ch(o.alternate,o);break;default:yl(s,o)}i=i.sibling}}var gl=8192;function Ya(e,i,s){if(e.subtreeFlags&gl)for(e=e.child;e!==null;)Xy(e,i,s),e=e.sibling}function Xy(e,i,s){switch(e.tag){case 26:Ya(e,i,s),e.flags&gl&&e.memoizedState!==null&&IS(s,pi,e.memoizedState,e.memoizedProps);break;case 5:Ya(e,i,s);break;case 3:case 4:var o=pi;pi=dc(e.stateNode.containerInfo),Ya(e,i,s),pi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=gl,gl=16777216,Ya(e,i,s),gl=o):Ya(e,i,s));break;default:Ya(e,i,s)}}function Jy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function vl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];nn=o,Wy(o,e)}Jy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qy(e),e=e.sibling}function Qy(e){switch(e.tag){case 0:case 11:case 15:vl(e),e.flags&2048&&Fr(9,e,e.return);break;case 3:vl(e);break;case 12:vl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ec(e)):vl(e);break;default:vl(e)}}function ec(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];nn=o,Wy(o,e)}Jy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Fr(8,i,i.return),ec(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,ec(i));break;default:ec(i)}e=e.sibling}}function Wy(e,i){for(;nn!==null;){var s=nn;switch(s.tag){case 0:case 11:case 15:Fr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:tl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,nn=o;else e:for(s=e;nn!==null;){o=nn;var h=o.sibling,d=o.return;if(Iy(o),o===s){nn=null;break e}if(h!==null){h.return=d,nn=h;break e}nn=d}}}var iS={getCacheForType:function(e){var i=ln(qt),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s},cacheSignal:function(){return ln(qt).controller.signal}},rS=typeof WeakMap=="function"?WeakMap:Map,lt=0,vt=null,Qe=null,Ze=0,ct=0,Hn=null,Xr=!1,Fa=!1,Rh=!1,yr=0,Dt=0,Jr=0,Qs=0,jh=0,Gn=0,Xa=0,bl=null,Bn=null,kh=!1,tc=0,Zy=0,nc=1/0,ic=null,Qr=null,Xt=0,Wr=null,Ja=null,gr=0,Dh=0,Mh=null,eg=null,_l=0,Nh=null;function $n(){return(lt&2)!==0&&Ze!==0?Ze&-Ze:re.T!==null?Ph():xs()}function tg(){if(Gn===0)if((Ze&536870912)===0||nt){var e=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),Gn=e}else Gn=536870912;return e=In.current,e!==null&&(e.flags|=32),Gn}function Ln(e,i,s){(e===vt&&(ct===2||ct===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),Zr(e,Ze,Gn,!1)),Xn(e,s),((lt&2)===0||e!==vt)&&(e===vt&&((lt&2)===0&&(Qs|=s),Dt===4&&Zr(e,Ze,Gn,!1)),zi(e))}function ng(e,i,s){if((lt&6)!==0)throw Error(a(327));var o=!s&&(i&127)===0&&(i&e.expiredLanes)===0||Gi(e,i),h=o?oS(e,i):Bh(e,i,!0),d=o;do{if(h===0){Fa&&!o&&Zr(e,i,0,!1);break}else{if(s=e.current.alternate,d&&!sS(s)){h=Bh(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var A=e;h=bl;var k=A.current.memoizedState.isDehydrated;if(k&&(Qa(A,_).flags|=256),_=Bh(A,_,!1),_!==2){if(Rh&&!k){A.errorRecoveryDisabledLanes|=d,Qs|=d,h=4;break e}d=Bn,Bn=h,d!==null&&(Bn===null?Bn=d:Bn.push.apply(Bn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Qa(e,0),Zr(e,i,0,!0);break}e:{switch(o=e,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Zr(o,i,Gn,!Xr);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=tc+300-pn(),10<h)){if(Zr(o,i,Gn,!Xr),Ts(o,0,!0)!==0)break e;gr=i,o.timeoutHandle=Mg(ig.bind(null,o,s,Bn,ic,kh,i,Gn,Qs,Xa,Xr,d,"Throttled",-0,0),h);break e}ig(o,s,Bn,ic,kh,i,Gn,Qs,Xa,Xr,d,null,-0,0)}}break}while(!0);zi(e)}function ig(e,i,s,o,h,d,_,A,k,Q,ae,ue,Z,te){if(e.timeoutHandle=-1,ue=i.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},Xy(i,d,ue);var Ce=(d&62914560)===d?tc-pn():(d&4194048)===d?Zy-pn():0;if(Ce=KS(ue,Ce),Ce!==null){gr=d,e.cancelPendingCommit=Ce(fg.bind(null,e,i,d,s,o,h,_,A,k,ae,ue,null,Z,te)),Zr(e,d,_,!Q);return}}fg(e,i,d,s,o,h,_,A,k)}function sS(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],d=h.getSnapshot;h=h.value;try{if(!vn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Zr(e,i,s,o){i&=~jh,i&=~Qs,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-Te(h),_=1<<d;o[d]=-1,h&=~_}s!==0&&Es(e,s,i)}function rc(){return(lt&6)===0?(wl(0),!1):!0}function Uh(){if(Qe!==null){if(ct===0)var e=Qe.return;else e=Qe,ar=Is=null,Qf(e),qa=null,il=0,e=Qe;for(;e!==null;)Ny(e.alternate,e),e=e.return;Qe=null}}function Qa(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,xS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),gr=0,Uh(),vt=e,Qe=s=rr(e.current,null),Ze=i,ct=0,Hn=null,Xr=!1,Fa=Gi(e,i),Rh=!1,Xa=Gn=jh=Qs=Jr=Dt=0,Bn=bl=null,kh=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Te(o),d=1<<h;i|=e[h],o&=~d}return yr=i,Ie(),s}function rg(e,i){$e=null,re.H=fl,i===Pa||i===Mu?(i=_m(),ct=3):i===Vf?(i=_m(),ct=4):ct=i===dh?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Hn=i,Qe===null&&(Dt=1,Yu(e,ei(i,e.current)))}function sg(){var e=In.current;return e===null?!0:(Ze&4194048)===Ze?ri===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?e===ri:!1}function ag(){var e=re.H;return re.H=fl,e===null?fl:e}function og(){var e=re.A;return re.A=iS,e}function sc(){Dt=4,Xr||(Ze&4194048)!==Ze&&In.current!==null||(Fa=!0),(Jr&134217727)===0&&(Qs&134217727)===0||vt===null||Zr(vt,Ze,Gn,!1)}function Bh(e,i,s){var o=lt;lt|=2;var h=ag(),d=og();(vt!==e||Ze!==i)&&(ic=null,Qa(e,i)),i=!1;var _=Dt;e:do try{if(ct!==0&&Qe!==null){var A=Qe,k=Hn;switch(ct){case 8:Uh(),_=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var Q=ct;if(ct=0,Hn=null,Wa(e,A,k,Q),s&&Fa){_=0;break e}break;default:Q=ct,ct=0,Hn=null,Wa(e,A,k,Q)}}aS(),_=Dt;break}catch(ae){rg(e,ae)}while(!0);return i&&e.shellSuspendCounter++,ar=Is=null,lt=o,re.H=h,re.A=d,Qe===null&&(vt=null,Ze=0,Ie()),_}function aS(){for(;Qe!==null;)lg(Qe)}function oS(e,i){var s=lt;lt|=2;var o=ag(),h=og();vt!==e||Ze!==i?(ic=null,nc=pn()+500,Qa(e,i)):Fa=Gi(e,i);e:do try{if(ct!==0&&Qe!==null){i=Qe;var d=Hn;t:switch(ct){case 1:ct=0,Hn=null,Wa(e,i,d,1);break;case 2:case 9:if(vm(d)){ct=0,Hn=null,ug(i);break}i=function(){ct!==2&&ct!==9||vt!==e||(ct=7),zi(e)},d.then(i,i);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:vm(d)?(ct=0,Hn=null,ug(i)):(ct=0,Hn=null,Wa(e,i,d,7));break;case 5:var _=null;switch(Qe.tag){case 26:_=Qe.memoizedState;case 5:case 27:var A=Qe;if(_?Fg(_):A.stateNode.complete){ct=0,Hn=null;var k=A.sibling;if(k!==null)Qe=k;else{var Q=A.return;Q!==null?(Qe=Q,ac(Q)):Qe=null}break t}}ct=0,Hn=null,Wa(e,i,d,5);break;case 6:ct=0,Hn=null,Wa(e,i,d,6);break;case 8:Uh(),Dt=6;break e;default:throw Error(a(462))}}lS();break}catch(ae){rg(e,ae)}while(!0);return ar=Is=null,re.H=o,re.A=h,lt=s,Qe!==null?0:(vt=null,Ze=0,Ie(),Dt)}function lS(){for(;Qe!==null&&!hu();)lg(Qe)}function lg(e){var i=Dy(e.alternate,e,yr);e.memoizedProps=e.pendingProps,i===null?ac(e):Qe=i}function ug(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=Ay(s,i,i.pendingProps,i.type,void 0,Ze);break;case 11:i=Ay(s,i,i.pendingProps,i.type.render,i.ref,Ze);break;case 5:Qf(i);default:Ny(s,i),i=Qe=om(i,yr),i=Dy(s,i,yr)}e.memoizedProps=e.pendingProps,i===null?ac(e):Qe=i}function Wa(e,i,s,o){ar=Is=null,Qf(i),qa=null,il=0;var h=i.return;try{if(Jw(e,h,i,s,Ze)){Dt=1,Yu(e,ei(s,e.current)),Qe=null;return}}catch(d){if(h!==null)throw Qe=h,d;Dt=1,Yu(e,ei(s,e.current)),Qe=null;return}i.flags&32768?(nt||o===1?e=!0:Fa||(Ze&536870912)!==0?e=!1:(Xr=e=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),cg(i,e)):ac(i)}function ac(e){var i=e;do{if((i.flags&32768)!==0){cg(i,Xr);return}e=i.return;var s=Zw(i.alternate,i,yr);if(s!==null){Qe=s;return}if(i=i.sibling,i!==null){Qe=i;return}Qe=i=e}while(i!==null);Dt===0&&(Dt=5)}function cg(e,i){do{var s=eS(e.alternate,e);if(s!==null){s.flags&=32767,Qe=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){Qe=e;return}Qe=e=s}while(e!==null);Dt=6,Qe=null}function fg(e,i,s,o,h,d,_,A,k){e.cancelPendingCommit=null;do oc();while(Xt!==0);if((lt&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Ne,ko(e,s,d,_,A,k),e===vt&&(Qe=vt=null,Ze=0),Ja=i,Wr=e,gr=s,Dh=d,Mh=h,eg=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hS(Er,function(){return yg(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=re.T,re.T=null,h=ge.p,ge.p=2,_=lt,lt|=4;try{tS(e,i,s)}finally{lt=_,ge.p=h,re.T=o}}Xt=1,hg(),dg(),pg()}}function hg(){if(Xt===1){Xt=0;var e=Wr,i=Ja,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=re.T,re.T=null;var o=ge.p;ge.p=2;var h=lt;lt|=4;try{$y(i,e);var d=Fh,_=S(e.containerInfo),A=d.focusedElem,k=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&b(A.ownerDocument.documentElement,A)){if(k!==null&&E(A)){var Q=k.start,ae=k.end;if(ae===void 0&&(ae=Q),"selectionStart"in A)A.selectionStart=Q,A.selectionEnd=Math.min(ae,A.value.length);else{var ue=A.ownerDocument||document,Z=ue&&ue.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),Ce=A.textContent.length,Be=Math.min(k.start,Ce),yt=k.end===void 0?Be:Math.min(k.end,Ce);!te.extend&&Be>yt&&(_=yt,yt=Be,Be=_);var K=g(A,Be),V=g(A,yt);if(K&&V&&(te.rangeCount!==1||te.anchorNode!==K.node||te.anchorOffset!==K.offset||te.focusNode!==V.node||te.focusOffset!==V.offset)){var J=ue.createRange();J.setStart(K.node,K.offset),te.removeAllRanges(),Be>yt?(te.addRange(J),te.extend(V.node,V.offset)):(J.setEnd(V.node,V.offset),te.addRange(J))}}}}for(ue=[],te=A;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ue.length;A++){var le=ue[A];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}bc=!!Yh,Fh=Yh=null}finally{lt=h,ge.p=o,re.T=s}}e.current=i,Xt=2}}function dg(){if(Xt===2){Xt=0;var e=Wr,i=Ja,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=re.T,re.T=null;var o=ge.p;ge.p=2;var h=lt;lt|=4;try{qy(e,i.alternate,i)}finally{lt=h,ge.p=o,re.T=s}}Xt=3}}function pg(){if(Xt===4||Xt===3){Xt=0,vs();var e=Wr,i=Ja,s=gr,o=eg;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Xt=5:(Xt=0,Ja=Wr=null,mg(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Qr=null),Ar(s),i=i.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Ei,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=re.T,h=ge.p,ge.p=2,re.T=null;try{for(var d=e.onRecoverableError,_=0;_<o.length;_++){var A=o[_];d(A.value,{componentStack:A.stack})}}finally{re.T=i,ge.p=h}}(gr&3)!==0&&oc(),zi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Nh?_l++:(_l=0,Nh=e):_l=0,wl(0)}}function mg(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,tl(i)))}function oc(){return hg(),dg(),pg(),yg()}function yg(){if(Xt!==5)return!1;var e=Wr,i=Dh;Dh=0;var s=Ar(gr),o=re.T,h=ge.p;try{ge.p=32>s?32:s,re.T=null,s=Mh,Mh=null;var d=Wr,_=gr;if(Xt=0,Ja=Wr=null,gr=0,(lt&6)!==0)throw Error(a(331));var A=lt;if(lt|=4,Qy(d.current),Fy(d,d.current,_,s),lt=A,wl(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Ei,d)}catch{}return!0}finally{ge.p=h,re.T=o,mg(e,i)}}function gg(e,i,s){i=ei(s,i),i=hh(e.stateNode,i,2),e=Gr(e,i,2),e!==null&&(Xn(e,2),zi(e))}function ft(e,i,s){if(e.tag===3)gg(e,e,s);else for(;i!==null;){if(i.tag===3){gg(i,e,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Qr===null||!Qr.has(o))){e=ei(s,e),s=vy(2),o=Gr(i,s,2),o!==null&&(by(s,o,i,e),Xn(o,2),zi(o));break}}i=i.return}}function Lh(e,i,s){var o=e.pingCache;if(o===null){o=e.pingCache=new rS;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(s)||(Rh=!0,h.add(s),e=uS.bind(null,e,i,s),i.then(e,e))}function uS(e,i,s){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,vt===e&&(Ze&s)===s&&(Dt===4||Dt===3&&(Ze&62914560)===Ze&&300>pn()-tc?(lt&2)===0&&Qa(e,0):jh|=s,Xa===Ze&&(Xa=0)),zi(e)}function vg(e,i){i===0&&(i=du()),e=ut(e,i),e!==null&&(Xn(e,i),zi(e))}function cS(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),vg(e,s)}function fS(e,i){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),vg(e,s)}function hS(e,i){return gs(e,i)}var lc=null,Za=null,zh=!1,uc=!1,Vh=!1,es=0;function zi(e){e!==Za&&e.next===null&&(Za===null?lc=Za=e:Za=Za.next=e),uc=!0,zh||(zh=!0,pS())}function wl(e,i){if(!Vh&&uc){Vh=!0;do for(var s=!1,o=lc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,A=o.pingedLanes;d=(1<<31-Te(42|e)+1)-1,d&=h&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Sg(o,d))}else d=Ze,d=Ts(o,o===vt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Gi(o,d)||(s=!0,Sg(o,d));o=o.next}while(s);Vh=!1}}function dS(){bg()}function bg(){uc=zh=!1;var e=0;es!==0&&ES()&&(e=es);for(var i=pn(),s=null,o=lc;o!==null;){var h=o.next,d=_g(o,i);d===0?(o.next=null,s===null?lc=h:s.next=h,h===null&&(Za=s)):(s=o,(e!==0||(d&3)!==0)&&(uc=!0)),o=h}Xt!==0&&Xt!==5||wl(e),es!==0&&(es=0)}function _g(e,i){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-Te(d),A=1<<_,k=h[_];k===-1?((A&s)===0||(A&o)!==0)&&(h[_]=gf(A,i)):k<=i&&(e.expiredLanes|=A),d&=~A}if(i=vt,s=Ze,s=Ts(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===i&&(ct===2||ct===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&kn(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Gi(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(o!==null&&kn(o),Ar(s)){case 2:case 8:s=Ti;break;case 32:s=Er;break;case 268435456:s=ca;break;default:s=Er}return o=wg.bind(null,e),s=gs(s,o),e.callbackPriority=i,e.callbackNode=s,i}return o!==null&&o!==null&&kn(o),e.callbackPriority=2,e.callbackNode=null,2}function wg(e,i){if(Xt!==0&&Xt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(oc()&&e.callbackNode!==s)return null;var o=Ze;return o=Ts(e,e===vt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ng(e,o,i),_g(e,pn()),e.callbackNode!=null&&e.callbackNode===s?wg.bind(null,e):null)}function Sg(e,i){if(oc())return null;ng(e,i,!0)}function pS(){AS(function(){(lt&6)!==0?gs(mn,dS):bg()})}function Ph(){if(es===0){var e=za;e===0&&(e=_e,_e<<=1,(_e&261888)===0&&(_e=256)),es=e}return es}function Tg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:di(""+e)}function Eg(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function mS(e,i,s,o,h){if(i==="submit"&&s&&s.stateNode===h){var d=Tg((h[Bt]||null).action),_=o.submitter;_&&(i=(i=_[Bt]||null)?Tg(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var A=new va("action","action",null,o,h);e.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(es!==0){var k=_?Eg(h,_):new FormData(h);ah(s,{pending:!0,data:k,method:h.method,action:d},null,k)}}else typeof d=="function"&&(A.preventDefault(),k=_?Eg(h,_):new FormData(h),ah(s,{pending:!0,data:k,method:h.method,action:d},d,k))},currentTarget:h}]})}}for(var qh=0;qh<we.length;qh++){var Ih=we[qh],yS=Ih.toLowerCase(),gS=Ih[0].toUpperCase()+Ih.slice(1);pe(yS,"on"+gS)}pe(W,"onAnimationEnd"),pe($,"onAnimationIteration"),pe(se,"onAnimationStart"),pe("dblclick","onDoubleClick"),pe("focusin","onFocus"),pe("focusout","onBlur"),pe(he,"onTransitionRun"),pe(ve,"onTransitionStart"),pe(be,"onTransitionCancel"),pe(de,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function xg(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var _=o.length-1;0<=_;_--){var A=o[_],k=A.instance,Q=A.currentTarget;if(A=A.listener,k!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=Q;try{d(h)}catch(ae){xe(ae)}h.currentTarget=null,d=k}else for(_=0;_<o.length;_++){if(A=o[_],k=A.instance,Q=A.currentTarget,A=A.listener,k!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=Q;try{d(h)}catch(ae){xe(ae)}h.currentTarget=null,d=k}}}}function We(e,i){var s=i[Or];s===void 0&&(s=i[Or]=new Set);var o=e+"__bubble";s.has(o)||(Ag(i,e,2,!1),s.add(o))}function Kh(e,i,s){var o=0;i&&(o|=4),Ag(s,e,o,i)}var cc="_reactListening"+Math.random().toString(36).slice(2);function Hh(e){if(!e[cc]){e[cc]=!0,$i.forEach(function(s){s!=="selectionchange"&&(vS.has(s)||Kh(s,!1,e),Kh(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[cc]||(i[cc]=!0,Kh("selectionchange",!1,i))}}function Ag(e,i,s,o){switch(tv(i)){case 2:var h=$S;break;case 8:h=YS;break;default:h=sd}s=h.bind(null,i,s,e),h=void 0,!Vo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,s,{capture:!0,passive:h}):e.addEventListener(i,s,!0):h!==void 0?e.addEventListener(i,s,{passive:h}):e.addEventListener(i,s,!1)}function Gh(e,i,s,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var A=o.stateNode.containerInfo;if(A===h)break;if(_===4)for(_=o.return;_!==null;){var k=_.tag;if((k===3||k===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;A!==null;){if(_=Ci(A),_===null)return;if(k=_.tag,k===5||k===6||k===26||k===27){o=d=_;continue e}A=A.parentNode}}o=o.return}Rr(function(){var Q=d,ae=ya(s),ue=[];e:{var Z=Ee.get(e);if(Z!==void 0){var te=va,Ce=e;switch(e){case"keypress":if(Dr(s)===0)break e;case"keydown":case"keyup":te=xa;break;case"focusin":Ce="focus",te=Mr;break;case"focusout":Ce="blur",te=Mr;break;case"beforeblur":case"afterblur":te=Mr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=$o;break;case W:case $:case se:te=vu;break;case de:te=Yo;break;case"scroll":case"scrollend":te=ba;break;case"wheel":te=Oa;break;case"copy":case"cut":case"paste":te=Nr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Go;break;case"toggle":case"beforetoggle":te=wu}var Be=(i&4)!==0,yt=!Be&&(e==="scroll"||e==="scrollend"),K=Be?Z!==null?Z+"Capture":null:Z;Be=[];for(var V=Q,J;V!==null;){var le=V;if(J=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||J===null||K===null||(le=Qi(V,K),le!=null&&Be.push(Tl(V,le,J))),yt)break;V=V.return}0<Be.length&&(Z=new te(Z,Ce,null,s,ae),ue.push({event:Z,listeners:Be}))}}if((i&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",Z&&s!==Qn&&(Ce=s.relatedTarget||s.fromElement)&&(Ci(Ce)||Ce[En]))break e;if((te||Z)&&(Z=ae.window===ae?ae:(Z=ae.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(Ce=s.relatedTarget||s.toElement,te=Q,Ce=Ce?Ci(Ce):null,Ce!==null&&(yt=u(Ce),Be=Ce.tag,Ce!==yt||Be!==5&&Be!==27&&Be!==6)&&(Ce=null)):(te=null,Ce=Q),te!==Ce)){if(Be=wa,le="onMouseLeave",K="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(Be=Go,le="onPointerLeave",K="onPointerEnter",V="pointer"),yt=te==null?Z:Vn(te),J=Ce==null?Z:Vn(Ce),Z=new Be(le,V+"leave",te,s,ae),Z.target=yt,Z.relatedTarget=J,le=null,Ci(ae)===Q&&(Be=new Be(K,V+"enter",Ce,s,ae),Be.target=J,Be.relatedTarget=yt,le=Be),yt=le,te&&Ce)t:{for(Be=bS,K=te,V=Ce,J=0,le=K;le;le=Be(le))J++;le=0;for(var Ue=V;Ue;Ue=Be(Ue))le++;for(;0<J-le;)K=Be(K),J--;for(;0<le-J;)V=Be(V),le--;for(;J--;){if(K===V||V!==null&&K===V.alternate){Be=K;break t}K=Be(K),V=Be(V)}Be=null}else Be=null;te!==null&&Og(ue,Z,te,Be,!1),Ce!==null&&yt!==null&&Og(ue,yt,Ce,Be,!0)}}e:{if(Z=Q?Vn(Q):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var st=Vs;else if(ja(Z))if(Zn)st=Lr;else{st=ir;var ke=Ou}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Q&&zo(Q.elementType)&&(st=Vs):st=Wo;if(st&&(st=st(e,Q))){Qo(ue,st,s,ae);break e}ke&&ke(e,Z,Q),e==="focusout"&&Q&&Z.type==="number"&&Q.memoizedProps.value!=null&&ks(Z,"number",Z.value)}switch(ke=Q?Vn(Q):window,e){case"focusin":(ja(ke)||ke.contentEditable==="true")&&(R=ke,N=Q,G=null);break;case"focusout":G=N=R=null;break;case"mousedown":U=!0;break;case"contextmenu":case"mouseup":case"dragend":U=!1,M(ue,s,ae);break;case"selectionchange":if(C)break;case"keydown":case"keyup":M(ue,s,ae)}var Ye;if(Ls)e:{switch(e){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else tr?Jo(e,s)&&(et="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(et="onCompositionStart");et&&(Ca&&s.locale!=="ko"&&(tr||et!=="onCompositionStart"?et==="onCompositionEnd"&&tr&&(Ye=kr()):(Wn=ae,ga="value"in Wn?Wn.value:Wn.textContent,tr=!0)),ke=fc(Q,et),0<ke.length&&(et=new Ea(et,e,null,s,ae),ue.push({event:et,listeners:ke}),Ye?et.data=Ye:(Ye=Tu(s),Ye!==null&&(et.data=Ye)))),(Ye=Tf?Eu(e,s):Ef(e,s))&&(et=fc(Q,"onBeforeInput"),0<et.length&&(ke=new Ea("onBeforeInput","beforeinput",null,s,ae),ue.push({event:ke,listeners:et}),ke.data=Ye)),mS(ue,e,Q,s,ae)}xg(ue,i)})}function Tl(e,i,s){return{instance:e,listener:i,currentTarget:s}}function fc(e,i){for(var s=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qi(e,s),h!=null&&o.unshift(Tl(e,h,d)),h=Qi(e,i),h!=null&&o.push(Tl(e,h,d))),e.tag===3)return o;e=e.return}return[]}function bS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Og(e,i,s,o,h){for(var d=i._reactName,_=[];s!==null&&s!==o;){var A=s,k=A.alternate,Q=A.stateNode;if(A=A.tag,k!==null&&k===o)break;A!==5&&A!==26&&A!==27||Q===null||(k=Q,h?(Q=Qi(s,d),Q!=null&&_.unshift(Tl(s,Q,k))):h||(Q=Qi(s,d),Q!=null&&_.push(Tl(s,Q,k)))),s=s.return}_.length!==0&&e.push({event:i,listeners:_})}var _S=/\r\n?/g,wS=/\u0000|\uFFFD/g;function Cg(e){return(typeof e=="string"?e:""+e).replace(_S,`
`).replace(wS,"")}function Rg(e,i){return i=Cg(i),Cg(e)===i}function mt(e,i,s,o,h,d){switch(s){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Fi(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Fi(e,""+o);break;case"className":Rs(e,"class",o);break;case"tabIndex":Rs(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Rs(e,s,o);break;case"style":Lo(e,o,d);break;case"data":if(i!=="object"){Rs(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=di(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&mt(e,i,"name",h.name,h,null),mt(e,i,"formEncType",h.formEncType,h,null),mt(e,i,"formMethod",h.formMethod,h,null),mt(e,i,"formTarget",h.formTarget,h,null)):(mt(e,i,"encType",h.encType,h,null),mt(e,i,"method",h.method,h,null),mt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=di(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Dn);break;case"onScroll":o!=null&&We("scroll",e);break;case"onScrollEnd":o!=null&&We("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=di(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":We("beforetoggle",e),We("toggle",e),Fe(e,"popover",o);break;case"xlinkActuate":Jn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Jn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Jn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Jn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Jn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Jn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Fe(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=_f.get(s)||s,Fe(e,s,o))}}function $h(e,i,s,o,h,d){switch(s){case"style":Lo(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?Fi(e,o):(typeof o=="number"||typeof o=="bigint")&&Fi(e,""+o);break;case"onScroll":o!=null&&We("scroll",e);break;case"onScrollEnd":o!=null&&We("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Os.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=e[Bt]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,o,h);break e}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Fe(e,s,o)}}}function cn(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",e),We("load",e);var o=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:mt(e,i,d,_,s,null)}}h&&mt(e,i,"srcSet",s.srcSet,s,null),o&&mt(e,i,"src",s.src,s,null);return;case"input":We("invalid",e);var A=d=_=h=null,k=null,Q=null;for(o in s)if(s.hasOwnProperty(o)){var ae=s[o];if(ae!=null)switch(o){case"name":h=ae;break;case"type":_=ae;break;case"checked":k=ae;break;case"defaultChecked":Q=ae;break;case"value":d=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,i));break;default:mt(e,i,o,ae,s,null)}}ma(e,d,A,k,Q,_,h,!1);return;case"select":We("invalid",e),o=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(A=s[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":o=A;default:mt(e,i,h,A,s,null)}i=d,s=_,e.multiple=!!o,i!=null?hi(e,!!o,i,!1):s!=null&&hi(e,!!o,s,!0);return;case"textarea":We("invalid",e),d=h=o=null;for(_ in s)if(s.hasOwnProperty(_)&&(A=s[_],A!=null))switch(_){case"value":o=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:mt(e,i,_,A,s,null)}Ds(e,o,h,d);return;case"option":for(k in s)s.hasOwnProperty(k)&&(o=s[k],o!=null)&&(k==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":mt(e,i,k,o,s,null));return;case"dialog":We("beforetoggle",e),We("toggle",e),We("cancel",e),We("close",e);break;case"iframe":case"object":We("load",e);break;case"video":case"audio":for(o=0;o<Sl.length;o++)We(Sl[o],e);break;case"image":We("error",e),We("load",e);break;case"details":We("toggle",e);break;case"embed":case"source":case"link":We("error",e),We("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in s)if(s.hasOwnProperty(Q)&&(o=s[Q],o!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:mt(e,i,Q,o,s,null)}return;default:if(zo(i)){for(ae in s)s.hasOwnProperty(ae)&&(o=s[ae],o!==void 0&&$h(e,i,ae,o,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(o=s[A],o!=null&&mt(e,i,A,o,s,null))}function SS(e,i,s,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,A=null,k=null,Q=null,ae=null;for(te in s){var ue=s[te];if(s.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":k=ue;default:o.hasOwnProperty(te)||mt(e,i,te,null,o,ue)}}for(var Z in o){var te=o[Z];if(ue=s[Z],o.hasOwnProperty(Z)&&(te!=null||ue!=null))switch(Z){case"type":d=te;break;case"name":h=te;break;case"checked":Q=te;break;case"defaultChecked":ae=te;break;case"value":_=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,i));break;default:te!==ue&&mt(e,i,Z,te,o,ue)}}ji(e,_,A,k,Q,ae,d,h);return;case"select":te=_=A=Z=null;for(d in s)if(k=s[d],s.hasOwnProperty(d)&&k!=null)switch(d){case"value":break;case"multiple":te=k;default:o.hasOwnProperty(d)||mt(e,i,d,null,o,k)}for(h in o)if(d=o[h],k=s[h],o.hasOwnProperty(h)&&(d!=null||k!=null))switch(h){case"value":Z=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==k&&mt(e,i,h,d,o,k)}i=A,s=_,o=te,Z!=null?hi(e,!!s,Z,!1):!!o!=!!s&&(i!=null?hi(e,!!s,i,!0):hi(e,!!s,s?[]:"",!1));return;case"textarea":te=Z=null;for(A in s)if(h=s[A],s.hasOwnProperty(A)&&h!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:mt(e,i,A,null,o,h)}for(_ in o)if(h=o[_],d=s[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":Z=h;break;case"defaultValue":te=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&mt(e,i,_,h,o,d)}Bo(e,Z,te);return;case"option":for(var Ce in s)Z=s[Ce],s.hasOwnProperty(Ce)&&Z!=null&&!o.hasOwnProperty(Ce)&&(Ce==="selected"?e.selected=!1:mt(e,i,Ce,null,o,Z));for(k in o)Z=o[k],te=s[k],o.hasOwnProperty(k)&&Z!==te&&(Z!=null||te!=null)&&(k==="selected"?e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":mt(e,i,k,Z,o,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in s)Z=s[Be],s.hasOwnProperty(Be)&&Z!=null&&!o.hasOwnProperty(Be)&&mt(e,i,Be,null,o,Z);for(Q in o)if(Z=o[Q],te=s[Q],o.hasOwnProperty(Q)&&Z!==te&&(Z!=null||te!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:mt(e,i,Q,Z,o,te)}return;default:if(zo(i)){for(var yt in s)Z=s[yt],s.hasOwnProperty(yt)&&Z!==void 0&&!o.hasOwnProperty(yt)&&$h(e,i,yt,void 0,o,Z);for(ae in o)Z=o[ae],te=s[ae],!o.hasOwnProperty(ae)||Z===te||Z===void 0&&te===void 0||$h(e,i,ae,Z,o,te);return}}for(var K in s)Z=s[K],s.hasOwnProperty(K)&&Z!=null&&!o.hasOwnProperty(K)&&mt(e,i,K,null,o,Z);for(ue in o)Z=o[ue],te=s[ue],!o.hasOwnProperty(ue)||Z===te||Z==null&&te==null||mt(e,i,ue,Z,o,te)}function jg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],d=h.transferSize,_=h.initiatorType,A=h.duration;if(d&&A&&jg(_)){for(_=0,A=h.responseEnd,o+=1;o<s.length;o++){var k=s[o],Q=k.startTime;if(Q>A)break;var ae=k.transferSize,ue=k.initiatorType;ae&&jg(ue)&&(k=k.responseEnd,_+=ae*(k<A?1:(A-Q)/(k-Q)))}if(--o,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yh=null,Fh=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function kg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dg(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Xh(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jh=null;function ES(){var e=window.event;return e&&e.type==="popstate"?e===Jh?!1:(Jh=e,!0):(Jh=null,!1)}var Mg=typeof setTimeout=="function"?setTimeout:void 0,xS=typeof clearTimeout=="function"?clearTimeout:void 0,Ng=typeof Promise=="function"?Promise:void 0,AS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ng<"u"?function(e){return Ng.resolve(null).then(e).catch(OS)}:Mg;function OS(e){setTimeout(function(){throw e})}function ts(e){return e==="head"}function Ug(e,i){var s=i,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),io(i);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")El(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,El(s);for(var d=s.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[zn]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=_}}else s==="body"&&El(e.ownerDocument.body);s=h}while(s);io(i)}function Bg(e,i){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Qh(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Qh(s),da(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function CS(e,i,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[zn])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=si(e.nextSibling),e===null)break}return null}function RS(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=si(e.nextSibling),e===null))return null;return e}function Lg(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=si(e.nextSibling),e===null))return null;return e}function Wh(e){return e.data==="$?"||e.data==="$~"}function Zh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function jS(e,i){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||s.readyState!=="loading")i();else{var o=function(){i(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function si(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var ed=null;function zg(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(i===0)return si(e.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}e=e.nextSibling}return null}function Vg(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return e;i--}else s!=="/$"&&s!=="/&"||i++}e=e.previousSibling}return null}function Pg(e,i,s){switch(i=hc(s),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function El(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);da(e)}var ai=new Map,qg=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vr=ge.d;ge.d={f:kS,r:DS,D:MS,C:NS,L:US,m:BS,X:zS,S:LS,M:VS};function kS(){var e=vr.f(),i=rc();return e||i}function DS(e){var i=ht(e);i!==null&&i.tag===5&&i.type==="form"?ry(i):vr.r(e)}var eo=typeof document>"u"?null:document;function Ig(e,i,s){var o=eo;if(o&&typeof i=="string"&&i){var h=Zt(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),qg.has(h)||(qg.add(h),e={rel:e,crossOrigin:s,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),cn(i,"link",e),Lt(i),o.head.appendChild(i)))}}function MS(e){vr.D(e),Ig("dns-prefetch",e,null)}function NS(e,i){vr.C(e,i),Ig("preconnect",e,i)}function US(e,i,s){vr.L(e,i,s);var o=eo;if(o&&e&&i){var h='link[rel="preload"][as="'+Zt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Zt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Zt(s.imageSizes)+'"]')):h+='[href="'+Zt(e)+'"]';var d=h;switch(i){case"style":d=to(e);break;case"script":d=no(e)}ai.has(d)||(e=T({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),ai.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(xl(d))||i==="script"&&o.querySelector(Al(d))||(i=o.createElement("link"),cn(i,"link",e),Lt(i),o.head.appendChild(i)))}}function BS(e,i){vr.m(e,i);var s=eo;if(s&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Zt(o)+'"][href="'+Zt(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(e)}if(!ai.has(d)&&(e=T({rel:"modulepreload",href:e},i),ai.set(d,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Al(d)))return}o=s.createElement("link"),cn(o,"link",e),Lt(o),s.head.appendChild(o)}}}function LS(e,i,s){vr.S(e,i,s);var o=eo;if(o&&e){var h=yn(o).hoistableStyles,d=to(e);i=i||"default";var _=h.get(d);if(!_){var A={loading:0,preload:null};if(_=o.querySelector(xl(d)))A.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},s),(s=ai.get(d))&&td(e,s);var k=_=o.createElement("link");Lt(k),cn(k,"link",e),k._p=new Promise(function(Q,ae){k.onload=Q,k.onerror=ae}),k.addEventListener("load",function(){A.loading|=1}),k.addEventListener("error",function(){A.loading|=2}),A.loading|=4,pc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:A},h.set(d,_)}}}function zS(e,i){vr.X(e,i);var s=eo;if(s&&e){var o=yn(s).hoistableScripts,h=no(e),d=o.get(h);d||(d=s.querySelector(Al(h)),d||(e=T({src:e,async:!0},i),(i=ai.get(h))&&nd(e,i),d=s.createElement("script"),Lt(d),cn(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function VS(e,i){vr.M(e,i);var s=eo;if(s&&e){var o=yn(s).hoistableScripts,h=no(e),d=o.get(h);d||(d=s.querySelector(Al(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=ai.get(h))&&nd(e,i),d=s.createElement("script"),Lt(d),cn(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Kg(e,i,s,o){var h=(h=Ge.current)?dc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=to(s.href),s=yn(h).hoistableStyles,o=s.get(i),o||(o={type:"style",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=to(s.href);var d=yn(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(xl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),ai.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ai.set(e,s),d||PS(h,e,s,_.state))),i&&o===null)throw Error(a(528,""));return _}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(s),s=yn(h).hoistableScripts,o=s.get(i),o||(o={type:"script",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function to(e){return'href="'+Zt(e)+'"'}function xl(e){return'link[rel="stylesheet"]['+e+"]"}function Hg(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function PS(e,i,s,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),cn(i,"link",s),Lt(i),e.head.appendChild(i))}function no(e){return'[src="'+Zt(e)+'"]'}function Al(e){return"script[async]"+e}function Gg(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+Zt(s.href)+'"]');if(o)return i.instance=o,Lt(o),o;var h=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Lt(o),cn(o,"style",h),pc(o,s.precedence,e),i.instance=o;case"stylesheet":h=to(s.href);var d=e.querySelector(xl(h));if(d)return i.state.loading|=4,i.instance=d,Lt(d),d;o=Hg(s),(h=ai.get(h))&&td(o,h),d=(e.ownerDocument||e).createElement("link"),Lt(d);var _=d;return _._p=new Promise(function(A,k){_.onload=A,_.onerror=k}),cn(d,"link",o),i.state.loading|=4,pc(d,s.precedence,e),i.instance=d;case"script":return d=no(s.src),(h=e.querySelector(Al(d)))?(i.instance=h,Lt(h),h):(o=s,(h=ai.get(d))&&(o=T({},s),nd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Lt(h),cn(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,pc(o,s.precedence,e));return i.instance}function pc(e,i,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var A=o[_];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function td(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function nd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var mc=null;function $g(e,i,s){if(mc===null){var o=new Map,h=mc=new Map;h.set(s,o)}else h=mc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[zn]||d[_t]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var A=o.get(_);A?A.push(d):o.set(_,[d])}}return o}function Yg(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function qS(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Fg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function IS(e,i,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=to(o.href),d=i.querySelector(xl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=yc.bind(e),i.then(e,e)),s.state.loading|=4,s.instance=d,Lt(d);return}d=i.ownerDocument||i,o=Hg(o),(h=ai.get(h))&&td(o,h),d=d.createElement("link"),Lt(d);var _=d;_._p=new Promise(function(A,k){_.onload=A,_.onerror=k}),cn(d,"link",o),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=yc.bind(e),i.addEventListener("load",s),i.addEventListener("error",s))}}var id=0;function KS(e,i){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&id===0&&(id=62500*TS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>id?50:800)+i);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function vc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,i.forEach(HS,e),gc=null,yc.call(e))}function HS(e,i){if(!(i.state.loading&4)){var s=gc.get(e);if(s)var o=s.get(null);else{s=new Map,gc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),o=_)}o&&s.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||o,d===o&&s.set(null,h),s.set(_,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Ol={$$typeof:F,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function GS(e,i,s,o,h,d,_,A,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Xg(e,i,s,o,h,d,_,A,k,Q,ae,ue){return e=new GS(e,i,s,_,k,Q,ae,ue,A),i=1,d===!0&&(i|=24),d=qn(3,null,null,i),e.current=d,d.stateNode=e,i=Bf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:i},Pf(d),e}function Jg(e){return e?(e=Ma,e):Ma}function Qg(e,i,s,o,h,d){h=Jg(h),o.context===null?o.context=h:o.pendingContext=h,o=Hr(i),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Gr(e,o,i),s!==null&&(Ln(s,e,i),sl(s,e,i))}function Wg(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function rd(e,i){Wg(e,i),(e=e.alternate)&&Wg(e,i)}function Zg(e){if(e.tag===13||e.tag===31){var i=ut(e,67108864);i!==null&&Ln(i,e,67108864),rd(e,67108864)}}function ev(e){if(e.tag===13||e.tag===31){var i=$n();i=Do(i);var s=ut(e,i);s!==null&&Ln(s,e,i),rd(e,i)}}var bc=!0;function $S(e,i,s,o){var h=re.T;re.T=null;var d=ge.p;try{ge.p=2,sd(e,i,s,o)}finally{ge.p=d,re.T=h}}function YS(e,i,s,o){var h=re.T;re.T=null;var d=ge.p;try{ge.p=8,sd(e,i,s,o)}finally{ge.p=d,re.T=h}}function sd(e,i,s,o){if(bc){var h=ad(o);if(h===null)Gh(e,i,o,_c,s),nv(e,o);else if(XS(h,e,i,s,o))o.stopPropagation();else if(nv(e,o),i&4&&-1<FS.indexOf(e)){for(;h!==null;){var d=ht(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ci(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var k=1<<31-Te(_);A.entanglements[1]|=k,_&=~k}zi(d),(lt&6)===0&&(nc=pn()+500,wl(0))}}break;case 31:case 13:A=ut(d,2),A!==null&&Ln(A,d,2),rc(),rd(d,2)}if(d=ad(o),d===null&&Gh(e,i,o,_c,s),d===h)break;h=d}h!==null&&o.stopPropagation()}else Gh(e,i,o,null,s)}}function ad(e){return e=ya(e),od(e)}var _c=null;function od(e){if(_c=null,e=Ci(e),e!==null){var i=u(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=f(i),e!==null)return e;e=null}else if(s===31){if(e=m(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return _c=e,null}function tv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bs()){case mn:return 2;case Ti:return 8;case Er:case _s:return 32;case ca:return 268435456;default:return 32}default:return 32}}var ld=!1,ns=null,is=null,rs=null,Cl=new Map,Rl=new Map,ss=[],FS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nv(e,i){switch(e){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(i.pointerId)}}function jl(e,i,s,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ht(i),i!==null&&Zg(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function XS(e,i,s,o,h){switch(i){case"focusin":return ns=jl(ns,e,i,s,o,h),!0;case"dragenter":return is=jl(is,e,i,s,o,h),!0;case"mouseover":return rs=jl(rs,e,i,s,o,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,jl(Cl.get(d)||null,e,i,s,o,h)),!0;case"gotpointercapture":return d=h.pointerId,Rl.set(d,jl(Rl.get(d)||null,e,i,s,o,h)),!0}return!1}function iv(e){var i=Ci(e.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){e.blockedOn=i,As(e.priority,function(){ev(s)});return}}else if(i===31){if(i=m(s),i!==null){e.blockedOn=i,As(e.priority,function(){ev(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=ad(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Qn=o,s.target.dispatchEvent(o),Qn=null}else return i=ht(s),i!==null&&Zg(i),e.blockedOn=s,!1;i.shift()}return!0}function rv(e,i,s){wc(e)&&s.delete(i)}function JS(){ld=!1,ns!==null&&wc(ns)&&(ns=null),is!==null&&wc(is)&&(is=null),rs!==null&&wc(rs)&&(rs=null),Cl.forEach(rv),Rl.forEach(rv)}function Sc(e,i){e.blockedOn===i&&(e.blockedOn=null,ld||(ld=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,JS)))}var Tc=null;function sv(e){Tc!==e&&(Tc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var i=0;i<e.length;i+=3){var s=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(od(o||s)===null)continue;break}var d=ht(s);d!==null&&(e.splice(i,3),i-=3,ah(d,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function io(e){function i(k){return Sc(k,e)}ns!==null&&Sc(ns,e),is!==null&&Sc(is,e),rs!==null&&Sc(rs,e),Cl.forEach(i),Rl.forEach(i);for(var s=0;s<ss.length;s++){var o=ss[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ss.length&&(s=ss[0],s.blockedOn===null);)iv(s),s.blockedOn===null&&ss.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],d=s[o+1],_=h[Bt]||null;if(typeof d=="function")_||sv(s);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Bt]||null)A=_.formAction;else if(od(h)!==null)continue}else A=_.action;typeof A=="function"?s[o+1]=A:(s.splice(o,3),o-=3),sv(s)}}}function av(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function ud(e){this._internalRoot=e}Ec.prototype.render=ud.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,o=$n();Qg(s,o,e,i,null,null)},Ec.prototype.unmount=ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Qg(e.current,2,null,e,null,null),rc(),i[En]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var i=xs();e={blockedOn:null,target:e,priority:i};for(var s=0;s<ss.length&&i!==0&&i<ss[s].priority;s++);ss.splice(s,0,e),s===0&&iv(e)}};var ov=t.version;if(ov!=="19.2.4")throw Error(a(527,ov,"19.2.4"));ge.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(i),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var QS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Ei=xc.inject(QS),rn=xc}catch{}}return Dl.createRoot=function(e,i){if(!l(e))throw Error(a(299));var s=!1,o="",h=py,d=my,_=yy;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Xg(e,1,!1,null,null,s,o,null,h,d,_,av),e[En]=i.current,Hh(e),new ud(i)},Dl.hydrateRoot=function(e,i,s){if(!l(e))throw Error(a(299));var o=!1,h="",d=py,_=my,A=yy,k=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.formState!==void 0&&(k=s.formState)),i=Xg(e,1,!0,i,s??null,o,h,k,d,_,A,av),i.context=Jg(null),s=i.current,o=$n(),o=Do(o),h=Hr(o),h.callback=null,Gr(s,h,o),s=o,i.current.lanes=s,Xn(i,s),zi(i),e[En]=i.current,Hh(e),new Ec(i)},Dl.version="19.2.4",Dl}var gv;function uT(){if(gv)return hd.exports;gv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),hd.exports=lT(),hd.exports}var cT=uT();const Ab=(...n)=>n.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim();const fT=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const hT=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase());const vv=n=>{const t=hT(n);return t.charAt(0).toUpperCase()+t.slice(1)};var dT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pT=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const mT=me.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:f,...m},y)=>me.createElement("svg",{ref:y,...dT,width:t,height:t,stroke:n,strokeWidth:a?Number(r)*24/Number(t):r,className:Ab("lucide",l),...!u&&!pT(m)&&{"aria-hidden":"true"},...m},[...f.map(([v,w])=>me.createElement(v,w)),...Array.isArray(u)?u:[u]]));const Rn=(n,t)=>{const r=me.forwardRef(({className:a,...l},u)=>me.createElement(mT,{ref:u,iconNode:t,className:Ab(`lucide-${fT(vv(n))}`,`lucide-${n}`,a),...l}));return r.displayName=vv(n),r};const yT=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],gT=Rn("book",yT);const vT=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],bT=Rn("camera",vT);const _T=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],wT=Rn("chevron-left",_T);const ST=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],TT=Rn("chevron-right",ST);const ET=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],xT=Rn("image",ET);const AT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ob=Rn("loader-circle",AT);const OT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cb=Rn("plus",OT);const CT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RT=Rn("rotate-ccw",CT);const jT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kT=Rn("save",jT);const DT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],MT=Rn("search",DT);const NT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Lc=Rn("sparkles",NT);const UT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bv=Rn("trash-2",UT);const BT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],LT=Rn("upload",BT);const zT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Pd=Rn("volume-2",zT);const VT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yc=Rn("x",VT),Ep=me.createContext({});function xp(n){const t=me.useRef(null);return t.current===null&&(t.current=n()),t.current}const Rb=typeof window<"u",jb=Rb?me.useLayoutEffect:me.useEffect,lf=me.createContext(null);function Ap(n,t){n.indexOf(t)===-1&&n.push(t)}function Fc(n,t){const r=n.indexOf(t);r>-1&&n.splice(r,1)}const qi=(n,t,r)=>r>t?t:r<n?n:r;let Op=()=>{};const _r={},kb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Db(n){return typeof n=="object"&&n!==null}const Mb=n=>/^0[^.\s]+$/u.test(n);function Cp(n){let t;return()=>(t===void 0&&(t=n()),t)}const li=n=>n,PT=(n,t)=>r=>t(n(r)),su=(...n)=>n.reduce(PT),Hl=(n,t,r)=>{const a=t-n;return a===0?1:(r-n)/a};class Rp{constructor(){this.subscriptions=[]}add(t){return Ap(this.subscriptions,t),()=>Fc(this.subscriptions,t)}notify(t,r,a){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,r,a);else for(let u=0;u<l;u++){const f=this.subscriptions[u];f&&f(t,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wi=n=>n*1e3,oi=n=>n/1e3;function Nb(n,t){return t?n*(1e3/t):0}const Ub=(n,t,r)=>(((1-3*r+3*t)*n+(3*r-6*t))*n+3*t)*n,qT=1e-7,IT=12;function KT(n,t,r,a,l){let u,f,m=0;do f=t+(r-t)/2,u=Ub(f,a,l)-n,u>0?r=f:t=f;while(Math.abs(u)>qT&&++m<IT);return f}function au(n,t,r,a){if(n===t&&r===a)return li;const l=u=>KT(u,0,1,n,r);return u=>u===0||u===1?u:Ub(l(u),t,a)}const Bb=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,Lb=n=>t=>1-n(1-t),zb=au(.33,1.53,.69,.99),jp=Lb(zb),Vb=Bb(jp),Pb=n=>(n*=2)<1?.5*jp(n):.5*(2-Math.pow(2,-10*(n-1))),kp=n=>1-Math.sin(Math.acos(n)),qb=Lb(kp),Ib=Bb(kp),HT=au(.42,0,1,1),GT=au(0,0,.58,1),Kb=au(.42,0,.58,1),$T=n=>Array.isArray(n)&&typeof n[0]!="number",Hb=n=>Array.isArray(n)&&typeof n[0]=="number",YT={linear:li,easeIn:HT,easeInOut:Kb,easeOut:GT,circIn:kp,circInOut:Ib,circOut:qb,backIn:jp,backInOut:Vb,backOut:zb,anticipate:Pb},FT=n=>typeof n=="string",_v=n=>{if(Hb(n)){Op(n.length===4);const[t,r,a,l]=n;return au(t,r,a,l)}else if(FT(n))return YT[n];return n},Ac=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function XT(n,t){let r=new Set,a=new Set,l=!1,u=!1;const f=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function y(w){f.has(w)&&(v.schedule(w),n()),w(m)}const v={schedule:(w,T=!1,x=!1)=>{const j=x&&l?r:a;return T&&f.add(w),j.has(w)||j.add(w),w},cancel:w=>{a.delete(w),f.delete(w)},process:w=>{if(m=w,l){u=!0;return}l=!0,[r,a]=[a,r],r.forEach(y),r.clear(),l=!1,u&&(u=!1,v.process(w))}};return v}const JT=40;function Gb(n,t){let r=!1,a=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>r=!0,f=Ac.reduce((F,ce)=>(F[ce]=XT(u),F),{}),{setup:m,read:y,resolveKeyframes:v,preUpdate:w,update:T,preRender:x,render:O,postRender:j}=f,D=()=>{const F=_r.useManualTiming?l.timestamp:performance.now();r=!1,_r.useManualTiming||(l.delta=a?1e3/60:Math.max(Math.min(F-l.timestamp,JT),1)),l.timestamp=F,l.isProcessing=!0,m.process(l),y.process(l),v.process(l),w.process(l),T.process(l),x.process(l),O.process(l),j.process(l),l.isProcessing=!1,r&&t&&(a=!1,n(D))},H=()=>{r=!0,a=!0,l.isProcessing||n(D)};return{schedule:Ac.reduce((F,ce)=>{const ne=f[ce];return F[ce]=(ye,fe=!1,ie=!1)=>(r||H(),ne.schedule(ye,fe,ie)),F},{}),cancel:F=>{for(let ce=0;ce<Ac.length;ce++)f[Ac[ce]].cancel(F)},state:l,steps:f}}const{schedule:St,cancel:ds,state:dn,steps:yd}=Gb(typeof requestAnimationFrame<"u"?requestAnimationFrame:li,!0);let zc;function QT(){zc=void 0}const On={now:()=>(zc===void 0&&On.set(dn.isProcessing||_r.useManualTiming?dn.timestamp:performance.now()),zc),set:n=>{zc=n,queueMicrotask(QT)}},$b=n=>t=>typeof t=="string"&&t.startsWith(n),Yb=$b("--"),WT=$b("var(--"),Dp=n=>WT(n)?ZT.test(n.split("/*")[0].trim()):!1,ZT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function wv(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const xo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Gl={...xo,transform:n=>qi(0,1,n)},Oc={...xo,default:1},Ll=n=>Math.round(n*1e5)/1e5,Mp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eE(n){return n==null}const tE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Np=(n,t)=>r=>!!(typeof r=="string"&&tE.test(r)&&r.startsWith(n)||t&&!eE(r)&&Object.prototype.hasOwnProperty.call(r,t)),Fb=(n,t,r)=>a=>{if(typeof a!="string")return a;const[l,u,f,m]=a.match(Mp);return{[n]:parseFloat(l),[t]:parseFloat(u),[r]:parseFloat(f),alpha:m!==void 0?parseFloat(m):1}},nE=n=>qi(0,255,n),gd={...xo,transform:n=>Math.round(nE(n))},sa={test:Np("rgb","red"),parse:Fb("red","green","blue"),transform:({red:n,green:t,blue:r,alpha:a=1})=>"rgba("+gd.transform(n)+", "+gd.transform(t)+", "+gd.transform(r)+", "+Ll(Gl.transform(a))+")"};function iE(n){let t="",r="",a="",l="";return n.length>5?(t=n.substring(1,3),r=n.substring(3,5),a=n.substring(5,7),l=n.substring(7,9)):(t=n.substring(1,2),r=n.substring(2,3),a=n.substring(3,4),l=n.substring(4,5),t+=t,r+=r,a+=a,l+=l),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:l?parseInt(l,16)/255:1}}const qd={test:Np("#"),parse:iE,transform:sa.transform},ou=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),os=ou("deg"),Pi=ou("%"),Re=ou("px"),rE=ou("vh"),sE=ou("vw"),Sv={...Pi,parse:n=>Pi.parse(n)/100,transform:n=>Pi.transform(n*100)},yo={test:Np("hsl","hue"),parse:Fb("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:r,alpha:a=1})=>"hsla("+Math.round(n)+", "+Pi.transform(Ll(t))+", "+Pi.transform(Ll(r))+", "+Ll(Gl.transform(a))+")"},$t={test:n=>sa.test(n)||qd.test(n)||yo.test(n),parse:n=>sa.test(n)?sa.parse(n):yo.test(n)?yo.parse(n):qd.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?sa.transform(n):yo.transform(n),getAnimatableNone:n=>{const t=$t.parse(n);return t.alpha=0,$t.transform(t)}},aE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oE(n){return isNaN(n)&&typeof n=="string"&&(n.match(Mp)?.length||0)+(n.match(aE)?.length||0)>0}const Xb="number",Jb="color",lE="var",uE="var(",Tv="${}",cE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $l(n){const t=n.toString(),r=[],a={color:[],number:[],var:[]},l=[];let u=0;const m=t.replace(cE,y=>($t.test(y)?(a.color.push(u),l.push(Jb),r.push($t.parse(y))):y.startsWith(uE)?(a.var.push(u),l.push(lE),r.push(y)):(a.number.push(u),l.push(Xb),r.push(parseFloat(y))),++u,Tv)).split(Tv);return{values:r,split:m,indexes:a,types:l}}function Qb(n){return $l(n).values}function Wb(n){const{split:t,types:r}=$l(n),a=t.length;return l=>{let u="";for(let f=0;f<a;f++)if(u+=t[f],l[f]!==void 0){const m=r[f];m===Xb?u+=Ll(l[f]):m===Jb?u+=$t.transform(l[f]):u+=l[f]}return u}}const fE=n=>typeof n=="number"?0:$t.test(n)?$t.getAnimatableNone(n):n;function hE(n){const t=Qb(n);return Wb(n)(t.map(fE))}const ps={test:oE,parse:Qb,createTransformer:Wb,getAnimatableNone:hE};function vd(n,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(t-n)*6*r:r<1/2?t:r<2/3?n+(t-n)*(2/3-r)*6:n}function dE({hue:n,saturation:t,lightness:r,alpha:a}){n/=360,t/=100,r/=100;let l=0,u=0,f=0;if(!t)l=u=f=r;else{const m=r<.5?r*(1+t):r+t-r*t,y=2*r-m;l=vd(y,m,n+1/3),u=vd(y,m,n),f=vd(y,m,n-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(f*255),alpha:a}}function Xc(n,t){return r=>r>0?t:n}const jt=(n,t,r)=>n+(t-n)*r,bd=(n,t,r)=>{const a=n*n,l=r*(t*t-a)+a;return l<0?0:Math.sqrt(l)},pE=[qd,sa,yo],mE=n=>pE.find(t=>t.test(n));function Ev(n){const t=mE(n);if(!t)return!1;let r=t.parse(n);return t===yo&&(r=dE(r)),r}const xv=(n,t)=>{const r=Ev(n),a=Ev(t);if(!r||!a)return Xc(n,t);const l={...r};return u=>(l.red=bd(r.red,a.red,u),l.green=bd(r.green,a.green,u),l.blue=bd(r.blue,a.blue,u),l.alpha=jt(r.alpha,a.alpha,u),sa.transform(l))},Id=new Set(["none","hidden"]);function yE(n,t){return Id.has(n)?r=>r<=0?n:t:r=>r>=1?t:n}function gE(n,t){return r=>jt(n,t,r)}function Up(n){return typeof n=="number"?gE:typeof n=="string"?Dp(n)?Xc:$t.test(n)?xv:_E:Array.isArray(n)?Zb:typeof n=="object"?$t.test(n)?xv:vE:Xc}function Zb(n,t){const r=[...n],a=r.length,l=n.map((u,f)=>Up(u)(u,t[f]));return u=>{for(let f=0;f<a;f++)r[f]=l[f](u);return r}}function vE(n,t){const r={...n,...t},a={};for(const l in r)n[l]!==void 0&&t[l]!==void 0&&(a[l]=Up(n[l])(n[l],t[l]));return l=>{for(const u in a)r[u]=a[u](l);return r}}function bE(n,t){const r=[],a={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const u=t.types[l],f=n.indexes[u][a[u]],m=n.values[f]??0;r[l]=m,a[u]++}return r}const _E=(n,t)=>{const r=ps.createTransformer(t),a=$l(n),l=$l(t);return a.indexes.var.length===l.indexes.var.length&&a.indexes.color.length===l.indexes.color.length&&a.indexes.number.length>=l.indexes.number.length?Id.has(n)&&!l.values.length||Id.has(t)&&!a.values.length?yE(n,t):su(Zb(bE(a,l),l.values),r):Xc(n,t)};function e_(n,t,r){return typeof n=="number"&&typeof t=="number"&&typeof r=="number"?jt(n,t,r):Up(n)(n,t)}const wE=n=>{const t=({timestamp:r})=>n(r);return{start:(r=!0)=>St.update(t,r),stop:()=>ds(t),now:()=>dn.isProcessing?dn.timestamp:On.now()}},t_=(n,t,r=10)=>{let a="";const l=Math.max(Math.round(t/r),2);for(let u=0;u<l;u++)a+=Math.round(n(u/(l-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Jc=2e4;function Bp(n){let t=0;const r=50;let a=n.next(t);for(;!a.done&&t<Jc;)t+=r,a=n.next(t);return t>=Jc?1/0:t}function SE(n,t=100,r){const a=r({...n,keyframes:[0,t]}),l=Math.min(Bp(a),Jc);return{type:"keyframes",ease:u=>a.next(l*u).value/t,duration:oi(l)}}const TE=5;function n_(n,t,r){const a=Math.max(t-TE,0);return Nb(r-n(a),t-a)}const Nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_d=.001;function EE({duration:n=Nt.duration,bounce:t=Nt.bounce,velocity:r=Nt.velocity,mass:a=Nt.mass}){let l,u,f=1-t;f=qi(Nt.minDamping,Nt.maxDamping,f),n=qi(Nt.minDuration,Nt.maxDuration,oi(n)),f<1?(l=v=>{const w=v*f,T=w*n,x=w-r,O=Kd(v,f),j=Math.exp(-T);return _d-x/O*j},u=v=>{const T=v*f*n,x=T*r+r,O=Math.pow(f,2)*Math.pow(v,2)*n,j=Math.exp(-T),D=Kd(Math.pow(v,2),f);return(-l(v)+_d>0?-1:1)*((x-O)*j)/D}):(l=v=>{const w=Math.exp(-v*n),T=(v-r)*n+1;return-_d+w*T},u=v=>{const w=Math.exp(-v*n),T=(r-v)*(n*n);return w*T});const m=5/n,y=AE(l,u,m);if(n=wi(n),isNaN(y))return{stiffness:Nt.stiffness,damping:Nt.damping,duration:n};{const v=Math.pow(y,2)*a;return{stiffness:v,damping:f*2*Math.sqrt(a*v),duration:n}}}const xE=12;function AE(n,t,r){let a=r;for(let l=1;l<xE;l++)a=a-n(a)/t(a);return a}function Kd(n,t){return n*Math.sqrt(1-t*t)}const OE=["duration","bounce"],CE=["stiffness","damping","mass"];function Av(n,t){return t.some(r=>n[r]!==void 0)}function RE(n){let t={velocity:Nt.velocity,stiffness:Nt.stiffness,damping:Nt.damping,mass:Nt.mass,isResolvedFromDuration:!1,...n};if(!Av(n,CE)&&Av(n,OE))if(n.visualDuration){const r=n.visualDuration,a=2*Math.PI/(r*1.2),l=a*a,u=2*qi(.05,1,1-(n.bounce||0))*Math.sqrt(l);t={...t,mass:Nt.mass,stiffness:l,damping:u}}else{const r=EE(n);t={...t,...r,mass:Nt.mass},t.isResolvedFromDuration=!0}return t}function Qc(n=Nt.visualDuration,t=Nt.bounce){const r=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:a,restDelta:l}=r;const u=r.keyframes[0],f=r.keyframes[r.keyframes.length-1],m={done:!1,value:u},{stiffness:y,damping:v,mass:w,duration:T,velocity:x,isResolvedFromDuration:O}=RE({...r,velocity:-oi(r.velocity||0)}),j=x||0,D=v/(2*Math.sqrt(y*w)),H=f-u,X=oi(Math.sqrt(y/w)),ee=Math.abs(H)<5;a||(a=ee?Nt.restSpeed.granular:Nt.restSpeed.default),l||(l=ee?Nt.restDelta.granular:Nt.restDelta.default);let F;if(D<1){const ne=Kd(X,D);F=ye=>{const fe=Math.exp(-D*X*ye);return f-fe*((j+D*X*H)/ne*Math.sin(ne*ye)+H*Math.cos(ne*ye))}}else if(D===1)F=ne=>f-Math.exp(-X*ne)*(H+(j+X*H)*ne);else{const ne=X*Math.sqrt(D*D-1);F=ye=>{const fe=Math.exp(-D*X*ye),ie=Math.min(ne*ye,300);return f-fe*((j+D*X*H)*Math.sinh(ie)+ne*H*Math.cosh(ie))/ne}}const ce={calculatedDuration:O&&T||null,next:ne=>{const ye=F(ne);if(O)m.done=ne>=T;else{let fe=ne===0?j:0;D<1&&(fe=ne===0?wi(j):n_(F,ne,ye));const ie=Math.abs(fe)<=a,je=Math.abs(f-ye)<=l;m.done=ie&&je}return m.value=m.done?f:ye,m},toString:()=>{const ne=Math.min(Bp(ce),Jc),ye=t_(fe=>ce.next(ne*fe).value,ne,30);return ne+"ms "+ye},toTransition:()=>{}};return ce}Qc.applyToOptions=n=>{const t=SE(n,100,Qc);return n.ease=t.ease,n.duration=wi(t.duration),n.type="keyframes",n};function Hd({keyframes:n,velocity:t=0,power:r=.8,timeConstant:a=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:f,min:m,max:y,restDelta:v=.5,restSpeed:w}){const T=n[0],x={done:!1,value:T},O=ie=>m!==void 0&&ie<m||y!==void 0&&ie>y,j=ie=>m===void 0?y:y===void 0||Math.abs(m-ie)<Math.abs(y-ie)?m:y;let D=r*t;const H=T+D,X=f===void 0?H:f(H);X!==H&&(D=X-T);const ee=ie=>-D*Math.exp(-ie/a),F=ie=>X+ee(ie),ce=ie=>{const je=ee(ie),it=F(ie);x.done=Math.abs(je)<=v,x.value=x.done?X:it};let ne,ye;const fe=ie=>{O(x.value)&&(ne=ie,ye=Qc({keyframes:[x.value,j(x.value)],velocity:n_(F,ie,x.value),damping:l,stiffness:u,restDelta:v,restSpeed:w}))};return fe(0),{calculatedDuration:null,next:ie=>{let je=!1;return!ye&&ne===void 0&&(je=!0,ce(ie),fe(ie)),ne!==void 0&&ie>=ne?ye.next(ie-ne):(!je&&ce(ie),x)}}}function jE(n,t,r){const a=[],l=r||_r.mix||e_,u=n.length-1;for(let f=0;f<u;f++){let m=l(n[f],n[f+1]);if(t){const y=Array.isArray(t)?t[f]||li:t;m=su(y,m)}a.push(m)}return a}function kE(n,t,{clamp:r=!0,ease:a,mixer:l}={}){const u=n.length;if(Op(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const f=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const m=jE(t,a,l),y=m.length,v=w=>{if(f&&w<n[0])return t[0];let T=0;if(y>1)for(;T<n.length-2&&!(w<n[T+1]);T++);const x=Hl(n[T],n[T+1],w);return m[T](x)};return r?w=>v(qi(n[0],n[u-1],w)):v}function DE(n,t){const r=n[n.length-1];for(let a=1;a<=t;a++){const l=Hl(0,t,a);n.push(jt(r,1,l))}}function ME(n){const t=[0];return DE(t,n.length-1),t}function NE(n,t){return n.map(r=>r*t)}function UE(n,t){return n.map(()=>t||Kb).splice(0,n.length-1)}function zl({duration:n=300,keyframes:t,times:r,ease:a="easeInOut"}){const l=$T(a)?a.map(_v):_v(a),u={done:!1,value:t[0]},f=NE(r&&r.length===t.length?r:ME(t),n),m=kE(f,t,{ease:Array.isArray(l)?l:UE(t,l)});return{calculatedDuration:n,next:y=>(u.value=m(y),u.done=y>=n,u)}}const BE=n=>n!==null;function Lp(n,{repeat:t,repeatType:r="loop"},a,l=1){const u=n.filter(BE),m=l<0||t&&r!=="loop"&&t%2===1?0:u.length-1;return!m||a===void 0?u[m]:a}const LE={decay:Hd,inertia:Hd,tween:zl,keyframes:zl,spring:Qc};function i_(n){typeof n.type=="string"&&(n.type=LE[n.type])}class zp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const zE=n=>n/100;class Vp extends zp{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==On.now()&&this.tick(On.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;i_(t);const{type:r=zl,repeat:a=0,repeatDelay:l=0,repeatType:u,velocity:f=0}=t;let{keyframes:m}=t;const y=r||zl;y!==zl&&typeof m[0]!="number"&&(this.mixKeyframes=su(zE,e_(m[0],m[1])),m=[0,100]);const v=y({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=y({...t,keyframes:[...m].reverse(),velocity:-f})),v.calculatedDuration===null&&(v.calculatedDuration=Bp(v));const{calculatedDuration:w}=v;this.calculatedDuration=w,this.resolvedDuration=w+l,this.totalDuration=this.resolvedDuration*(a+1)-l,this.generator=v}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:a,totalDuration:l,mixKeyframes:u,mirroredGenerator:f,resolvedDuration:m,calculatedDuration:y}=this;if(this.startTime===null)return a.next(0);const{delay:v=0,keyframes:w,repeat:T,repeatType:x,repeatDelay:O,type:j,onUpdate:D,finalKeyframe:H}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const X=this.currentTime-v*(this.playbackSpeed>=0?1:-1),ee=this.playbackSpeed>=0?X<0:X>l;this.currentTime=Math.max(X,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let F=this.currentTime,ce=a;if(T){const ie=Math.min(this.currentTime,l)/m;let je=Math.floor(ie),it=ie%1;!it&&ie>=1&&(it=1),it===1&&je--,je=Math.min(je,T+1),je%2&&(x==="reverse"?(it=1-it,O&&(it-=O/m)):x==="mirror"&&(ce=f)),F=qi(0,1,it)*m}const ne=ee?{done:!1,value:w[0]}:ce.next(F);u&&(ne.value=u(ne.value));let{done:ye}=ne;!ee&&y!==null&&(ye=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const fe=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ye);return fe&&j!==Hd&&(ne.value=Lp(w,this.options,H,this.speed)),D&&D(ne.value),fe&&this.finish(),ne}then(t,r){return this.finished.then(t,r)}get duration(){return oi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+oi(t)}get time(){return oi(this.currentTime)}set time(t){t=wi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(On.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=oi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=wE,startTime:r}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(On.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function VE(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const aa=n=>n*180/Math.PI,Gd=n=>{const t=aa(Math.atan2(n[1],n[0]));return $d(t)},PE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Gd,rotateZ:Gd,skewX:n=>aa(Math.atan(n[1])),skewY:n=>aa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},$d=n=>(n=n%360,n<0&&(n+=360),n),Ov=Gd,Cv=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Rv=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),qE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Cv,scaleY:Rv,scale:n=>(Cv(n)+Rv(n))/2,rotateX:n=>$d(aa(Math.atan2(n[6],n[5]))),rotateY:n=>$d(aa(Math.atan2(-n[2],n[0]))),rotateZ:Ov,rotate:Ov,skewX:n=>aa(Math.atan(n[4])),skewY:n=>aa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Yd(n){return n.includes("scale")?1:0}function Fd(n,t){if(!n||n==="none")return Yd(t);const r=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,l;if(r)a=qE,l=r;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=PE,l=m}if(!l)return Yd(t);const u=a[t],f=l[1].split(",").map(KE);return typeof u=="function"?u(f):f[u]}const IE=(n,t)=>{const{transform:r="none"}=getComputedStyle(n);return Fd(r,t)};function KE(n){return parseFloat(n.trim())}const Ao=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oo=new Set(Ao),jv=n=>n===xo||n===Re,HE=new Set(["x","y","z"]),GE=Ao.filter(n=>!HE.has(n));function $E(n){const t=[];return GE.forEach(r=>{const a=n.getValue(r);a!==void 0&&(t.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),t}const fs={width:({x:n},{paddingLeft:t="0",paddingRight:r="0"})=>n.max-n.min-parseFloat(t)-parseFloat(r),height:({y:n},{paddingTop:t="0",paddingBottom:r="0"})=>n.max-n.min-parseFloat(t)-parseFloat(r),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Fd(t,"x"),y:(n,{transform:t})=>Fd(t,"y")};fs.translateX=fs.x;fs.translateY=fs.y;const la=new Set;let Xd=!1,Jd=!1,Qd=!1;function r_(){if(Jd){const n=Array.from(la).filter(a=>a.needsMeasurement),t=new Set(n.map(a=>a.element)),r=new Map;t.forEach(a=>{const l=$E(a);l.length&&(r.set(a,l),a.render())}),n.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const l=r.get(a);l&&l.forEach(([u,f])=>{a.getValue(u)?.set(f)})}),n.forEach(a=>a.measureEndState()),n.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Jd=!1,Xd=!1,la.forEach(n=>n.complete(Qd)),la.clear()}function s_(){la.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Jd=!0)})}function YE(){Qd=!0,s_(),r_(),Qd=!1}class Pp{constructor(t,r,a,l,u,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=a,this.motionValue=l,this.element=u,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(la.add(this),Xd||(Xd=!0,St.read(s_),St.resolveKeyframes(r_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:a,motionValue:l}=this;if(t[0]===null){const u=l?.get(),f=t[t.length-1];if(u!==void 0)t[0]=u;else if(a&&r){const m=a.readValue(r,f);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=f),l&&u===void 0&&l.set(t[0])}VE(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),la.delete(this)}cancel(){this.state==="scheduled"&&(la.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const FE=n=>n.startsWith("--");function XE(n,t,r){FE(t)?n.style.setProperty(t,r):n.style[t]=r}const JE=Cp(()=>window.ScrollTimeline!==void 0),QE={};function WE(n,t){const r=Cp(n);return()=>QE[t]??r()}const a_=WE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ul=([n,t,r,a])=>`cubic-bezier(${n}, ${t}, ${r}, ${a})`,kv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ul([0,.65,.55,1]),circOut:Ul([.55,0,1,.45]),backIn:Ul([.31,.01,.66,-.59]),backOut:Ul([.33,1.53,.69,.99])};function o_(n,t){if(n)return typeof n=="function"?a_()?t_(n,t):"ease-out":Hb(n)?Ul(n):Array.isArray(n)?n.map(r=>o_(r,t)||kv.easeOut):kv[n]}function ZE(n,t,r,{delay:a=0,duration:l=300,repeat:u=0,repeatType:f="loop",ease:m="easeOut",times:y}={},v=void 0){const w={[t]:r};y&&(w.offset=y);const T=o_(m,l);Array.isArray(T)&&(w.easing=T);const x={delay:a,duration:l,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:f==="reverse"?"alternate":"normal"};return v&&(x.pseudoElement=v),n.animate(w,x)}function l_(n){return typeof n=="function"&&"applyToOptions"in n}function ex({type:n,...t}){return l_(n)&&a_()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class u_ extends zp{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:a,keyframes:l,pseudoElement:u,allowFlatten:f=!1,finalKeyframe:m,onComplete:y}=t;this.isPseudoElement=!!u,this.allowFlatten=f,this.options=t,Op(typeof t.type!="string");const v=ex(t);this.animation=ZE(r,a,l,v,u),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const w=Lp(l,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(w):XE(r,a,w),this.animation.cancel()}y?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return oi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+oi(t)}get time(){return oi(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=wi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&JE()?(this.animation.timeline=t,li):r(this)}}const c_={anticipate:Pb,backInOut:Vb,circInOut:Ib};function tx(n){return n in c_}function nx(n){typeof n.ease=="string"&&tx(n.ease)&&(n.ease=c_[n.ease])}const wd=10;class ix extends u_{constructor(t){nx(t),i_(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:a,onComplete:l,element:u,...f}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const m=new Vp({...f,autoplay:!1}),y=Math.max(wd,On.now()-this.startTime),v=qi(0,wd,y-wd);r.setWithVelocity(m.sample(Math.max(0,y-v)).value,m.sample(y).value,v),m.stop()}}const Dv=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ps.test(n)||n==="0")&&!n.startsWith("url("));function rx(n){const t=n[0];if(n.length===1)return!0;for(let r=0;r<n.length;r++)if(n[r]!==t)return!0}function sx(n,t,r,a){const l=n[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],f=Dv(l,t),m=Dv(u,t);return!f||!m?!1:rx(n)||(r==="spring"||l_(r))&&a}function Wd(n){n.duration=0,n.type="keyframes"}const ax=new Set(["opacity","clipPath","filter","transform"]),ox=Cp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lx(n){const{motionValue:t,name:r,repeatDelay:a,repeatType:l,damping:u,type:f}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:v}=t.owner.getProps();return ox()&&r&&ax.has(r)&&(r!=="transform"||!v)&&!y&&!a&&l!=="mirror"&&u!==0&&f!=="inertia"}const ux=40;class cx extends zp{constructor({autoplay:t=!0,delay:r=0,type:a="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:f="loop",keyframes:m,name:y,motionValue:v,element:w,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=On.now();const x={autoplay:t,delay:r,type:a,repeat:l,repeatDelay:u,repeatType:f,name:y,motionValue:v,element:w,...T},O=w?.KeyframeResolver||Pp;this.keyframeResolver=new O(m,(j,D,H)=>this.onKeyframesResolved(j,D,x,!H),y,v,w),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,a,l){this.keyframeResolver=void 0;const{name:u,type:f,velocity:m,delay:y,isHandoff:v,onUpdate:w}=a;this.resolvedAt=On.now(),sx(t,u,f,m)||((_r.instantAnimations||!y)&&w?.(Lp(t,a,r)),t[0]=t[t.length-1],Wd(a),a.repeat=0);const x={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>ux?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:t},O=!v&&lx(x),j=x.motionValue?.owner?.current,D=O?new ix({...x,element:j}):new Vp(x);D.finished.then(()=>{this.notifyFinished()}).catch(li),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),YE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function f_(n,t,r,a=0,l=1){const u=Array.from(n).sort((v,w)=>v.sortNodePosition(w)).indexOf(t),f=n.size,m=(f-1)*a;return typeof r=="function"?r(u,f):l===1?u*a:m-u*a}const fx=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hx(n){const t=fx.exec(n);if(!t)return[,];const[,r,a,l]=t;return[`--${r??a}`,l]}function h_(n,t,r=1){const[a,l]=hx(n);if(!a)return;const u=window.getComputedStyle(t).getPropertyValue(a);if(u){const f=u.trim();return kb(f)?parseFloat(f):f}return Dp(l)?h_(l,t,r+1):l}const dx={type:"spring",stiffness:500,damping:25,restSpeed:10},px=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),mx={type:"keyframes",duration:.8},yx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gx=(n,{keyframes:t})=>t.length>2?mx:Oo.has(n)?n.startsWith("scale")?px(t[1]):dx:yx,vx=n=>n!==null;function bx(n,{repeat:t,repeatType:r="loop"},a){const l=n.filter(vx),u=t&&r!=="loop"&&t%2===1?0:l.length-1;return l[u]}function d_(n,t){if(n?.inherit&&t){const{inherit:r,...a}=n;return{...t,...a}}return n}function qp(n,t){const r=n?.[t]??n?.default??n;return r!==n?d_(r,n):r}function _x({when:n,delay:t,delayChildren:r,staggerChildren:a,staggerDirection:l,repeat:u,repeatType:f,repeatDelay:m,from:y,elapsed:v,...w}){return!!Object.keys(w).length}const Ip=(n,t,r,a={},l,u)=>f=>{const m=qp(a,n)||{},y=m.delay||a.delay||0;let{elapsed:v=0}=a;v=v-wi(y);const w={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-v,onUpdate:x=>{t.set(x),m.onUpdate&&m.onUpdate(x)},onComplete:()=>{f(),m.onComplete&&m.onComplete()},name:n,motionValue:t,element:u?void 0:l};_x(m)||Object.assign(w,gx(n,w)),w.duration&&(w.duration=wi(w.duration)),w.repeatDelay&&(w.repeatDelay=wi(w.repeatDelay)),w.from!==void 0&&(w.keyframes[0]=w.from);let T=!1;if((w.type===!1||w.duration===0&&!w.repeatDelay)&&(Wd(w),w.delay===0&&(T=!0)),(_r.instantAnimations||_r.skipAnimations||l?.shouldSkipAnimations)&&(T=!0,Wd(w),w.delay=0),w.allowFlatten=!m.type&&!m.ease,T&&!u&&t.get()!==void 0){const x=bx(w.keyframes,m);if(x!==void 0){St.update(()=>{w.onUpdate(x),w.onComplete()});return}}return m.isSync?new Vp(w):new cx(w)};function Mv(n){const t=[{},{}];return n?.values.forEach((r,a)=>{t[0][a]=r.get(),t[1][a]=r.getVelocity()}),t}function Kp(n,t,r,a){if(typeof t=="function"){const[l,u]=Mv(a);t=t(r!==void 0?r:n.custom,l,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[l,u]=Mv(a);t=t(r!==void 0?r:n.custom,l,u)}return t}function So(n,t,r){const a=n.getProps();return Kp(a,t,r!==void 0?r:a.custom,n)}const p_=new Set(["width","height","top","left","right","bottom",...Ao]),Nv=30,wx=n=>!isNaN(parseFloat(n));class Sx{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const l=On.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=On.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=wx(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Rp);const a=this.events[t].add(r);return t==="change"?()=>{a(),St.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=On.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Nv)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Nv);return Nb(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Eo(n,t){return new Sx(n,t)}const Zd=n=>Array.isArray(n);function Tx(n,t,r){n.hasValue(t)?n.getValue(t).set(r):n.addValue(t,Eo(r))}function Ex(n){return Zd(n)?n[n.length-1]||0:n}function xx(n,t){const r=So(n,t);let{transitionEnd:a={},transition:l={},...u}=r||{};u={...u,...a};for(const f in u){const m=Ex(u[f]);Tx(n,f,m)}}const Sn=n=>!!(n&&n.getVelocity);function Ax(n){return!!(Sn(n)&&n.add)}function ep(n,t){const r=n.getValue("willChange");if(Ax(r))return r.add(t);if(!r&&_r.WillChange){const a=new _r.WillChange("auto");n.addValue("willChange",a),a.add(t)}}function Hp(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Ox="framerAppearId",m_="data-"+Hp(Ox);function y_(n){return n.props[m_]}function Cx({protectedKeys:n,needsAnimating:t},r){const a=n.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,a}function g_(n,t,{delay:r=0,transitionOverride:a,type:l}={}){let{transition:u,transitionEnd:f,...m}=t;const y=n.getDefaultTransition();u=u?d_(u,y):y;const v=u?.reduceMotion;a&&(u=a);const w=[],T=l&&n.animationState&&n.animationState.getState()[l];for(const x in m){const O=n.getValue(x,n.latestValues[x]??null),j=m[x];if(j===void 0||T&&Cx(T,x))continue;const D={delay:r,...qp(u||{},x)},H=O.get();if(H!==void 0&&!O.isAnimating&&!Array.isArray(j)&&j===H&&!D.velocity)continue;let X=!1;if(window.MotionHandoffAnimation){const ce=y_(n);if(ce){const ne=window.MotionHandoffAnimation(ce,x,St);ne!==null&&(D.startTime=ne,X=!0)}}ep(n,x);const ee=v??n.shouldReduceMotion;O.start(Ip(x,O,j,ee&&p_.has(x)?{type:!1}:D,n,X));const F=O.animation;F&&w.push(F)}if(f){const x=()=>St.update(()=>{f&&xx(n,f)});w.length?Promise.all(w).then(x):x()}return w}function tp(n,t,r={}){const a=So(n,t,r.type==="exit"?n.presenceContext?.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(l=r.transitionOverride);const u=a?()=>Promise.all(g_(n,a,r)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(y=0)=>{const{delayChildren:v=0,staggerChildren:w,staggerDirection:T}=l;return Rx(n,t,y,v,w,T,r)}:()=>Promise.resolve(),{when:m}=l;if(m){const[y,v]=m==="beforeChildren"?[u,f]:[f,u];return y().then(()=>v())}else return Promise.all([u(),f(r.delay)])}function Rx(n,t,r=0,a=0,l=0,u=1,f){const m=[];for(const y of n.variantChildren)y.notify("AnimationStart",t),m.push(tp(y,t,{...f,delay:r+(typeof a=="function"?0:a)+f_(n.variantChildren,y,a,l,u)}).then(()=>y.notify("AnimationComplete",t)));return Promise.all(m)}function jx(n,t,r={}){n.notify("AnimationStart",t);let a;if(Array.isArray(t)){const l=t.map(u=>tp(n,u,r));a=Promise.all(l)}else if(typeof t=="string")a=tp(n,t,r);else{const l=typeof t=="function"?So(n,t,r.custom):t;a=Promise.all(g_(n,l,r))}return a.then(()=>{n.notify("AnimationComplete",t)})}const kx={test:n=>n==="auto",parse:n=>n},v_=n=>t=>t.test(n),b_=[xo,Re,Pi,os,sE,rE,kx],Uv=n=>b_.find(v_(n));function Dx(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Mb(n):!0}const Mx=new Set(["brightness","contrast","saturate","opacity"]);function Nx(n){const[t,r]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[a]=r.match(Mp)||[];if(!a)return n;const l=r.replace(a,"");let u=Mx.has(t)?1:0;return a!==r&&(u*=100),t+"("+u+l+")"}const Ux=/\b([a-z-]*)\(.*?\)/gu,np={...ps,getAnimatableNone:n=>{const t=n.match(Ux);return t?t.map(Nx).join(" "):n}},Bv={...xo,transform:Math.round},Bx={rotate:os,rotateX:os,rotateY:os,rotateZ:os,scale:Oc,scaleX:Oc,scaleY:Oc,scaleZ:Oc,skew:os,skewX:os,skewY:os,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:Gl,originX:Sv,originY:Sv,originZ:Re},Gp={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,inset:Re,insetBlock:Re,insetBlockStart:Re,insetBlockEnd:Re,insetInline:Re,insetInlineStart:Re,insetInlineEnd:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,paddingBlock:Re,paddingBlockStart:Re,paddingBlockEnd:Re,paddingInline:Re,paddingInlineStart:Re,paddingInlineEnd:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,marginBlock:Re,marginBlockStart:Re,marginBlockEnd:Re,marginInline:Re,marginInlineStart:Re,marginInlineEnd:Re,fontSize:Re,backgroundPositionX:Re,backgroundPositionY:Re,...Bx,zIndex:Bv,fillOpacity:Gl,strokeOpacity:Gl,numOctaves:Bv},Lx={...Gp,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:np,WebkitFilter:np},__=n=>Lx[n];function w_(n,t){let r=__(n);return r!==np&&(r=ps),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const zx=new Set(["auto","none","0"]);function Vx(n,t,r){let a=0,l;for(;a<n.length&&!l;){const u=n[a];typeof u=="string"&&!zx.has(u)&&$l(u).values.length&&(l=n[a]),a++}if(l&&r)for(const u of t)n[u]=w_(r,l)}class Px extends Pp{constructor(t,r,a,l,u){super(t,r,a,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let w=0;w<t.length;w++){let T=t[w];if(typeof T=="string"&&(T=T.trim(),Dp(T))){const x=h_(T,r.current);x!==void 0&&(t[w]=x),w===t.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!p_.has(a)||t.length!==2)return;const[l,u]=t,f=Uv(l),m=Uv(u),y=wv(l),v=wv(u);if(y!==v&&fs[a]){this.needsMeasurement=!0;return}if(f!==m)if(jv(f)&&jv(m))for(let w=0;w<t.length;w++){const T=t[w];typeof T=="string"&&(t[w]=parseFloat(T))}else fs[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,a=[];for(let l=0;l<t.length;l++)(t[l]===null||Dx(t[l]))&&a.push(l);a.length&&Vx(t,a,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fs[a](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const l=r[r.length-1];l!==void 0&&t.getValue(a,l).jump(l,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const l=t.getValue(r);l&&l.jump(this.measuredOrigin,!1);const u=a.length-1,f=a[u];a[u]=fs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,y])=>{t.getValue(m).set(y)}),this.resolveNoneKeyframes()}}const qx=new Set(["opacity","clipPath","filter","transform"]);function S_(n,t,r){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let a=document;const l=r?.[n]??a.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n).filter(a=>a!=null)}const T_=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function ip(n){return Db(n)&&"offsetHeight"in n}const{schedule:$p}=Gb(queueMicrotask,!1),vi={x:!1,y:!1};function E_(){return vi.x||vi.y}function Ix(n){return n==="x"||n==="y"?vi[n]?null:(vi[n]=!0,()=>{vi[n]=!1}):vi.x||vi.y?null:(vi.x=vi.y=!0,()=>{vi.x=vi.y=!1})}function x_(n,t){const r=S_(n),a=new AbortController,l={passive:!0,...t,signal:a.signal};return[r,l,()=>a.abort()]}function Kx(n){return!(n.pointerType==="touch"||E_())}function Hx(n,t,r={}){const[a,l,u]=x_(n,r);return a.forEach(f=>{let m=!1,y=!1,v;const w=()=>{f.removeEventListener("pointerleave",j)},T=H=>{v&&(v(H),v=void 0),w()},x=H=>{m=!1,window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",x),y&&(y=!1,T(H))},O=()=>{m=!0,window.addEventListener("pointerup",x,l),window.addEventListener("pointercancel",x,l)},j=H=>{if(H.pointerType!=="touch"){if(m){y=!0;return}T(H)}},D=H=>{if(!Kx(H))return;y=!1;const X=t(f,H);typeof X=="function"&&(v=X,f.addEventListener("pointerleave",j,l))};f.addEventListener("pointerenter",D,l),f.addEventListener("pointerdown",O,l)}),u}const A_=(n,t)=>t?n===t?!0:A_(n,t.parentElement):!1,Yp=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Gx=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $x(n){return Gx.has(n.tagName)||n.isContentEditable===!0}const Yx=new Set(["INPUT","SELECT","TEXTAREA"]);function Fx(n){return Yx.has(n.tagName)||n.isContentEditable===!0}const Vc=new WeakSet;function Lv(n){return t=>{t.key==="Enter"&&n(t)}}function Sd(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Xx=(n,t)=>{const r=n.currentTarget;if(!r)return;const a=Lv(()=>{if(Vc.has(r))return;Sd(r,"down");const l=Lv(()=>{Sd(r,"up")}),u=()=>Sd(r,"cancel");r.addEventListener("keyup",l,t),r.addEventListener("blur",u,t)});r.addEventListener("keydown",a,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),t)};function zv(n){return Yp(n)&&!E_()}const Vv=new WeakSet;function Jx(n,t,r={}){const[a,l,u]=x_(n,r),f=m=>{const y=m.currentTarget;if(!zv(m)||Vv.has(m))return;Vc.add(y),r.stopPropagation&&Vv.add(m);const v=t(y,m),w=(O,j)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",x),Vc.has(y)&&Vc.delete(y),zv(O)&&typeof v=="function"&&v(O,{success:j})},T=O=>{w(O,y===window||y===document||r.useGlobalTarget||A_(y,O.target))},x=O=>{w(O,!1)};window.addEventListener("pointerup",T,l),window.addEventListener("pointercancel",x,l)};return a.forEach(m=>{(r.useGlobalTarget?window:m).addEventListener("pointerdown",f,l),ip(m)&&(m.addEventListener("focus",v=>Xx(v,l)),!$x(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function Fp(n){return Db(n)&&"ownerSVGElement"in n}const Pc=new WeakMap;let qc;const O_=(n,t,r)=>(a,l)=>l&&l[0]?l[0][n+"Size"]:Fp(a)&&"getBBox"in a?a.getBBox()[t]:a[r],Qx=O_("inline","width","offsetWidth"),Wx=O_("block","height","offsetHeight");function Zx({target:n,borderBoxSize:t}){Pc.get(n)?.forEach(r=>{r(n,{get width(){return Qx(n,t)},get height(){return Wx(n,t)}})})}function e1(n){n.forEach(Zx)}function t1(){typeof ResizeObserver>"u"||(qc=new ResizeObserver(e1))}function n1(n,t){qc||t1();const r=S_(n);return r.forEach(a=>{let l=Pc.get(a);l||(l=new Set,Pc.set(a,l)),l.add(t),qc?.observe(a)}),()=>{r.forEach(a=>{const l=Pc.get(a);l?.delete(t),l?.size||qc?.unobserve(a)})}}const Ic=new Set;let go;function i1(){go=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};Ic.forEach(t=>t(n))},window.addEventListener("resize",go)}function r1(n){return Ic.add(n),go||i1(),()=>{Ic.delete(n),!Ic.size&&typeof go=="function"&&(window.removeEventListener("resize",go),go=void 0)}}function Pv(n,t){return typeof n=="function"?r1(n):n1(n,t)}function s1(n){return Fp(n)&&n.tagName==="svg"}const a1=[...b_,$t,ps],o1=n=>a1.find(v_(n)),qv=()=>({translate:0,scale:1,origin:0,originPoint:0}),vo=()=>({x:qv(),y:qv()}),Iv=()=>({min:0,max:0}),Qt=()=>({x:Iv(),y:Iv()}),l1=new WeakMap;function uf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Yl(n){return typeof n=="string"||Array.isArray(n)}const Xp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jp=["initial",...Xp];function cf(n){return uf(n.animate)||Jp.some(t=>Yl(n[t]))}function C_(n){return!!(cf(n)||n.variants)}function u1(n,t,r){for(const a in t){const l=t[a],u=r[a];if(Sn(l))n.addValue(a,l);else if(Sn(u))n.addValue(a,Eo(l,{owner:n}));else if(u!==l)if(n.hasValue(a)){const f=n.getValue(a);f.liveStyle===!0?f.jump(l):f.hasAnimated||f.set(l)}else{const f=n.getStaticValue(a);n.addValue(a,Eo(f!==void 0?f:l,{owner:n}))}}for(const a in r)t[a]===void 0&&n.removeValue(a);return t}const rp={current:null},R_={current:!1},c1=typeof window<"u";function f1(){if(R_.current=!0,!!c1)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>rp.current=n.matches;n.addEventListener("change",t),t()}else rp.current=!1}const Kv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Wc={};function j_(n){Wc=n}function h1(){return Wc}class d1{scrapeMotionValuesFromProps(t,r,a){return{}}constructor({parent:t,props:r,presenceContext:a,reducedMotionConfig:l,skipAnimations:u,blockInitialAnimation:f,visualState:m},y={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Pp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const O=On.now();this.renderScheduledAt<O&&(this.renderScheduledAt=O,St.render(this.render,!1,!0))};const{latestValues:v,renderState:w}=m;this.latestValues=v,this.baseTarget={...v},this.initialValues=r.initial?{...v}:{},this.renderState=w,this.parent=t,this.props=r,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.skipAnimationsConfig=u,this.options=y,this.blockInitialAnimation=!!f,this.isControllingVariants=cf(r),this.isVariantNode=C_(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:T,...x}=this.scrapeMotionValuesFromProps(r,{},this);for(const O in x){const j=x[O];v[O]!==void 0&&Sn(j)&&j.set(v[O])}}mount(t){if(this.hasBeenMounted)for(const r in this.initialValues)this.values.get(r)?.jump(this.initialValues[r]),this.latestValues[r]=this.initialValues[r];this.current=t,l1.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(R_.current||f1(),this.shouldReduceMotion=rp.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),ds(this.notifyUpdate),ds(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),r.accelerate&&qx.has(t)&&this.current instanceof HTMLElement){const{factory:f,keyframes:m,times:y,ease:v,duration:w}=r.accelerate,T=new u_({element:this.current,name:t,keyframes:m,times:y,ease:v,duration:wi(w)}),x=f(T);this.valueSubscriptions.set(t,()=>{x(),T.cancel()});return}const a=Oo.has(t);a&&this.onBindTransform&&this.onBindTransform();const l=r.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&St.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{l(),u&&u(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Wc){const r=Wc[t];if(!r)continue;const{isEnabled:a,Feature:l}=r;if(!this.features[t]&&l&&a(this.props)&&(this.features[t]=new l(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<Kv.length;a++){const l=Kv[a];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,f=t[u];f&&(this.propEventSubscriptions[l]=this.on(l,f))}this.prevMotionValues=u1(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const a=this.values.get(t);r!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&r!==void 0&&(a=Eo(r===null?void 0:r,{owner:this}),this.addValue(t,a)),a}readValue(t,r){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(kb(a)||Mb(a))?a=parseFloat(a):!o1(a)&&ps.test(r)&&(a=w_(t,r)),this.setBaseTarget(t,Sn(a)?a.get():a)),Sn(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const u=Kp(this.props,r,this.presenceContext?.custom);u&&(a=u[t])}if(r&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!Sn(l)?l:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Rp),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){$p.render(this.render)}}class k_ extends d1{constructor(){super(...arguments),this.KeyframeResolver=Px}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){const a=t.style;return a?a[r]:void 0}removeValueFromRenderState(t,{vars:r,style:a}){delete r[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Sn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class ms{constructor(t){this.isMounted=!1,this.node=t}update(){}}function D_({top:n,left:t,right:r,bottom:a}){return{x:{min:t,max:r},y:{min:n,max:a}}}function p1({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function m1(n,t){if(!t)return n;const r=t({x:n.left,y:n.top}),a=t({x:n.right,y:n.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function Td(n){return n===void 0||n===1}function sp({scale:n,scaleX:t,scaleY:r}){return!Td(n)||!Td(t)||!Td(r)}function ta(n){return sp(n)||M_(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function M_(n){return Hv(n.x)||Hv(n.y)}function Hv(n){return n&&n!=="0%"}function Zc(n,t,r){const a=n-r,l=t*a;return r+l}function Gv(n,t,r,a,l){return l!==void 0&&(n=Zc(n,l,a)),Zc(n,r,a)+t}function ap(n,t=0,r=1,a,l){n.min=Gv(n.min,t,r,a,l),n.max=Gv(n.max,t,r,a,l)}function N_(n,{x:t,y:r}){ap(n.x,t.translate,t.scale,t.originPoint),ap(n.y,r.translate,r.scale,r.originPoint)}const $v=.999999999999,Yv=1.0000000000001;function y1(n,t,r,a=!1){const l=r.length;if(!l)return;t.x=t.y=1;let u,f;for(let m=0;m<l;m++){u=r[m],f=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&_o(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,N_(n,f)),a&&ta(u.latestValues)&&_o(n,u.latestValues))}t.x<Yv&&t.x>$v&&(t.x=1),t.y<Yv&&t.y>$v&&(t.y=1)}function bo(n,t){n.min=n.min+t,n.max=n.max+t}function Fv(n,t,r,a,l=.5){const u=jt(n.min,n.max,l);ap(n,t,r,u,a)}function _o(n,t){Fv(n.x,t.x,t.scaleX,t.scale,t.originX),Fv(n.y,t.y,t.scaleY,t.scale,t.originY)}function U_(n,t){return D_(m1(n.getBoundingClientRect(),t))}function g1(n,t,r){const a=U_(n,r),{scroll:l}=t;return l&&(bo(a.x,l.offset.x),bo(a.y,l.offset.y)),a}const v1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},b1=Ao.length;function _1(n,t,r){let a="",l=!0;for(let u=0;u<b1;u++){const f=Ao[u],m=n[f];if(m===void 0)continue;let y=!0;if(typeof m=="number")y=m===(f.startsWith("scale")?1:0);else{const v=parseFloat(m);y=f.startsWith("scale")?v===1:v===0}if(!y||r){const v=T_(m,Gp[f]);if(!y){l=!1;const w=v1[f]||f;a+=`${w}(${v}) `}r&&(t[f]=v)}}return a=a.trim(),r?a=r(t,l?"":a):l&&(a="none"),a}function Qp(n,t,r){const{style:a,vars:l,transformOrigin:u}=n;let f=!1,m=!1;for(const y in t){const v=t[y];if(Oo.has(y)){f=!0;continue}else if(Yb(y)){l[y]=v;continue}else{const w=T_(v,Gp[y]);y.startsWith("origin")?(m=!0,u[y]=w):a[y]=w}}if(t.transform||(f||r?a.transform=_1(t,n.transform,r):a.transform&&(a.transform="none")),m){const{originX:y="50%",originY:v="50%",originZ:w=0}=u;a.transformOrigin=`${y} ${v} ${w}`}}function B_(n,{style:t,vars:r},a,l){const u=n.style;let f;for(f in t)u[f]=t[f];l?.applyProjectionStyles(u,a);for(f in r)u.setProperty(f,r[f])}function Xv(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Ml={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Re.test(n))n=parseFloat(n);else return n;const r=Xv(n,t.target.x),a=Xv(n,t.target.y);return`${r}% ${a}%`}},w1={correct:(n,{treeScale:t,projectionDelta:r})=>{const a=n,l=ps.parse(n);if(l.length>5)return a;const u=ps.createTransformer(n),f=typeof l[0]!="number"?1:0,m=r.x.scale*t.x,y=r.y.scale*t.y;l[0+f]/=m,l[1+f]/=y;const v=jt(m,y,.5);return typeof l[2+f]=="number"&&(l[2+f]/=v),typeof l[3+f]=="number"&&(l[3+f]/=v),u(l)}},op={borderRadius:{...Ml,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ml,borderTopRightRadius:Ml,borderBottomLeftRadius:Ml,borderBottomRightRadius:Ml,boxShadow:w1};function L_(n,{layout:t,layoutId:r}){return Oo.has(n)||n.startsWith("origin")||(t||r!==void 0)&&(!!op[n]||n==="opacity")}function Wp(n,t,r){const a=n.style,l=t?.style,u={};if(!a)return u;for(const f in a)(Sn(a[f])||l&&Sn(l[f])||L_(f,n)||r?.getValue(f)?.liveStyle!==void 0)&&(u[f]=a[f]);return u}function S1(n){return window.getComputedStyle(n)}class T1 extends k_{constructor(){super(...arguments),this.type="html",this.renderInstance=B_}readValueFromInstance(t,r){if(Oo.has(r))return this.projection?.isProjecting?Yd(r):IE(t,r);{const a=S1(t),l=(Yb(r)?a.getPropertyValue(r):a[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:r}){return U_(t,r)}build(t,r,a){Qp(t,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,r,a){return Wp(t,r,a)}}const E1={offset:"stroke-dashoffset",array:"stroke-dasharray"},x1={offset:"strokeDashoffset",array:"strokeDasharray"};function A1(n,t,r=1,a=0,l=!0){n.pathLength=1;const u=l?E1:x1;n[u.offset]=`${-a}`,n[u.array]=`${t} ${r}`}const O1=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function z_(n,{attrX:t,attrY:r,attrScale:a,pathLength:l,pathSpacing:u=1,pathOffset:f=0,...m},y,v,w){if(Qp(n,m,v),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:x}=n;T.transform&&(x.transform=T.transform,delete T.transform),(x.transform||T.transformOrigin)&&(x.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),x.transform&&(x.transformBox=w?.transformBox??"fill-box",delete T.transformBox);for(const O of O1)T[O]!==void 0&&(x[O]=T[O],delete T[O]);t!==void 0&&(T.x=t),r!==void 0&&(T.y=r),a!==void 0&&(T.scale=a),l!==void 0&&A1(T,l,u,f,!1)}const V_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),P_=n=>typeof n=="string"&&n.toLowerCase()==="svg";function C1(n,t,r,a){B_(n,t,void 0,a);for(const l in t.attrs)n.setAttribute(V_.has(l)?l:Hp(l),t.attrs[l])}function q_(n,t,r){const a=Wp(n,t,r);for(const l in n)if(Sn(n[l])||Sn(t[l])){const u=Ao.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;a[u]=n[l]}return a}class R1 extends k_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Oo.has(r)){const a=__(r);return a&&a.default||0}return r=V_.has(r)?r:Hp(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,a){return q_(t,r,a)}build(t,r,a){z_(t,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,r,a,l){C1(t,r,a,l)}mount(t){this.isSVGTag=P_(t.tagName),super.mount(t)}}const j1=Jp.length;function I_(n){if(!n)return;if(!n.isControllingVariants){const r=n.parent?I_(n.parent)||{}:{};return n.props.initial!==void 0&&(r.initial=n.props.initial),r}const t={};for(let r=0;r<j1;r++){const a=Jp[r],l=n.props[a];(Yl(l)||l===!1)&&(t[a]=l)}return t}function K_(n,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==n.length)return!1;for(let a=0;a<r;a++)if(t[a]!==n[a])return!1;return!0}const k1=[...Xp].reverse(),D1=Xp.length;function M1(n){return t=>Promise.all(t.map(({animation:r,options:a})=>jx(n,r,a)))}function N1(n){let t=M1(n),r=Jv(),a=!0;const l=y=>(v,w)=>{const T=So(n,w,y==="exit"?n.presenceContext?.custom:void 0);if(T){const{transition:x,transitionEnd:O,...j}=T;v={...v,...j,...O}}return v};function u(y){t=y(n)}function f(y){const{props:v}=n,w=I_(n.parent)||{},T=[],x=new Set;let O={},j=1/0;for(let H=0;H<D1;H++){const X=k1[H],ee=r[X],F=v[X]!==void 0?v[X]:w[X],ce=Yl(F),ne=X===y?ee.isActive:null;ne===!1&&(j=H);let ye=F===w[X]&&F!==v[X]&&ce;if(ye&&a&&n.manuallyAnimateOnMount&&(ye=!1),ee.protectedKeys={...O},!ee.isActive&&ne===null||!F&&!ee.prevProp||uf(F)||typeof F=="boolean")continue;if(X==="exit"&&ee.isActive&&ne!==!0){ee.prevResolvedValues&&(O={...O,...ee.prevResolvedValues});continue}const fe=U1(ee.prevProp,F);let ie=fe||X===y&&ee.isActive&&!ye&&ce||H>j&&ce,je=!1;const it=Array.isArray(F)?F:[F];let Ot=it.reduce(l(X),{});ne===!1&&(Ot={});const{prevResolvedValues:bt={}}=ee,Yt={...bt,...Ot},jn=ge=>{ie=!0,x.has(ge)&&(je=!0,x.delete(ge)),ee.needsAnimating[ge]=!0;const Ae=n.getValue(ge);Ae&&(Ae.liveStyle=!1)};for(const ge in Yt){const Ae=Ot[ge],He=bt[ge];if(O.hasOwnProperty(ge))continue;let qe=!1;Zd(Ae)&&Zd(He)?qe=!K_(Ae,He):qe=Ae!==He,qe?Ae!=null?jn(ge):x.add(ge):Ae!==void 0&&x.has(ge)?jn(ge):ee.protectedKeys[ge]=!0}ee.prevProp=F,ee.prevResolvedValues=Ot,ee.isActive&&(O={...O,...Ot}),a&&n.blockInitialAnimation&&(ie=!1);const Wt=ye&&fe;ie&&(!Wt||je)&&T.push(...it.map(ge=>{const Ae={type:X};if(typeof ge=="string"&&a&&!Wt&&n.manuallyAnimateOnMount&&n.parent){const{parent:He}=n,qe=So(He,ge);if(He.enteringChildren&&qe){const{delayChildren:q}=qe.transition||{};Ae.delay=f_(He.enteringChildren,n,q)}}return{animation:ge,options:Ae}}))}if(x.size){const H={};if(typeof v.initial!="boolean"){const X=So(n,Array.isArray(v.initial)?v.initial[0]:v.initial);X&&X.transition&&(H.transition=X.transition)}x.forEach(X=>{const ee=n.getBaseTarget(X),F=n.getValue(X);F&&(F.liveStyle=!0),H[X]=ee??null}),T.push({animation:H})}let D=!!T.length;return a&&(v.initial===!1||v.initial===v.animate)&&!n.manuallyAnimateOnMount&&(D=!1),a=!1,D?t(T):Promise.resolve()}function m(y,v){if(r[y].isActive===v)return Promise.resolve();n.variantChildren?.forEach(T=>T.animationState?.setActive(y,v)),r[y].isActive=v;const w=f(y);for(const T in r)r[T].protectedKeys={};return w}return{animateChanges:f,setActive:m,setAnimateFunction:u,getState:()=>r,reset:()=>{r=Jv()}}}function U1(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!K_(t,n):!1}function Ws(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Jv(){return{animate:Ws(!0),whileInView:Ws(),whileHover:Ws(),whileTap:Ws(),whileDrag:Ws(),whileFocus:Ws(),exit:Ws()}}function Qv(n,t){n.min=t.min,n.max=t.max}function yi(n,t){Qv(n.x,t.x),Qv(n.y,t.y)}function Wv(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const H_=1e-4,B1=1-H_,L1=1+H_,G_=.01,z1=0-G_,V1=0+G_;function Cn(n){return n.max-n.min}function P1(n,t,r){return Math.abs(n-t)<=r}function Zv(n,t,r,a=.5){n.origin=a,n.originPoint=jt(t.min,t.max,n.origin),n.scale=Cn(r)/Cn(t),n.translate=jt(r.min,r.max,n.origin)-n.originPoint,(n.scale>=B1&&n.scale<=L1||isNaN(n.scale))&&(n.scale=1),(n.translate>=z1&&n.translate<=V1||isNaN(n.translate))&&(n.translate=0)}function Vl(n,t,r,a){Zv(n.x,t.x,r.x,a?a.originX:void 0),Zv(n.y,t.y,r.y,a?a.originY:void 0)}function e0(n,t,r){n.min=r.min+t.min,n.max=n.min+Cn(t)}function q1(n,t,r){e0(n.x,t.x,r.x),e0(n.y,t.y,r.y)}function t0(n,t,r){n.min=t.min-r.min,n.max=n.min+Cn(t)}function ef(n,t,r){t0(n.x,t.x,r.x),t0(n.y,t.y,r.y)}function n0(n,t,r,a,l){return n-=t,n=Zc(n,1/r,a),l!==void 0&&(n=Zc(n,1/l,a)),n}function I1(n,t=0,r=1,a=.5,l,u=n,f=n){if(Pi.test(t)&&(t=parseFloat(t),t=jt(f.min,f.max,t/100)-f.min),typeof t!="number")return;let m=jt(u.min,u.max,a);n===u&&(m-=t),n.min=n0(n.min,t,r,m,l),n.max=n0(n.max,t,r,m,l)}function i0(n,t,[r,a,l],u,f){I1(n,t[r],t[a],t[l],t.scale,u,f)}const K1=["x","scaleX","originX"],H1=["y","scaleY","originY"];function r0(n,t,r,a){i0(n.x,t,K1,r?r.x:void 0,a?a.x:void 0),i0(n.y,t,H1,r?r.y:void 0,a?a.y:void 0)}function s0(n){return n.translate===0&&n.scale===1}function $_(n){return s0(n.x)&&s0(n.y)}function a0(n,t){return n.min===t.min&&n.max===t.max}function G1(n,t){return a0(n.x,t.x)&&a0(n.y,t.y)}function o0(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function Y_(n,t){return o0(n.x,t.x)&&o0(n.y,t.y)}function l0(n){return Cn(n.x)/Cn(n.y)}function u0(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function Vi(n){return[n("x"),n("y")]}function $1(n,t,r){let a="";const l=n.x.translate/t.x,u=n.y.translate/t.y,f=r?.z||0;if((l||u||f)&&(a=`translate3d(${l}px, ${u}px, ${f}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:v,rotate:w,rotateX:T,rotateY:x,skewX:O,skewY:j}=r;v&&(a=`perspective(${v}px) ${a}`),w&&(a+=`rotate(${w}deg) `),T&&(a+=`rotateX(${T}deg) `),x&&(a+=`rotateY(${x}deg) `),O&&(a+=`skewX(${O}deg) `),j&&(a+=`skewY(${j}deg) `)}const m=n.x.scale*t.x,y=n.y.scale*t.y;return(m!==1||y!==1)&&(a+=`scale(${m}, ${y})`),a||"none"}const F_=["TopLeft","TopRight","BottomLeft","BottomRight"],Y1=F_.length,c0=n=>typeof n=="string"?parseFloat(n):n,f0=n=>typeof n=="number"||Re.test(n);function F1(n,t,r,a,l,u){l?(n.opacity=jt(0,r.opacity??1,X1(a)),n.opacityExit=jt(t.opacity??1,0,J1(a))):u&&(n.opacity=jt(t.opacity??1,r.opacity??1,a));for(let f=0;f<Y1;f++){const m=`border${F_[f]}Radius`;let y=h0(t,m),v=h0(r,m);if(y===void 0&&v===void 0)continue;y||(y=0),v||(v=0),y===0||v===0||f0(y)===f0(v)?(n[m]=Math.max(jt(c0(y),c0(v),a),0),(Pi.test(v)||Pi.test(y))&&(n[m]+="%")):n[m]=v}(t.rotate||r.rotate)&&(n.rotate=jt(t.rotate||0,r.rotate||0,a))}function h0(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const X1=X_(0,.5,qb),J1=X_(.5,.95,li);function X_(n,t,r){return a=>a<n?0:a>t?1:r(Hl(n,t,a))}function Q1(n,t,r){const a=Sn(n)?n:Eo(n);return a.start(Ip("",a,t,r)),a.animation}function Fl(n,t,r,a={passive:!0}){return n.addEventListener(t,r,a),()=>n.removeEventListener(t,r)}const W1=(n,t)=>n.depth-t.depth;class Z1{constructor(){this.children=[],this.isDirty=!1}add(t){Ap(this.children,t),this.isDirty=!0}remove(t){Fc(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(W1),this.isDirty=!1,this.children.forEach(t)}}function eA(n,t){const r=On.now(),a=({timestamp:l})=>{const u=l-r;u>=t&&(ds(a),n(u-t))};return St.setup(a,!0),()=>ds(a)}function Kc(n){return Sn(n)?n.get():n}class tA{constructor(){this.members=[]}add(t){Ap(this.members,t);for(let r=this.members.length-1;r>=0;r--){const a=this.members[r];if(a===t||a===this.lead||a===this.prevLead)continue;const l=a.instance;l&&l.isConnected===!1&&a.isPresent!==!1&&!a.snapshot&&Fc(this.members,a)}t.scheduleRender()}remove(t){if(Fc(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(l=>t===l);if(r===0)return!1;let a;for(let l=r;l>=0;l--){const u=this.members[l],f=u.instance;if(u.isPresent!==!1&&(!f||f.isConnected!==!1)){a=u;break}}return a?(this.promote(a),!0):!1}promote(t,r){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender();const l=a.options.layoutDependency,u=t.options.layoutDependency;if(!(l!==void 0&&u!==void 0&&l===u)){const y=a.instance;y&&y.isConnected===!1&&!a.snapshot||(t.resumeFrom=a,r&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:m}=t.options;m===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:a}=t;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Hc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Ed=["","X","Y","Z"],nA=1e3;let iA=0;function xd(n,t,r,a){const{latestValues:l}=t;l[n]&&(r[n]=l[n],t.setStaticValue(n,0),a&&(a[n]=0))}function J_(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const r=y_(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:l,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(r,"transform",St,!(l||u))}const{parent:a}=n;a&&!a.hasCheckedOptimisedAppear&&J_(a)}function Q_({attachResizeListener:n,defaultParent:t,measureScroll:r,checkIsScrollRoot:a,resetTransform:l}){return class{constructor(f={},m=t?.()){this.id=iA++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(aA),this.nodes.forEach(cA),this.nodes.forEach(fA),this.nodes.forEach(oA)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new Z1)}addEventListener(f,m){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new Rp),this.eventHandlers.get(f).add(m)}notifyListeners(f,...m){const y=this.eventHandlers.get(f);y&&y.notify(...m)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=Fp(f)&&!s1(f),this.instance=f;const{layoutId:m,layout:y,visualElement:v}=this.options;if(v&&!v.current&&v.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||m)&&(this.isLayoutDirty=!0),n){let w,T=0;const x=()=>this.root.updateBlockedByResize=!1;St.read(()=>{T=window.innerWidth}),n(f,()=>{const O=window.innerWidth;O!==T&&(T=O,this.root.updateBlockedByResize=!0,w&&w(),w=eA(x,250),Hc.hasAnimatedSinceResize&&(Hc.hasAnimatedSinceResize=!1,this.nodes.forEach(m0)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&v&&(m||y)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:T,hasRelativeLayoutChanged:x,layout:O})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||v.getDefaultTransition()||yA,{onLayoutAnimationStart:D,onLayoutAnimationComplete:H}=v.getProps(),X=!this.targetLayout||!Y_(this.targetLayout,O),ee=!T&&x;if(this.options.layoutRoot||this.resumeFrom||ee||T&&(X||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...qp(j,"layout"),onPlay:D,onComplete:H};(v.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(w,ee)}else T||m0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=O})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ds(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hA),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&J_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let w=0;w<this.path.length;w++){const T=this.path[w];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:y}=this.options;if(m===void 0&&!y)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(d0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(p0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(uA),this.nodes.forEach(rA),this.nodes.forEach(sA)):this.nodes.forEach(p0),this.clearAllSnapshots();const m=On.now();dn.delta=qi(0,1e3/60,m-dn.timestamp),dn.timestamp=m,dn.isProcessing=!0,yd.update.process(dn),yd.preRender.process(dn),yd.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$p.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lA),this.sharedNodes.forEach(dA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cn(this.snapshot.measuredBox.x)&&!Cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(m=!1),m&&this.instance){const y=a(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:y,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!l)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!$_(this.projectionDelta),y=this.getTransformTemplate(),v=y?y(this.latestValues,""):void 0,w=v!==this.prevTransformTemplateValue;f&&this.instance&&(m||ta(this.latestValues)||w)&&(l(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const m=this.measurePageBox();let y=this.removeElementScroll(m);return f&&(y=this.removeTransform(y)),gA(y),{animationId:this.root.animationId,measuredBox:m,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return Qt();const m=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(vA))){const{scroll:v}=this.root;v&&(bo(m.x,v.offset.x),bo(m.y,v.offset.y))}return m}removeElementScroll(f){const m=Qt();if(yi(m,f),this.scroll?.wasRoot)return m;for(let y=0;y<this.path.length;y++){const v=this.path[y],{scroll:w,options:T}=v;v!==this.root&&w&&T.layoutScroll&&(w.wasRoot&&yi(m,f),bo(m.x,w.offset.x),bo(m.y,w.offset.y))}return m}applyTransform(f,m=!1){const y=Qt();yi(y,f);for(let v=0;v<this.path.length;v++){const w=this.path[v];!m&&w.options.layoutScroll&&w.scroll&&w!==w.root&&_o(y,{x:-w.scroll.offset.x,y:-w.scroll.offset.y}),ta(w.latestValues)&&_o(y,w.latestValues)}return ta(this.latestValues)&&_o(y,this.latestValues),y}removeTransform(f){const m=Qt();yi(m,f);for(let y=0;y<this.path.length;y++){const v=this.path[y];if(!v.instance||!ta(v.latestValues))continue;sp(v.latestValues)&&v.updateSnapshot();const w=Qt(),T=v.measurePageBox();yi(w,T),r0(m,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,w)}return ta(this.latestValues)&&r0(m,this.latestValues),m}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==m;if(!(f||y&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:T}=this.options;if(!this.layout||!(w||T))return;this.resolvedRelativeTargetAt=dn.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),q1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yi(this.target,this.layout.layoutBox),N_(this.target,this.targetDelta)):yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||sp(this.parent.latestValues)||M_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(f,m,y){this.relativeParent=f,this.linkedParentVersion=f.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),ef(this.relativeTargetOrigin,m,y),yi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const f=this.getLead(),m=!!this.resumingFrom||this!==f;let y=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(y=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(y=!1),y)return;const{layout:v,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||w))return;yi(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,x=this.treeScale.y;y1(this.layoutCorrected,this.treeScale,this.path,m),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=Qt());const{target:O}=f;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Wv(this.prevProjectionDelta.x,this.projectionDelta.x),Wv(this.prevProjectionDelta.y,this.projectionDelta.y)),Vl(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==x||!u0(this.projectionDelta.x,this.prevProjectionDelta.x)||!u0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vo(),this.projectionDelta=vo(),this.projectionDeltaWithTransform=vo()}setAnimationOrigin(f,m=!1){const y=this.snapshot,v=y?y.latestValues:{},w={...this.latestValues},T=vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const x=Qt(),O=y?y.source:void 0,j=this.layout?this.layout.source:void 0,D=O!==j,H=this.getStack(),X=!H||H.members.length<=1,ee=!!(D&&!X&&this.options.crossfade===!0&&!this.path.some(mA));this.animationProgress=0;let F;this.mixTargetDelta=ce=>{const ne=ce/1e3;y0(T.x,f.x,ne),y0(T.y,f.y,ne),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ef(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pA(this.relativeTarget,this.relativeTargetOrigin,x,ne),F&&G1(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Qt()),yi(F,this.relativeTarget)),D&&(this.animationValues=w,F1(w,v,this.latestValues,ne,ee,X)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ds(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{Hc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Eo(0)),this.currentAnimation=Q1(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),f.onUpdate&&f.onUpdate(m)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:m,target:y,layout:v,latestValues:w}=f;if(!(!m||!y||!v)){if(this!==f&&this.layout&&v&&W_(this.options.animationType,this.layout.layoutBox,v.layoutBox)){y=this.target||Qt();const T=Cn(this.layout.layoutBox.x);y.x.min=f.target.x.min,y.x.max=y.x.min+T;const x=Cn(this.layout.layoutBox.y);y.y.min=f.target.y.min,y.y.max=y.y.min+x}yi(m,y),_o(m,w),Vl(this.projectionDeltaWithTransform,this.layoutCorrected,m,w)}}registerSharedNode(f,m){this.sharedNodes.has(f)||this.sharedNodes.set(f,new tA),this.sharedNodes.get(f).add(m);const v=m.options.initialPromotionConfig;m.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(m):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:m,preserveFollowOpacity:y}={}){const v=this.getStack();v&&v.promote(this,y),f&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let m=!1;const{latestValues:y}=f;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(m=!0),!m)return;const v={};y.z&&xd("z",f,v,this.animationValues);for(let w=0;w<Ed.length;w++)xd(`rotate${Ed[w]}`,f,v,this.animationValues),xd(`skew${Ed[w]}`,f,v,this.animationValues);f.render();for(const w in v)f.setStaticValue(w,v[w]),this.animationValues&&(this.animationValues[w]=v[w]);f.scheduleRender()}applyProjectionStyles(f,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=Kc(m?.pointerEvents)||"",f.transform=y?y(this.latestValues,""):"none";return}const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Kc(m?.pointerEvents)||""),this.hasProjected&&!ta(this.latestValues)&&(f.transform=y?y({},""):"none",this.hasProjected=!1);return}f.visibility="";const w=v.animationValues||v.latestValues;this.applyTransformsToTarget();let T=$1(this.projectionDeltaWithTransform,this.treeScale,w);y&&(T=y(w,T)),f.transform=T;const{x,y:O}=this.projectionDelta;f.transformOrigin=`${x.origin*100}% ${O.origin*100}% 0`,v.animationValues?f.opacity=v===this?w.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:f.opacity=v===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const j in op){if(w[j]===void 0)continue;const{correct:D,applyTo:H,isCSSVariable:X}=op[j],ee=T==="none"?w[j]:D(w[j],v);if(H){const F=H.length;for(let ce=0;ce<F;ce++)f[H[ce]]=ee}else X?this.options.visualElement.renderState.vars[j]=ee:f[j]=ee}this.options.layoutId&&(f.pointerEvents=v===this?Kc(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(d0),this.root.sharedNodes.clear()}}}function rA(n){n.updateLayout()}function sA(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=n.layout,{animationType:l}=n.options,u=t.source!==n.layout.source;l==="size"?Vi(w=>{const T=u?t.measuredBox[w]:t.layoutBox[w],x=Cn(T);T.min=r[w].min,T.max=T.min+x}):W_(l,t.layoutBox,r)&&Vi(w=>{const T=u?t.measuredBox[w]:t.layoutBox[w],x=Cn(r[w]);T.max=T.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+x)});const f=vo();Vl(f,r,t.layoutBox);const m=vo();u?Vl(m,n.applyTransform(a,!0),t.measuredBox):Vl(m,r,t.layoutBox);const y=!$_(f);let v=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:T,layout:x}=w;if(T&&x){const O=Qt();ef(O,t.layoutBox,T.layoutBox);const j=Qt();ef(j,r,x.layoutBox),Y_(O,j)||(v=!0),w.options.layoutRoot&&(n.relativeTarget=j,n.relativeTargetOrigin=O,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:y,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function aA(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function oA(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function lA(n){n.clearSnapshot()}function d0(n){n.clearMeasurements()}function p0(n){n.isLayoutDirty=!1}function uA(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function m0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function cA(n){n.resolveTargetDelta()}function fA(n){n.calcProjection()}function hA(n){n.resetSkewAndRotation()}function dA(n){n.removeLeadSnapshot()}function y0(n,t,r){n.translate=jt(t.translate,0,r),n.scale=jt(t.scale,1,r),n.origin=t.origin,n.originPoint=t.originPoint}function g0(n,t,r,a){n.min=jt(t.min,r.min,a),n.max=jt(t.max,r.max,a)}function pA(n,t,r,a){g0(n.x,t.x,r.x,a),g0(n.y,t.y,r.y,a)}function mA(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const yA={duration:.45,ease:[.4,0,.1,1]},v0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),b0=v0("applewebkit/")&&!v0("chrome/")?Math.round:li;function _0(n){n.min=b0(n.min),n.max=b0(n.max)}function gA(n){_0(n.x),_0(n.y)}function W_(n,t,r){return n==="position"||n==="preserve-aspect"&&!P1(l0(t),l0(r),.2)}function vA(n){return n!==n.root&&n.scroll?.wasRoot}const bA=Q_({attachResizeListener:(n,t)=>Fl(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Ad={current:void 0},Z_=Q_({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ad.current){const n=new bA({});n.mount(window),n.setOptions({layoutScroll:!0}),Ad.current=n}return Ad.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Zp=me.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function w0(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function _A(...n){return t=>{let r=!1;const a=n.map(l=>{const u=w0(l,t);return!r&&typeof u=="function"&&(r=!0),u});if(r)return()=>{for(let l=0;l<a.length;l++){const u=a[l];typeof u=="function"?u():w0(n[l],null)}}}}function wA(...n){return me.useCallback(_A(...n),n)}class SA extends me.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const a=r.offsetParent,l=ip(a)&&a.offsetWidth||0,u=ip(a)&&a.offsetHeight||0,f=this.props.sizeRef.current;f.height=r.offsetHeight||0,f.width=r.offsetWidth||0,f.top=r.offsetTop,f.left=r.offsetLeft,f.right=l-f.width-f.left,f.bottom=u-f.height-f.top}return null}componentDidUpdate(){}render(){return this.props.children}}function TA({children:n,isPresent:t,anchorX:r,anchorY:a,root:l,pop:u}){const f=me.useId(),m=me.useRef(null),y=me.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:v}=me.useContext(Zp),w=n.props?.ref??n?.ref,T=wA(m,w);return me.useInsertionEffect(()=>{const{width:x,height:O,top:j,left:D,right:H,bottom:X}=y.current;if(t||u===!1||!m.current||!x||!O)return;const ee=r==="left"?`left: ${D}`:`right: ${H}`,F=a==="bottom"?`bottom: ${X}`:`top: ${j}`;m.current.dataset.motionPopId=f;const ce=document.createElement("style");v&&(ce.nonce=v);const ne=l??document.head;return ne.appendChild(ce),ce.sheet&&ce.sheet.insertRule(`
          [data-motion-pop-id="${f}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${O}px !important;
            ${ee}px !important;
            ${F}px !important;
          }
        `),()=>{ne.contains(ce)&&ne.removeChild(ce)}},[t]),I.jsx(SA,{isPresent:t,childRef:m,sizeRef:y,pop:u,children:u===!1?n:me.cloneElement(n,{ref:T})})}const EA=({children:n,initial:t,isPresent:r,onExitComplete:a,custom:l,presenceAffectsLayout:u,mode:f,anchorX:m,anchorY:y,root:v})=>{const w=xp(xA),T=me.useId();let x=!0,O=me.useMemo(()=>(x=!1,{id:T,initial:t,isPresent:r,custom:l,onExitComplete:j=>{w.set(j,!0);for(const D of w.values())if(!D)return;a&&a()},register:j=>(w.set(j,!1),()=>w.delete(j))}),[r,w,a]);return u&&x&&(O={...O}),me.useMemo(()=>{w.forEach((j,D)=>w.set(D,!1))},[r]),me.useEffect(()=>{!r&&!w.size&&a&&a()},[r]),n=I.jsx(TA,{pop:f==="popLayout",isPresent:r,anchorX:m,anchorY:y,root:v,children:n}),I.jsx(lf.Provider,{value:O,children:n})};function xA(){return new Map}function ew(n=!0){const t=me.useContext(lf);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:l}=t,u=me.useId();me.useEffect(()=>{if(n)return l(u)},[n]);const f=me.useCallback(()=>n&&a&&a(u),[u,a,n]);return!r&&a?[!1,f]:[!0]}const Cc=n=>n.key||"";function S0(n){const t=[];return me.Children.forEach(n,r=>{me.isValidElement(r)&&t.push(r)}),t}const lp=({children:n,custom:t,initial:r=!0,onExitComplete:a,presenceAffectsLayout:l=!0,mode:u="sync",propagate:f=!1,anchorX:m="left",anchorY:y="top",root:v})=>{const[w,T]=ew(f),x=me.useMemo(()=>S0(n),[n]),O=f&&!w?[]:x.map(Cc),j=me.useRef(!0),D=me.useRef(x),H=xp(()=>new Map),X=me.useRef(new Set),[ee,F]=me.useState(x),[ce,ne]=me.useState(x);jb(()=>{j.current=!1,D.current=x;for(let ie=0;ie<ce.length;ie++){const je=Cc(ce[ie]);O.includes(je)?(H.delete(je),X.current.delete(je)):H.get(je)!==!0&&H.set(je,!1)}},[ce,O.length,O.join("-")]);const ye=[];if(x!==ee){let ie=[...x];for(let je=0;je<ce.length;je++){const it=ce[je],Ot=Cc(it);O.includes(Ot)||(ie.splice(je,0,it),ye.push(it))}return u==="wait"&&ye.length&&(ie=ye),ne(S0(ie)),F(x),null}const{forceRender:fe}=me.useContext(Ep);return I.jsx(I.Fragment,{children:ce.map(ie=>{const je=Cc(ie),it=f&&!w?!1:x===ce||O.includes(je),Ot=()=>{if(X.current.has(je))return;if(X.current.add(je),H.has(je))H.set(je,!0);else return;let bt=!0;H.forEach(Yt=>{Yt||(bt=!1)}),bt&&(fe?.(),ne(D.current),f&&T?.(),a&&a())};return I.jsx(EA,{isPresent:it,initial:!j.current||r?void 0:!1,custom:t,presenceAffectsLayout:l,mode:u,root:v,onExitComplete:it?void 0:Ot,anchorX:m,anchorY:y,children:ie},je)})})},tw=me.createContext({strict:!1}),T0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let E0=!1;function AA(){if(E0)return;const n={};for(const t in T0)n[t]={isEnabled:r=>T0[t].some(a=>!!r[a])};j_(n),E0=!0}function nw(){return AA(),h1()}function OA(n){const t=nw();for(const r in n)t[r]={...t[r],...n[r]};j_(t)}const CA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function tf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||CA.has(n)}let iw=n=>!tf(n);function RA(n){typeof n=="function"&&(iw=t=>t.startsWith("on")?!tf(t):n(t))}try{RA(require("@emotion/is-prop-valid").default)}catch{}function jA(n,t,r){const a={};for(const l in n)l==="values"&&typeof n.values=="object"||(iw(l)||r===!0&&tf(l)||!t&&!tf(l)||n.draggable&&l.startsWith("onDrag"))&&(a[l]=n[l]);return a}const ff=me.createContext({});function kA(n,t){if(cf(n)){const{initial:r,animate:a}=n;return{initial:r===!1||Yl(r)?r:void 0,animate:Yl(a)?a:void 0}}return n.inherit!==!1?t:{}}function DA(n){const{initial:t,animate:r}=kA(n,me.useContext(ff));return me.useMemo(()=>({initial:t,animate:r}),[x0(t),x0(r)])}function x0(n){return Array.isArray(n)?n.join(" "):n}const em=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rw(n,t,r){for(const a in t)!Sn(t[a])&&!L_(a,r)&&(n[a]=t[a])}function MA({transformTemplate:n},t){return me.useMemo(()=>{const r=em();return Qp(r,t,n),Object.assign({},r.vars,r.style)},[t])}function NA(n,t){const r=n.style||{},a={};return rw(a,r,n),Object.assign(a,MA(n,t)),a}function UA(n,t){const r={},a=NA(n,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=a,r}const sw=()=>({...em(),attrs:{}});function BA(n,t,r,a){const l=me.useMemo(()=>{const u=sw();return z_(u,t,P_(a),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};rw(u,n.style,n),l.style={...u,...l.style}}return l}const LA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tm(n){return typeof n!="string"||n.includes("-")?!1:!!(LA.indexOf(n)>-1||/[A-Z]/u.test(n))}function zA(n,t,r,{latestValues:a},l,u=!1,f){const y=(f??tm(n)?BA:UA)(t,a,l,n),v=jA(t,typeof n=="string",u),w=n!==me.Fragment?{...v,...y,ref:r}:{},{children:T}=t,x=me.useMemo(()=>Sn(T)?T.get():T,[T]);return me.createElement(n,{...w,children:x})}function VA({scrapeMotionValuesFromProps:n,createRenderState:t},r,a,l){return{latestValues:PA(r,a,l,n),renderState:t()}}function PA(n,t,r,a){const l={},u=a(n,{});for(const x in u)l[x]=Kc(u[x]);let{initial:f,animate:m}=n;const y=cf(n),v=C_(n);t&&v&&!y&&n.inherit!==!1&&(f===void 0&&(f=t.initial),m===void 0&&(m=t.animate));let w=r?r.initial===!1:!1;w=w||f===!1;const T=w?m:f;if(T&&typeof T!="boolean"&&!uf(T)){const x=Array.isArray(T)?T:[T];for(let O=0;O<x.length;O++){const j=Kp(n,x[O]);if(j){const{transitionEnd:D,transition:H,...X}=j;for(const ee in X){let F=X[ee];if(Array.isArray(F)){const ce=w?F.length-1:0;F=F[ce]}F!==null&&(l[ee]=F)}for(const ee in D)l[ee]=D[ee]}}}return l}const aw=n=>(t,r)=>{const a=me.useContext(ff),l=me.useContext(lf),u=()=>VA(n,t,a,l);return r?u():xp(u)},qA=aw({scrapeMotionValuesFromProps:Wp,createRenderState:em}),IA=aw({scrapeMotionValuesFromProps:q_,createRenderState:sw}),KA=Symbol.for("motionComponentSymbol");function HA(n,t,r){const a=me.useRef(r);me.useInsertionEffect(()=>{a.current=r});const l=me.useRef(null);return me.useCallback(u=>{u&&n.onMount?.(u),t&&(u?t.mount(u):t.unmount());const f=a.current;if(typeof f=="function")if(u){const m=f(u);typeof m=="function"&&(l.current=m)}else l.current?(l.current(),l.current=null):f(u);else f&&(f.current=u)},[t])}const ow=me.createContext({});function fo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function GA(n,t,r,a,l,u){const{visualElement:f}=me.useContext(ff),m=me.useContext(tw),y=me.useContext(lf),v=me.useContext(Zp),w=v.reducedMotion,T=v.skipAnimations,x=me.useRef(null),O=me.useRef(!1);a=a||m.renderer,!x.current&&a&&(x.current=a(n,{visualState:t,parent:f,props:r,presenceContext:y,blockInitialAnimation:y?y.initial===!1:!1,reducedMotionConfig:w,skipAnimations:T,isSVG:u}),O.current&&x.current&&(x.current.manuallyAnimateOnMount=!0));const j=x.current,D=me.useContext(ow);j&&!j.projection&&l&&(j.type==="html"||j.type==="svg")&&$A(x.current,r,l,D);const H=me.useRef(!1);me.useInsertionEffect(()=>{j&&H.current&&j.update(r,y)});const X=r[m_],ee=me.useRef(!!X&&!window.MotionHandoffIsComplete?.(X)&&window.MotionHasOptimisedAnimation?.(X));return jb(()=>{O.current=!0,j&&(H.current=!0,window.MotionIsMounted=!0,j.updateFeatures(),j.scheduleRenderMicrotask(),ee.current&&j.animationState&&j.animationState.animateChanges())}),me.useEffect(()=>{j&&(!ee.current&&j.animationState&&j.animationState.animateChanges(),ee.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(X)}),ee.current=!1),j.enteringChildren=void 0)}),j}function $A(n,t,r,a){const{layoutId:l,layout:u,drag:f,dragConstraints:m,layoutScroll:y,layoutRoot:v,layoutCrossfade:w}=t;n.projection=new r(n.latestValues,t["data-framer-portal-id"]?void 0:lw(n.parent)),n.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!f||m&&fo(m),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,crossfade:w,layoutScroll:y,layoutRoot:v})}function lw(n){if(n)return n.options.allowProjection!==!1?n.projection:lw(n.parent)}function Od(n,{forwardMotionProps:t=!1,type:r}={},a,l){a&&OA(a);const u=r?r==="svg":tm(n),f=u?IA:qA;function m(v,w){let T;const x={...me.useContext(Zp),...v,layoutId:YA(v)},{isStatic:O}=x,j=DA(v),D=f(v,O);if(!O&&Rb){FA();const H=XA(x);T=H.MeasureLayout,j.visualElement=GA(n,D,x,l,H.ProjectionNode,u)}return I.jsxs(ff.Provider,{value:j,children:[T&&j.visualElement?I.jsx(T,{visualElement:j.visualElement,...x}):null,zA(n,v,HA(D,j.visualElement,w),D,O,t,u)]})}m.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const y=me.forwardRef(m);return y[KA]=n,y}function YA({layoutId:n}){const t=me.useContext(Ep).id;return t&&n!==void 0?t+"-"+n:n}function FA(n,t){me.useContext(tw).strict}function XA(n){const t=nw(),{drag:r,layout:a}=t;if(!r&&!a)return{};const l={...r,...a};return{MeasureLayout:r?.isEnabled(n)||a?.isEnabled(n)?l.MeasureLayout:void 0,ProjectionNode:l.ProjectionNode}}function JA(n,t){if(typeof Proxy>"u")return Od;const r=new Map,a=(u,f)=>Od(u,f,n,t),l=(u,f)=>a(u,f);return new Proxy(l,{get:(u,f)=>f==="create"?a:(r.has(f)||r.set(f,Od(f,void 0,n,t)),r.get(f))})}const QA=(n,t)=>t.isSVG??tm(n)?new R1(t):new T1(t,{allowProjection:n!==me.Fragment});class WA extends ms{constructor(t){super(t),t.animationState||(t.animationState=N1(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();uf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ZA=0;class eO extends ms{constructor(){super(...arguments),this.id=ZA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const l=this.node.animationState.setActive("exit",!t);r&&!t&&l.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const tO={animation:{Feature:WA},exit:{Feature:eO}};function lu(n){return{point:{x:n.pageX,y:n.pageY}}}const nO=n=>t=>Yp(t)&&n(t,lu(t));function Pl(n,t,r,a){return Fl(n,t,nO(r),a)}const uw=({current:n})=>n?n.ownerDocument.defaultView:null,A0=(n,t)=>Math.abs(n-t);function iO(n,t){const r=A0(n.x,t.x),a=A0(n.y,t.y);return Math.sqrt(r**2+a**2)}const O0=new Set(["auto","scroll"]);class cw{constructor(t,r,{transformPagePoint:a,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:f=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=O=>{this.handleScroll(O.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Rd(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,D=iO(O.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!D)return;const{point:H}=O,{timestamp:X}=dn;this.history.push({...H,timestamp:X});const{onStart:ee,onMove:F}=this.handlers;j||(ee&&ee(this.lastMoveEvent,O),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,O)},this.handlePointerMove=(O,j)=>{this.lastMoveEvent=O,this.lastMoveEventInfo=Cd(j,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(O,j)=>{this.end();const{onEnd:D,onSessionEnd:H,resumeAnimation:X}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&X&&X(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ee=Rd(O.type==="pointercancel"?this.lastMoveEventInfo:Cd(j,this.transformPagePoint),this.history);this.startEvent&&D&&D(O,ee),H&&H(O,ee)},!Yp(t))return;this.dragSnapToOrigin=u,this.handlers=r,this.transformPagePoint=a,this.distanceThreshold=f,this.contextWindow=l||window;const y=lu(t),v=Cd(y,this.transformPagePoint),{point:w}=v,{timestamp:T}=dn;this.history=[{...w,timestamp:T}];const{onSessionStart:x}=r;x&&x(t,Rd(v,this.history)),this.removeListeners=su(Pl(this.contextWindow,"pointermove",this.handlePointerMove),Pl(this.contextWindow,"pointerup",this.handlePointerUp),Pl(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(t){let r=t.parentElement;for(;r;){const a=getComputedStyle(r);(O0.has(a.overflowX)||O0.has(a.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const a=t===window,l=a?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:l.x-r.x,y:l.y-r.y};u.x===0&&u.y===0||(a?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,l),St.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ds(this.updatePoint)}}function Cd(n,t){return t?{point:t(n.point)}:n}function C0(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Rd({point:n},t){return{point:n,delta:C0(n,fw(t)),offset:C0(n,rO(t)),velocity:sO(t,.1)}}function rO(n){return n[0]}function fw(n){return n[n.length-1]}function sO(n,t){if(n.length<2)return{x:0,y:0};let r=n.length-1,a=null;const l=fw(n);for(;r>=0&&(a=n[r],!(l.timestamp-a.timestamp>wi(t)));)r--;if(!a)return{x:0,y:0};a===n[0]&&n.length>2&&l.timestamp-a.timestamp>wi(t)*2&&(a=n[1]);const u=oi(l.timestamp-a.timestamp);if(u===0)return{x:0,y:0};const f={x:(l.x-a.x)/u,y:(l.y-a.y)/u};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function aO(n,{min:t,max:r},a){return t!==void 0&&n<t?n=a?jt(t,n,a.min):Math.max(n,t):r!==void 0&&n>r&&(n=a?jt(r,n,a.max):Math.min(n,r)),n}function R0(n,t,r){return{min:t!==void 0?n.min+t:void 0,max:r!==void 0?n.max+r-(n.max-n.min):void 0}}function oO(n,{top:t,left:r,bottom:a,right:l}){return{x:R0(n.x,r,l),y:R0(n.y,t,a)}}function j0(n,t){let r=t.min-n.min,a=t.max-n.max;return t.max-t.min<n.max-n.min&&([r,a]=[a,r]),{min:r,max:a}}function lO(n,t){return{x:j0(n.x,t.x),y:j0(n.y,t.y)}}function uO(n,t){let r=.5;const a=Cn(n),l=Cn(t);return l>a?r=Hl(t.min,t.max-a,n.min):a>l&&(r=Hl(n.min,n.max-l,t.min)),qi(0,1,r)}function cO(n,t){const r={};return t.min!==void 0&&(r.min=t.min-n.min),t.max!==void 0&&(r.max=t.max-n.min),r}const up=.35;function fO(n=up){return n===!1?n=0:n===!0&&(n=up),{x:k0(n,"left","right"),y:k0(n,"top","bottom")}}function k0(n,t,r){return{min:D0(n,t),max:D0(n,r)}}function D0(n,t){return typeof n=="number"?n:n[t]||0}const hO=new WeakMap;class dO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:a}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=T=>{r&&this.snapToCursor(lu(T).point),this.stopAnimation()},f=(T,x)=>{const{drag:O,dragPropagation:j,onDragStart:D}=this.getProps();if(O&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ix(O),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vi(X=>{let ee=this.getAxisMotionValue(X).get()||0;if(Pi.test(ee)){const{projection:F}=this.visualElement;if(F&&F.layout){const ce=F.layout.layoutBox[X];ce&&(ee=Cn(ce)*(parseFloat(ee)/100))}}this.originPoint[X]=ee}),D&&St.update(()=>D(T,x),!1,!0),ep(this.visualElement,"transform");const{animationState:H}=this.visualElement;H&&H.setActive("whileDrag",!0)},m=(T,x)=>{this.latestPointerEvent=T,this.latestPanInfo=x;const{dragPropagation:O,dragDirectionLock:j,onDirectionLock:D,onDrag:H}=this.getProps();if(!O&&!this.openDragLock)return;const{offset:X}=x;if(j&&this.currentDirection===null){this.currentDirection=mO(X),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",x.point,X),this.updateAxis("y",x.point,X),this.visualElement.render(),H&&St.update(()=>H(T,x),!1,!0)},y=(T,x)=>{this.latestPointerEvent=T,this.latestPanInfo=x,this.stop(T,x),this.latestPointerEvent=null,this.latestPanInfo=null},v=()=>{const{dragSnapToOrigin:T}=this.getProps();(T||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:w}=this.getProps();this.panSession=new cw(t,{onSessionStart:u,onStart:f,onMove:m,onSessionEnd:y,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:w,distanceThreshold:a,contextWindow:uw(this.visualElement),element:this.visualElement.current})}stop(t,r){const a=t||this.latestPointerEvent,l=r||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!a)return;const{velocity:f}=l;this.startAnimation(f);const{onDragEnd:m}=this.getProps();m&&St.postRender(()=>m(a,l))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,r,a){const{drag:l}=this.getProps();if(!a||!Rc(t,l,this.currentDirection))return;const u=this.getAxisMotionValue(t);let f=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(f=aO(f,this.constraints[t],this.elastic[t])),u.set(f)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;t&&fo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=oO(a.layoutBox,t):this.constraints=!1,this.elastic=fO(r),l!==this.constraints&&!fo(t)&&a&&this.constraints&&!this.hasMutatedConstraints&&Vi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=cO(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!fo(t))return!1;const a=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=g1(a,l.root,this.visualElement.getTransformPagePoint());let f=lO(l.layout.layoutBox,u);if(r){const m=r(p1(f));this.hasMutatedConstraints=!!m,m&&(f=D_(m))}return f}startAnimation(t){const{drag:r,dragMomentum:a,dragElastic:l,dragTransition:u,dragSnapToOrigin:f,onDragTransitionEnd:m}=this.getProps(),y=this.constraints||{},v=Vi(w=>{if(!Rc(w,r,this.currentDirection))return;let T=y&&y[w]||{};f&&(T={min:0,max:0});const x=l?200:1e6,O=l?40:1e7,j={type:"inertia",velocity:a?t[w]:0,bounceStiffness:x,bounceDamping:O,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(w,j)});return Promise.all(v).then(m)}startAxisValueAnimation(t,r){const a=this.getAxisMotionValue(t);return ep(this.visualElement,t),a.start(Ip(t,a,0,r,this.visualElement,!1))}stopAnimation(){Vi(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),l=a[r];return l||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Vi(r=>{const{drag:a}=this.getProps();if(!Rc(r,a,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(r);if(l&&l.layout){const{min:f,max:m}=l.layout.layoutBox[r],y=u.get()||0;u.set(t[r]-jt(f,m,.5)+y)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!fo(r)||!a||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Vi(f=>{const m=this.getAxisMotionValue(f);if(m&&this.constraints!==!1){const y=m.get();l[f]=uO({min:y,max:y},this.constraints[f])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.constraints=!1,this.resolveConstraints(),Vi(f=>{if(!Rc(f,t,null))return;const m=this.getAxisMotionValue(f),{min:y,max:v}=this.constraints[f];m.set(jt(y,v,l[f]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;hO.set(this.visualElement,this);const t=this.visualElement.current,r=Pl(t,"pointerdown",v=>{const{drag:w,dragListener:T=!0}=this.getProps(),x=v.target,O=x!==t&&Fx(x);w&&T&&!O&&this.start(v)});let a;const l=()=>{const{dragConstraints:v}=this.getProps();fo(v)&&v.current&&(this.constraints=this.resolveRefConstraints(),a||(a=pO(t,v.current,()=>this.scalePositionWithinConstraints())))},{projection:u}=this.visualElement,f=u.addEventListener("measure",l);u&&!u.layout&&(u.root&&u.root.updateScroll(),u.updateLayout()),St.read(l);const m=Fl(window,"resize",()=>this.scalePositionWithinConstraints()),y=u.addEventListener("didUpdate",(({delta:v,hasLayoutChanged:w})=>{this.isDragging&&w&&(Vi(T=>{const x=this.getAxisMotionValue(T);x&&(this.originPoint[T]+=v[T].translate,x.set(x.get()+v[T].translate))}),this.visualElement.render())}));return()=>{m(),r(),f(),y&&y(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:f=up,dragMomentum:m=!0}=t;return{...t,drag:r,dragDirectionLock:a,dragPropagation:l,dragConstraints:u,dragElastic:f,dragMomentum:m}}}function M0(n){let t=!0;return()=>{if(t){t=!1;return}n()}}function pO(n,t,r){const a=Pv(n,M0(r)),l=Pv(t,M0(r));return()=>{a(),l()}}function Rc(n,t,r){return(t===!0||t===n)&&(r===null||r===n)}function mO(n,t=10){let r=null;return Math.abs(n.y)>t?r="y":Math.abs(n.x)>t&&(r="x"),r}class yO extends ms{constructor(t){super(t),this.removeGroupControls=li,this.removeListeners=li,this.controls=new dO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||li}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const jd=n=>(t,r)=>{n&&St.update(()=>n(t,r),!1,!0)};class gO extends ms{constructor(){super(...arguments),this.removePointerDownListener=li}onPointerDown(t){this.session=new cw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:a,onPanEnd:l}=this.node.getProps();return{onSessionStart:jd(t),onStart:jd(r),onMove:jd(a),onEnd:(u,f)=>{delete this.session,l&&St.postRender(()=>l(u,f))}}}mount(){this.removePointerDownListener=Pl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let kd=!1;class vO extends me.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a,layoutId:l}=this.props,{projection:u}=t;u&&(r.group&&r.group.add(u),a&&a.register&&l&&a.register(u),kd&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Hc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:a,drag:l,isPresent:u}=this.props,{projection:f}=a;return f&&(f.isPresent=u,t.layoutDependency!==r&&f.setOptions({...f.options,layoutDependency:r}),kd=!0,l||t.layoutDependency!==r||r===void 0||t.isPresent!==u?f.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?f.promote():f.relegate()||St.postRender(()=>{const m=f.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),$p.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:l}=t;kd=!0,l&&(l.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(l),a&&a.deregister&&a.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function hw(n){const[t,r]=ew(),a=me.useContext(Ep);return I.jsx(vO,{...n,layoutGroup:a,switchLayoutGroup:me.useContext(ow),isPresent:t,safeToRemove:r})}const bO={pan:{Feature:gO},drag:{Feature:yO,ProjectionNode:Z_,MeasureLayout:hw}};function N0(n,t,r){const{props:a}=n;n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",r==="Start");const l="onHover"+r,u=a[l];u&&St.postRender(()=>u(t,lu(t)))}class _O extends ms{mount(){const{current:t}=this.node;t&&(this.unmount=Hx(t,(r,a)=>(N0(this.node,a,"Start"),l=>N0(this.node,l,"End"))))}unmount(){}}class wO extends ms{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=su(Fl(this.node.current,"focus",()=>this.onFocus()),Fl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function U0(n,t,r){const{props:a}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&a.whileTap&&n.animationState.setActive("whileTap",r==="Start");const l="onTap"+(r==="End"?"":r),u=a[l];u&&St.postRender(()=>u(t,lu(t)))}class SO extends ms{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:r,propagate:a}=this.node.props;this.unmount=Jx(t,(l,u)=>(U0(this.node,u,"Start"),(f,{success:m})=>U0(this.node,f,m?"End":"Cancel")),{useGlobalTarget:r,stopPropagation:a?.tap===!1})}unmount(){}}const cp=new WeakMap,Dd=new WeakMap,TO=n=>{const t=cp.get(n.target);t&&t(n)},EO=n=>{n.forEach(TO)};function xO({root:n,...t}){const r=n||document;Dd.has(r)||Dd.set(r,{});const a=Dd.get(r),l=JSON.stringify(t);return a[l]||(a[l]=new IntersectionObserver(EO,{root:n,...t})),a[l]}function AO(n,t,r){const a=xO(t);return cp.set(n,r),a.observe(n),()=>{cp.delete(n),a.unobserve(n)}}const OO={some:0,all:1};class CO extends ms{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:a,amount:l="some",once:u}=t,f={root:r?r.current:void 0,rootMargin:a,threshold:typeof l=="number"?l:OO[l]},m=y=>{const{isIntersecting:v}=y;if(this.isInView===v||(this.isInView=v,u&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:w,onViewportLeave:T}=this.node.getProps(),x=v?w:T;x&&x(y)};return AO(this.node.current,f,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(RO(t,r))&&this.startObserver()}unmount(){}}function RO({viewport:n={}},{viewport:t={}}={}){return r=>n[r]!==t[r]}const jO={inView:{Feature:CO},tap:{Feature:SO},focus:{Feature:wO},hover:{Feature:_O}},kO={layout:{ProjectionNode:Z_,MeasureLayout:hw}},DO={...tO,...jO,...bO,...kO},Xl=JA(DO,QA);var Gc={exports:{}},MO=Gc.exports,B0;function NO(){return B0||(B0=1,(function(n,t){((r,a)=>{n.exports=a()})(MO,function(){var r=function(c,p){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(g,b){g.__proto__=b}:function(g,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(g[S]=b[S])}))(c,p)},a=function(){return(a=Object.assign||function(c){for(var p,g=1,b=arguments.length;g<b;g++)for(var S in p=arguments[g])Object.prototype.hasOwnProperty.call(p,S)&&(c[S]=p[S]);return c}).apply(this,arguments)};function l(c,p,g){for(var b,S=0,E=p.length;S<E;S++)!b&&S in p||((b=b||Array.prototype.slice.call(p,0,S))[S]=p[S]);return c.concat(b||Array.prototype.slice.call(p))}var u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ZS,f=Object.keys,m=Array.isArray;function y(c,p){return typeof p=="object"&&f(p).forEach(function(g){c[g]=p[g]}),c}typeof Promise>"u"||u.Promise||(u.Promise=Promise);var v=Object.getPrototypeOf,w={}.hasOwnProperty;function T(c,p){return w.call(c,p)}function x(c,p){typeof p=="function"&&(p=p(v(c))),(typeof Reflect>"u"?f:Reflect.ownKeys)(p).forEach(function(g){j(c,g,p[g])})}var O=Object.defineProperty;function j(c,p,g,b){O(c,p,y(g&&T(g,"get")&&typeof g.get=="function"?{get:g.get,set:g.set,configurable:!0}:{value:g,configurable:!0,writable:!0},b))}function D(c){return{from:function(p){return c.prototype=Object.create(p.prototype),j(c.prototype,"constructor",c),{extend:x.bind(null,c.prototype)}}}}var H=Object.getOwnPropertyDescriptor,X=[].slice;function ee(c,p,g){return X.call(c,p,g)}function F(c,p){return p(c)}function ce(c){if(!c)throw new Error("Assertion Failed")}function ne(c){u.setImmediate?setImmediate(c):setTimeout(c,0)}function ye(c,p){if(typeof p=="string"&&T(c,p))return c[p];if(!p)return c;if(typeof p!="string"){for(var g=[],b=0,S=p.length;b<S;++b){var E=ye(c,p[b]);g.push(E)}return g}var C,R=p.indexOf(".");return R===-1||(C=c[p.substr(0,R)])==null?void 0:ye(C,p.substr(R+1))}function fe(c,p,g){if(c&&p!==void 0&&!("isFrozen"in Object&&Object.isFrozen(c)))if(typeof p!="string"&&"length"in p){ce(typeof g!="string"&&"length"in g);for(var b=0,S=p.length;b<S;++b)fe(c,p[b],g[b])}else{var E,C,R=p.indexOf(".");R!==-1?(E=p.substr(0,R),(R=p.substr(R+1))===""?g===void 0?m(c)&&!isNaN(parseInt(E))?c.splice(E,1):delete c[E]:c[E]=g:fe(C=(C=c[E])&&T(c,E)?C:c[E]={},R,g)):g===void 0?m(c)&&!isNaN(parseInt(p))?c.splice(p,1):delete c[p]:c[p]=g}}function ie(c){var p,g={};for(p in c)T(c,p)&&(g[p]=c[p]);return g}var je=[].concat;function it(c){return je.apply([],c)}var oe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(it([8,16,32,64].map(function(c){return["Int","Uint","Float"].map(function(p){return p+c+"Array"})}))).filter(function(c){return u[c]}),Ot=new Set(oe.map(function(c){return u[c]})),bt=null;function Yt(c){return bt=new WeakMap,c=(function p(g){if(!g||typeof g!="object")return g;var b=bt.get(g);if(b)return b;if(m(g)){b=[],bt.set(g,b);for(var S=0,E=g.length;S<E;++S)b.push(p(g[S]))}else if(Ot.has(g.constructor))b=g;else{var C,R=v(g);for(C in b=R===Object.prototype?{}:Object.create(R),bt.set(g,b),g)T(g,C)&&(b[C]=p(g[C]))}return b})(c),bt=null,c}var jn={}.toString;function Wt(c){return jn.call(c).slice(8,-1)}var re=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ge=typeof re=="symbol"?function(c){var p;return c!=null&&(p=c[re])&&p.apply(c)}:function(){return null};function Ae(c,p){p=c.indexOf(p),0<=p&&c.splice(p,1)}var He={};function qe(c){var p,g,b,S;if(arguments.length===1){if(m(c))return c.slice();if(this===He&&typeof c=="string")return[c];if(S=ge(c))for(g=[];!(b=S.next()).done;)g.push(b.value);else{if(c==null)return[c];if(typeof(p=c.length)!="number")return[c];for(g=new Array(p);p--;)g[p]=c[p]}}else for(p=arguments.length,g=new Array(p);p--;)g[p]=arguments[p];return g}var q=typeof Symbol<"u"?function(c){return c[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},oe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],mn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(oe),Se={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Oe(c,p){this.name=c,this.message=p}function Pe(c,p){return c+". Errors: "+Object.keys(p).map(function(g){return p[g].toString()}).filter(function(g,b,S){return S.indexOf(g)===b}).join(`
`)}function Ge(c,p,g,b){this.failures=p,this.failedKeys=b,this.successCount=g,this.message=Pe(c,p)}function Je(c,p){this.name="BulkError",this.failures=Object.keys(p).map(function(g){return p[g]}),this.failuresByPos=p,this.message=Pe(c,this.failures)}D(Oe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),D(Ge).from(Oe),D(Je).from(Oe);var Ft=mn.reduce(function(c,p){return c[p]=p+"Error",c},{}),Rt=Oe,De=mn.reduce(function(c,p){var g=p+"Error";function b(S,E){this.name=g,S?typeof S=="string"?(this.message="".concat(S).concat(E?`
 `+E:""),this.inner=E||null):typeof S=="object"&&(this.message="".concat(S.name," ").concat(S.message),this.inner=S):(this.message=Se[p]||g,this.inner=null)}return D(b).from(Rt),c[p]=b,c},{}),ys=(De.Syntax=SyntaxError,De.Type=TypeError,De.Range=RangeError,oe.reduce(function(c,p){return c[p+"Error"]=De[p],c},{}));oe=mn.reduce(function(c,p){return["Syntax","Type","Range"].indexOf(p)===-1&&(c[p+"Error"]=De[p]),c},{});function rt(){}function Tr(c){return c}function Ii(c,p){return c==null||c===Tr?p:function(g){return p(c(g))}}function ui(c,p){return function(){c.apply(this,arguments),p.apply(this,arguments)}}function Ro(c,p){return c===rt?p:function(){var g=c.apply(this,arguments),b=(g!==void 0&&(arguments[0]=g),this.onsuccess),S=this.onerror,E=(this.onsuccess=null,this.onerror=null,p.apply(this,arguments));return b&&(this.onsuccess=this.onsuccess?ui(b,this.onsuccess):b),S&&(this.onerror=this.onerror?ui(S,this.onerror):S),E!==void 0?E:g}}function yf(c,p){return c===rt?p:function(){c.apply(this,arguments);var g=this.onsuccess,b=this.onerror;this.onsuccess=this.onerror=null,p.apply(this,arguments),g&&(this.onsuccess=this.onsuccess?ui(g,this.onsuccess):g),b&&(this.onerror=this.onerror?ui(b,this.onerror):b)}}function fu(c,p){return c===rt?p:function(S){var b=c.apply(this,arguments),S=(y(S,b),this.onsuccess),E=this.onerror,C=(this.onsuccess=null,this.onerror=null,p.apply(this,arguments));return S&&(this.onsuccess=this.onsuccess?ui(S,this.onsuccess):S),E&&(this.onerror=this.onerror?ui(E,this.onerror):E),b===void 0?C===void 0?void 0:C:y(b,C)}}function jo(c,p){return c===rt?p:function(){return p.apply(this,arguments)!==!1&&c.apply(this,arguments)}}function gs(c,p){return c===rt?p:function(){var g=c.apply(this,arguments);if(g&&typeof g.then=="function"){for(var b=this,S=arguments.length,E=new Array(S);S--;)E[S]=arguments[S];return g.then(function(){return p.apply(b,E)})}return p.apply(this,arguments)}}oe.ModifyError=Ge,oe.DexieError=Oe,oe.BulkError=Je;var kn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function hu(c){kn=c}var vs={},pn=100,bs=typeof Promise>"u"?[]:(mn=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[bs=crypto.subtle.digest("SHA-512",new Uint8Array([0])),v(bs),mn]:[mn,v(mn),mn]),mn=bs[0],nr=bs[1],nr=nr&&nr.then,Ti=mn&&mn.constructor,Er=!!bs[2],_s=function(c,p){ws.push([c,p]),fa&&(queueMicrotask(du),fa=!1)},ca=!0,fa=!0,Ki=[],Ei=[],rn=Tr,sn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:rt,pgp:!1,env:{},finalize:rt},Te=sn,ws=[],Hi=0,ha=[];function _e(c){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var p=this._PSD=Te;if(typeof c!="function"){if(c!==vs)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ci(this,this._value)}else this._state=null,this._value=null,++p.ref,(function g(b,S){try{S(function(E){if(b._state===null){if(E===b)throw new TypeError("A promise cannot be resolved with itself.");var C=b._lib&&xi();E&&typeof E.then=="function"?g(b,function(R,N){E instanceof _e?E._then(R,N):E.then(R,N)}):(b._state=!0,b._value=E,Ts(b)),C&&Xn()}},ci.bind(null,b))}catch(E){ci(b,E)}})(this,c)}var xr={get:function(){var c=Te,p=As;function g(b,S){var E=this,C=!c.global&&(c!==Te||p!==As),R=C&&!En(),N=new _e(function(G,U){Gi(E,new Ss(da(b,c,C,R),da(S,c,C,R),G,U,c))});return this._consoleTask&&(N._consoleTask=this._consoleTask),N}return g.prototype=vs,g},set:function(c){j(this,"then",c&&c.prototype===vs?xr:{get:function(){return c},set:xr.set})}};function Ss(c,p,g,b,S){this.onFulfilled=typeof c=="function"?c:null,this.onRejected=typeof p=="function"?p:null,this.resolve=g,this.reject=b,this.psd=S}function ci(c,p){var g,b;Ei.push(p),c._state===null&&(g=c._lib&&xi(),p=rn(p),c._state=!1,c._value=p,b=c,Ki.some(function(S){return S._value===b._value})||Ki.push(b),Ts(c),g)&&Xn()}function Ts(c){var p=c._listeners;c._listeners=[];for(var g=0,b=p.length;g<b;++g)Gi(c,p[g]);var S=c._PSD;--S.ref||S.finalize(),Hi===0&&(++Hi,_s(function(){--Hi==0&&ko()},[]))}function Gi(c,p){if(c._state===null)c._listeners.push(p);else{var g=c._state?p.onFulfilled:p.onRejected;if(g===null)return(c._state?p.resolve:p.reject)(c._value);++p.psd.ref,++Hi,_s(gf,[g,c,p])}}function gf(c,p,g){try{var b,S=p._value;!p._state&&Ei.length&&(Ei=[]),b=kn&&p._consoleTask?p._consoleTask.run(function(){return c(S)}):c(S),p._state||Ei.indexOf(S)!==-1||(E=>{for(var C=Ki.length;C;)if(Ki[--C]._value===E._value)return Ki.splice(C,1)})(p),g.resolve(b)}catch(E){g.reject(E)}finally{--Hi==0&&ko(),--g.psd.ref||g.psd.finalize()}}function du(){zn(sn,function(){xi()&&Xn()})}function xi(){var c=ca;return fa=ca=!1,c}function Xn(){var c,p,g;do for(;0<ws.length;)for(c=ws,ws=[],g=c.length,p=0;p<g;++p){var b=c[p];b[0].apply(null,b[1])}while(0<ws.length);fa=ca=!0}function ko(){for(var c=Ki,p=(Ki=[],c.forEach(function(b){b._PSD.onunhandled.call(null,b._value,b)}),ha.slice(0)),g=p.length;g;)p[--g]()}function Es(c){return new _e(vs,!1,c)}function gt(c,p){var g=Te;return function(){var b=xi(),S=Te;try{return Oi(g,!0),c.apply(this,arguments)}catch(E){p&&p(E)}finally{Oi(S,!1),b&&Xn()}}}x(_e.prototype,{then:xr,_then:function(c,p){Gi(this,new Ss(null,null,c,p,Te))},catch:function(c){var p,g;return arguments.length===1?this.then(null,c):(p=c,g=arguments[1],typeof p=="function"?this.then(null,function(b){return(b instanceof p?g:Es)(b)}):this.then(null,function(b){return(b&&b.name===p?g:Es)(b)}))},finally:function(c){return this.then(function(p){return _e.resolve(c()).then(function(){return p})},function(p){return _e.resolve(c()).then(function(){return Es(p)})})},timeout:function(c,p){var g=this;return c<1/0?new _e(function(b,S){var E=setTimeout(function(){return S(new De.Timeout(p))},c);g.then(b,S).finally(clearTimeout.bind(null,E))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&j(_e.prototype,Symbol.toStringTag,"Dexie.Promise"),sn.env=Mo(),x(_e,{all:function(){var c=qe.apply(null,arguments).map(Or);return new _e(function(p,g){c.length===0&&p([]);var b=c.length;c.forEach(function(S,E){return _e.resolve(S).then(function(C){c[E]=C,--b||p(c)},g)})})},resolve:function(c){return c instanceof _e?c:c&&typeof c.then=="function"?new _e(function(p,g){c.then(p,g)}):new _e(vs,!0,c)},reject:Es,race:function(){var c=qe.apply(null,arguments).map(Or);return new _e(function(p,g){c.map(function(b){return _e.resolve(b).then(p,g)})})},PSD:{get:function(){return Te},set:function(c){return Te=c}},totalEchoes:{get:function(){return As}},newPSD:_t,usePSD:zn,scheduler:{get:function(){return _s},set:function(c){_s=c}},rejectionMapper:{get:function(){return rn},set:function(c){rn=c}},follow:function(c,p){return new _e(function(g,b){return _t(function(S,E){var C=Te;C.unhandleds=[],C.onunhandled=E,C.finalize=ui(function(){var R,N=this;R=function(){N.unhandleds.length===0?S():E(N.unhandleds[0])},ha.push(function G(){R(),ha.splice(ha.indexOf(G),1)}),++Hi,_s(function(){--Hi==0&&ko()},[])},C.finalize),c()},p,g,b)})}}),Ti&&(Ti.allSettled&&j(_e,"allSettled",function(){var c=qe.apply(null,arguments).map(Or);return new _e(function(p){c.length===0&&p([]);var g=c.length,b=new Array(g);c.forEach(function(S,E){return _e.resolve(S).then(function(C){return b[E]={status:"fulfilled",value:C}},function(C){return b[E]={status:"rejected",reason:C}}).then(function(){return--g||p(b)})})})}),Ti.any&&typeof AggregateError<"u"&&j(_e,"any",function(){var c=qe.apply(null,arguments).map(Or);return new _e(function(p,g){c.length===0&&g(new AggregateError([]));var b=c.length,S=new Array(b);c.forEach(function(E,C){return _e.resolve(E).then(function(R){return p(R)},function(R){S[C]=R,--b||g(new AggregateError(S))})})})}),Ti.withResolvers)&&(_e.withResolvers=Ti.withResolvers);var Ut={awaits:0,echoes:0,id:0},Do=0,Ar=[],xs=0,As=0,Ai=0;function _t(c,C,g,b){var S=Te,E=Object.create(S),C=(E.parent=S,E.ref=0,E.global=!1,E.id=++Ai,sn.env,E.env=Er?{Promise:_e,PromiseProp:{value:_e,configurable:!0,writable:!0},all:_e.all,race:_e.race,allSettled:_e.allSettled,any:_e.any,resolve:_e.resolve,reject:_e.reject}:{},C&&y(E,C),++S.ref,E.finalize=function(){--this.parent.ref||this.parent.finalize()},zn(E,c,g,b));return E.ref===0&&E.finalize(),C}function Bt(){return Ut.id||(Ut.id=++Do),++Ut.awaits,Ut.echoes+=pn,Ut.id}function En(){return!!Ut.awaits&&(--Ut.awaits==0&&(Ut.id=0),Ut.echoes=Ut.awaits*pn,!0)}function Or(c){return Ut.echoes&&c&&c.constructor===Ti?(Bt(),c.then(function(p){return En(),p},function(p){return En(),ht(p)})):c}function vf(){var c=Ar[Ar.length-1];Ar.pop(),Oi(c,!1)}function Oi(c,p){var g,b,S=Te;(p?!Ut.echoes||xs++&&c===Te:!xs||--xs&&c===Te)||queueMicrotask(p?(function(E){++As,Ut.echoes&&--Ut.echoes!=0||(Ut.echoes=Ut.awaits=Ut.id=0),Ar.push(Te),Oi(E,!0)}).bind(null,c):vf),c!==Te&&(Te=c,S===sn&&(sn.env=Mo()),Er)&&(g=sn.env.Promise,b=c.env,S.global||c.global)&&(Object.defineProperty(u,"Promise",b.PromiseProp),g.all=b.all,g.race=b.race,g.resolve=b.resolve,g.reject=b.reject,b.allSettled&&(g.allSettled=b.allSettled),b.any)&&(g.any=b.any)}function Mo(){var c=u.Promise;return Er?{Promise:c,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:c.all,race:c.race,allSettled:c.allSettled,any:c.any,resolve:c.resolve,reject:c.reject}:{}}function zn(c,p,g,b,S){var E=Te;try{return Oi(c,!0),p(g,b,S)}finally{Oi(E,!1)}}function da(c,p,g,b){return typeof c!="function"?c:function(){var S=Te;g&&Bt(),Oi(p,!0);try{return c.apply(this,arguments)}finally{Oi(S,!1),b&&queueMicrotask(En)}}}function Ci(c){Promise===Ti&&Ut.echoes===0?xs===0?c():enqueueNativeMicroTask(c):setTimeout(c,0)}(""+nr).indexOf("[native code]")===-1&&(Bt=En=rt);var ht=_e.reject,Vn="",yn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Lt="String expected.",$i=[],Os="__dbnames",fi="readonly",Ri="readwrite";function Yi(c,p){return c?p?function(){return c.apply(this,arguments)&&p.apply(this,arguments)}:c:p}var No={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Cs(c){return typeof c!="string"||/\./.test(c)?function(p){return p}:function(p){return p[c]===void 0&&c in p&&delete(p=Yt(p))[c],p}}function pu(){throw De.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Fe(c,p){try{var g=Rs(c),b=Rs(p);if(g!==b)return g==="Array"?1:b==="Array"?-1:g==="binary"?1:b==="binary"?-1:g==="string"?1:b==="string"?-1:g==="Date"?1:b!=="Date"?NaN:-1;switch(g){case"number":case"Date":case"string":return p<c?1:c<p?-1:0;case"binary":for(var S=Jn(c),E=Jn(p),C=S.length,R=E.length,N=C<R?C:R,G=0;G<N;++G)if(S[G]!==E[G])return S[G]<E[G]?-1:1;return C===R?0:C<R?-1:1;case"Array":for(var U=c,M=p,z=U.length,P=M.length,B=z<P?z:P,L=0;L<B;++L){var Y=Fe(U[L],M[L]);if(Y!==0)return Y}return z===P?0:z<P?-1:1}}catch{}return NaN}function Rs(c){var p=typeof c;return p=="object"&&(ArrayBuffer.isView(c)||(p=Wt(c))==="ArrayBuffer")?"binary":p}function Jn(c){return c instanceof Uint8Array?c:ArrayBuffer.isView(c)?new Uint8Array(c.buffer,c.byteOffset,c.byteLength):new Uint8Array(c)}function an(c,p,g){var b=c.schema.yProps;return b?(p&&0<g.numFailures&&(p=p.filter(function(S,E){return!g.failures[E]})),Promise.all(b.map(function(S){return S=S.updatesTable,p?c.db.table(S).where("k").anyOf(p).delete():c.db.table(S).clear()})).then(function(){return g})):g}mu.prototype.execute=function(c){var p=this["@@propmod"];if(p.add!==void 0){var g=p.add;if(m(g))return l(l([],m(c)?c:[],!0),g).sort();if(typeof g=="number")return(Number(c)||0)+g;if(typeof g=="bigint")try{return BigInt(c)+g}catch{return BigInt(0)+g}throw new TypeError("Invalid term ".concat(g))}if(p.remove!==void 0){var b=p.remove;if(m(b))return m(c)?c.filter(function(S){return!b.includes(S)}).sort():[];if(typeof b=="number")return Number(c)-b;if(typeof b=="bigint")try{return BigInt(c)-b}catch{return BigInt(0)-b}throw new TypeError("Invalid subtrahend ".concat(b))}return g=(g=p.replacePrefix)==null?void 0:g[0],g&&typeof c=="string"&&c.startsWith(g)?p.replacePrefix[1]+c.substring(g.length):c};var Cr=mu;function mu(c){this["@@propmod"]=c}function pa(c,p){for(var g=f(p),b=g.length,S=!1,E=0;E<b;++E){var C=g[E],R=p[C],N=ye(c,C);R instanceof Cr?(fe(c,C,R.execute(N)),S=!0):N!==R&&(fe(c,C,R),S=!0)}return S}ot.prototype._trans=function(c,p,g){var b=this._tx||Te.trans,S=this.name,E=kn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(c==="readonly"?"read":"write"," ").concat(this.name));function C(G,U,M){if(M.schema[S])return p(M.idbtrans,M);throw new De.NotFound("Table "+S+" not part of transaction")}var R=xi();try{var N=b&&b.db._novip===this.db._novip?b===Te.trans?b._promise(c,C,g):_t(function(){return b._promise(c,C,g)},{trans:b,transless:Te.transless||Te}):(function G(U,M,z,P){if(U.idbdb&&(U._state.openComplete||Te.letThrough||U._vip)){var B=U._createTransaction(M,z,U._dbSchema);try{B.create(),U._state.PR1398_maxLoop=3}catch(L){return L.name===Ft.InvalidState&&U.isOpen()&&0<--U._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),U.close({disableAutoOpen:!1}),U.open().then(function(){return G(U,M,z,P)})):ht(L)}return B._promise(M,function(L,Y){return _t(function(){return Te.trans=B,P(L,Y,B)})}).then(function(L){if(M==="readwrite")try{B.idbtrans.commit()}catch{}return M==="readonly"?L:B._completion.then(function(){return L})})}if(U._state.openComplete)return ht(new De.DatabaseClosed(U._state.dbOpenError));if(!U._state.isBeingOpened){if(!U._state.autoOpen)return ht(new De.DatabaseClosed);U.open().catch(rt)}return U._state.dbReadyPromise.then(function(){return G(U,M,z,P)})})(this.db,c,[this.name],C);return E&&(N._consoleTask=E,N=N.catch(function(G){return console.trace(G),ht(G)})),N}finally{R&&Xn()}},ot.prototype.get=function(c,p){var g=this;return c&&c.constructor===Object?this.where(c).first(p):c==null?ht(new De.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return g.core.get({trans:b,key:c}).then(function(S){return g.hook.reading.fire(S)})}).then(p)},ot.prototype.where=function(c){if(typeof c=="string")return new this.db.WhereClause(this,c);if(m(c))return new this.db.WhereClause(this,"[".concat(c.join("+"),"]"));var p=f(c);if(p.length===1)return this.where(p[0]).equals(c[p[0]]);var g=this.schema.indexes.concat(this.schema.primKey).filter(function(R){if(R.compound&&p.every(function(G){return 0<=R.keyPath.indexOf(G)})){for(var N=0;N<p.length;++N)if(p.indexOf(R.keyPath[N])===-1)return!1;return!0}return!1}).sort(function(R,N){return R.keyPath.length-N.keyPath.length})[0];if(g&&this.db._maxKey!==Vn)return C=g.keyPath.slice(0,p.length),this.where(C).equals(C.map(function(R){return c[R]}));!g&&kn&&console.warn("The query ".concat(JSON.stringify(c)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(p.join("+"),"]"));var b=this.schema.idxByName;function S(R,N){return Fe(R,N)===0}var C=p.reduce(function(U,N){var G=U[0],U=U[1],M=b[N],z=c[N];return[G||M,G||!M?Yi(U,M&&M.multi?function(P){return P=ye(P,N),m(P)&&P.some(function(B){return S(z,B)})}:function(P){return S(z,ye(P,N))}):U]},[null,null]),E=C[0],C=C[1];return E?this.where(E.name).equals(c[E.keyPath]).filter(C):g?this.filter(C):this.where(p).equals("")},ot.prototype.filter=function(c){return this.toCollection().and(c)},ot.prototype.count=function(c){return this.toCollection().count(c)},ot.prototype.offset=function(c){return this.toCollection().offset(c)},ot.prototype.limit=function(c){return this.toCollection().limit(c)},ot.prototype.each=function(c){return this.toCollection().each(c)},ot.prototype.toArray=function(c){return this.toCollection().toArray(c)},ot.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ot.prototype.orderBy=function(c){return new this.db.Collection(new this.db.WhereClause(this,m(c)?"[".concat(c.join("+"),"]"):c))},ot.prototype.reverse=function(){return this.toCollection().reverse()},ot.prototype.mapToClass=function(c){for(var p=this.db,g=this.name,b=((this.schema.mappedClass=c).prototype instanceof pu&&(c=(C=>{var R=U,N=C;if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function G(){this.constructor=R}function U(){return C!==null&&C.apply(this,arguments)||this}return r(R,N),R.prototype=N===null?Object.create(N):(G.prototype=N.prototype,new G),Object.defineProperty(U.prototype,"db",{get:function(){return p},enumerable:!1,configurable:!0}),U.prototype.table=function(){return g},U})(c)),new Set),S=c.prototype;S;S=v(S))Object.getOwnPropertyNames(S).forEach(function(C){return b.add(C)});function E(C){if(!C)return C;var R,N=Object.create(c.prototype);for(R in C)if(!b.has(R))try{N[R]=C[R]}catch{}return N}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=E,this.hook("reading",E),c},ot.prototype.defineClass=function(){return this.mapToClass(function(c){y(this,c)})},ot.prototype.add=function(c,p){var g=this,b=this.schema.primKey,S=b.auto,E=b.keyPath,C=c;return E&&S&&(C=Cs(E)(c)),this._trans("readwrite",function(R){return g.core.mutate({trans:R,type:"add",keys:p!=null?[p]:null,values:[C]})}).then(function(R){return R.numFailures?_e.reject(R.failures[0]):R.lastResult}).then(function(R){if(E)try{fe(c,E,R)}catch{}return R})},ot.prototype.upsert=function(c,p){var g=this,b=this.schema.primKey.keyPath;return this._trans("readwrite",function(S){return g.core.get({trans:S,key:c}).then(function(E){var C=E??{};return pa(C,p),b&&fe(C,b,c),g.core.mutate({trans:S,type:"put",values:[C],keys:[c],upsert:!0,updates:{keys:[c],changeSpecs:[p]}}).then(function(R){return R.numFailures?_e.reject(R.failures[0]):!!E})})})},ot.prototype.update=function(c,p){return typeof c!="object"||m(c)?this.where(":id").equals(c).modify(p):(c=ye(c,this.schema.primKey.keyPath))===void 0?ht(new De.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(c).modify(p)},ot.prototype.put=function(c,p){var g=this,b=this.schema.primKey,S=b.auto,E=b.keyPath,C=c;return E&&S&&(C=Cs(E)(c)),this._trans("readwrite",function(R){return g.core.mutate({trans:R,type:"put",values:[C],keys:p!=null?[p]:null})}).then(function(R){return R.numFailures?_e.reject(R.failures[0]):R.lastResult}).then(function(R){if(E)try{fe(c,E,R)}catch{}return R})},ot.prototype.delete=function(c){var p=this;return this._trans("readwrite",function(g){return p.core.mutate({trans:g,type:"delete",keys:[c]}).then(function(b){return an(p,[c],b)}).then(function(b){return b.numFailures?_e.reject(b.failures[0]):void 0})})},ot.prototype.clear=function(){var c=this;return this._trans("readwrite",function(p){return c.core.mutate({trans:p,type:"deleteRange",range:No}).then(function(g){return an(c,null,g)})}).then(function(p){return p.numFailures?_e.reject(p.failures[0]):void 0})},ot.prototype.bulkGet=function(c){var p=this;return this._trans("readonly",function(g){return p.core.getMany({keys:c,trans:g}).then(function(b){return b.map(function(S){return p.hook.reading.fire(S)})})})},ot.prototype.bulkAdd=function(c,p,g){var b=this,S=Array.isArray(p)?p:void 0,E=(g=g||(S?void 0:p))?g.allKeys:void 0;return this._trans("readwrite",function(C){var R=b.schema.primKey,G=R.auto,R=R.keyPath;if(R&&S)throw new De.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(S&&S.length!==c.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");var N=c.length,G=R&&G?c.map(Cs(R)):c;return b.core.mutate({trans:C,type:"add",keys:S,values:G,wantResults:E}).then(function(U){var M=U.numFailures,z=U.failures;if(M===0)return E?U.results:U.lastResult;throw new Je("".concat(b.name,".bulkAdd(): ").concat(M," of ").concat(N," operations failed"),z)})})},ot.prototype.bulkPut=function(c,p,g){var b=this,S=Array.isArray(p)?p:void 0,E=(g=g||(S?void 0:p))?g.allKeys:void 0;return this._trans("readwrite",function(C){var R=b.schema.primKey,G=R.auto,R=R.keyPath;if(R&&S)throw new De.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(S&&S.length!==c.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");var N=c.length,G=R&&G?c.map(Cs(R)):c;return b.core.mutate({trans:C,type:"put",keys:S,values:G,wantResults:E}).then(function(U){var M=U.numFailures,z=U.failures;if(M===0)return E?U.results:U.lastResult;throw new Je("".concat(b.name,".bulkPut(): ").concat(M," of ").concat(N," operations failed"),z)})})},ot.prototype.bulkUpdate=function(c){var p=this,g=this.core,b=c.map(function(C){return C.key}),S=c.map(function(C){return C.changes}),E=[];return this._trans("readwrite",function(C){return g.getMany({trans:C,keys:b,cache:"clone"}).then(function(R){var N=[],G=[],U=(c.forEach(function(M,z){var P=M.key,B=M.changes,L=R[z];if(L){for(var Y=0,W=Object.keys(B);Y<W.length;Y++){var $=W[Y],se=B[$];if($===p.schema.primKey.keyPath){if(Fe(se,P)!==0)throw new De.Constraint("Cannot update primary key in bulkUpdate()")}else fe(L,$,se)}E.push(z),N.push(P),G.push(L)}}),N.length);return g.mutate({trans:C,type:"put",keys:N,values:G,updates:{keys:b,changeSpecs:S}}).then(function(M){var z=M.numFailures,P=M.failures;if(z===0)return U;for(var B=0,L=Object.keys(P);B<L.length;B++){var Y,W=L[B],$=E[Number(W)];$!=null&&(Y=P[W],delete P[W],P[$]=Y)}throw new Je("".concat(p.name,".bulkUpdate(): ").concat(z," of ").concat(U," operations failed"),P)})})})},ot.prototype.bulkDelete=function(c){var p=this,g=c.length;return this._trans("readwrite",function(b){return p.core.mutate({trans:b,type:"delete",keys:c}).then(function(S){return an(p,c,S)})}).then(function(b){var S=b.numFailures,E=b.failures;if(S===0)return b.lastResult;throw new Je("".concat(p.name,".bulkDelete(): ").concat(S," of ").concat(g," operations failed"),E)})};var Uo=ot;function ot(){}function js(c){function p(C,R){if(R){for(var N=arguments.length,G=new Array(N-1);--N;)G[N-1]=arguments[N];return g[C].subscribe.apply(null,G),c}if(typeof C=="string")return g[C]}var g={};p.addEventType=E;for(var b=1,S=arguments.length;b<S;++b)E(arguments[b]);return p;function E(C,R,N){var G,U;if(typeof C!="object")return R=R||jo,U={subscribers:[],fire:N=N||rt,subscribe:function(M){U.subscribers.indexOf(M)===-1&&(U.subscribers.push(M),U.fire=R(U.fire,M))},unsubscribe:function(M){U.subscribers=U.subscribers.filter(function(z){return z!==M}),U.fire=U.subscribers.reduce(R,N)}},g[C]=p[C]=U;f(G=C).forEach(function(M){var z=G[M];if(m(z))E(M,G[M][0],G[M][1]);else{if(z!=="asap")throw new De.InvalidArgument("Invalid event config");var P=E(M,Tr,function(){for(var B=arguments.length,L=new Array(B);B--;)L[B]=arguments[B];P.subscribers.forEach(function(Y){ne(function(){Y.apply(null,L)})})})}})}}function Zt(c,p){return D(p).from({prototype:c}),p}function ji(c,p){return!(c.filter||c.algorithm||c.or)&&(p?c.justLimit:!c.replayFilter)}function ma(c,p){c.filter=Yi(c.filter,p)}function ks(c,p,g){var b=c.replayFilter;c.replayFilter=b?function(){return Yi(b(),p())}:p,c.justLimit=g&&!b}function hi(c,p){if(c.isPrimKey)return p.primaryKey;var g=p.getIndexByKeyPath(c.index);if(g)return g;throw new De.Schema("KeyPath "+c.index+" on object store "+p.name+" is not indexed")}function Bo(c,p,g){var b=hi(c,p.schema);return p.openCursor({trans:g,values:!c.keysOnly,reverse:c.dir==="prev",unique:!!c.unique,query:{index:b,range:c.range}})}function Ds(c,p,g,b){var S,E,C=c.replayFilter?Yi(c.filter,c.replayFilter()):c.filter;return c.or?(S={},E=function(R,N,G){var U,M;C&&!C(N,G,function(z){return N.stop(z)},function(z){return N.fail(z)})||((M=""+(U=N.primaryKey))=="[object ArrayBuffer]"&&(M=""+new Uint8Array(U)),T(S,M))||(S[M]=!0,p(R,N,G))},Promise.all([c.or._iterate(E,g),Fi(Bo(c,b,g),c.algorithm,E,!c.keysOnly&&c.valueMapper)])):Fi(Bo(c,b,g),Yi(c.algorithm,C),p,!c.keysOnly&&c.valueMapper)}function Fi(c,p,g,b){var S=gt(b?function(E,C,R){return g(b(E),C,R)}:g);return c.then(function(E){if(E)return E.start(function(){var C=function(){return E.continue()};p&&!p(E,function(R){return C=R},function(R){E.stop(R),C=rt},function(R){E.fail(R),C=rt})||S(E.value,E,function(R){return C=R}),C()})})}tt.prototype._read=function(c,p){var g=this._ctx;return g.error?g.table._trans(null,ht.bind(null,g.error)):g.table._trans("readonly",c).then(p)},tt.prototype._write=function(c){var p=this._ctx;return p.error?p.table._trans(null,ht.bind(null,p.error)):p.table._trans("readwrite",c,"locked")},tt.prototype._addAlgorithm=function(c){var p=this._ctx;p.algorithm=Yi(p.algorithm,c)},tt.prototype._iterate=function(c,p){return Ds(this._ctx,c,p,this._ctx.table.core)},tt.prototype.clone=function(c){var p=Object.create(this.constructor.prototype),g=Object.create(this._ctx);return c&&y(g,c),p._ctx=g,p},tt.prototype.raw=function(){return this._ctx.valueMapper=null,this},tt.prototype.each=function(c){var p=this._ctx;return this._read(function(g){return Ds(p,c,g,p.table.core)})},tt.prototype.count=function(c){var p=this;return this._read(function(g){var b,S=p._ctx,E=S.table.core;return ji(S,!0)?E.count({trans:g,query:{index:hi(S,E.schema),range:S.range}}).then(function(C){return Math.min(C,S.limit)}):(b=0,Ds(S,function(){return++b,!1},g,E).then(function(){return b}))}).then(c)},tt.prototype.sortBy=function(c,p){var g=c.split(".").reverse(),b=g[0],S=g.length-1;function E(N,G){return G?E(N[g[G]],G-1):N[b]}var C=this._ctx.dir==="next"?1:-1;function R(N,G){return Fe(E(N,S),E(G,S))*C}return this.toArray(function(N){return N.sort(R)}).then(p)},tt.prototype.toArray=function(c){var p=this;return this._read(function(g){var b,S,E,C=p._ctx;return C.dir==="next"&&ji(C,!0)&&0<C.limit?(b=C.valueMapper,S=hi(C,C.table.core.schema),C.table.core.query({trans:g,limit:C.limit,values:!0,query:{index:S,range:C.range}}).then(function(R){return R=R.result,b?R.map(b):R})):(E=[],Ds(C,function(R){return E.push(R)},g,C.table.core).then(function(){return E}))},c)},tt.prototype.offset=function(c){var p=this._ctx;return c<=0||(p.offset+=c,ji(p)?ks(p,function(){var g=c;return function(b,S){return g===0||(g===1?--g:S(function(){b.advance(g),g=0}),!1)}}):ks(p,function(){var g=c;return function(){return--g<0}})),this},tt.prototype.limit=function(c){return this._ctx.limit=Math.min(this._ctx.limit,c),ks(this._ctx,function(){var p=c;return function(g,b,S){return--p<=0&&b(S),0<=p}},!0),this},tt.prototype.until=function(c,p){return ma(this._ctx,function(g,b,S){return!c(g.value)||(b(S),p)}),this},tt.prototype.first=function(c){return this.limit(1).toArray(function(p){return p[0]}).then(c)},tt.prototype.last=function(c){return this.reverse().first(c)},tt.prototype.filter=function(c){var p;return ma(this._ctx,function(g){return c(g.value)}),(p=this._ctx).isMatch=Yi(p.isMatch,c),this},tt.prototype.and=function(c){return this.filter(c)},tt.prototype.or=function(c){return new this.db.WhereClause(this._ctx.table,c,this)},tt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},tt.prototype.desc=function(){return this.reverse()},tt.prototype.eachKey=function(c){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(g,b){c(b.key,b)})},tt.prototype.eachUniqueKey=function(c){return this._ctx.unique="unique",this.eachKey(c)},tt.prototype.eachPrimaryKey=function(c){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(g,b){c(b.primaryKey,b)})},tt.prototype.keys=function(c){var p=this._ctx,g=(p.keysOnly=!p.isMatch,[]);return this.each(function(b,S){g.push(S.key)}).then(function(){return g}).then(c)},tt.prototype.primaryKeys=function(c){var p=this._ctx;if(p.dir==="next"&&ji(p,!0)&&0<p.limit)return this._read(function(b){var S=hi(p,p.table.core.schema);return p.table.core.query({trans:b,values:!1,limit:p.limit,query:{index:S,range:p.range}})}).then(function(b){return b.result}).then(c);p.keysOnly=!p.isMatch;var g=[];return this.each(function(b,S){g.push(S.primaryKey)}).then(function(){return g}).then(c)},tt.prototype.uniqueKeys=function(c){return this._ctx.unique="unique",this.keys(c)},tt.prototype.firstKey=function(c){return this.limit(1).keys(function(p){return p[0]}).then(c)},tt.prototype.lastKey=function(c){return this.reverse().firstKey(c)},tt.prototype.distinct=function(){var c,p=this._ctx,p=p.index&&p.table.schema.idxByName[p.index];return p&&p.multi&&(c={},ma(this._ctx,function(b){var b=b.primaryKey.toString(),S=T(c,b);return c[b]=!0,!S})),this},tt.prototype.modify=function(c){var p=this,g=this._ctx;return this._write(function(b){function S(L,Y){var W=Y.failures;z+=L-Y.numFailures;for(var $=0,se=f(W);$<se.length;$++){var he=se[$];M.push(W[he])}}var E=typeof c=="function"?c:function(L){return pa(L,c)},C=g.table.core,U=C.schema.primaryKey,R=U.outbound,N=U.extractKey,G=200,U=p.db._options.modifyChunkSize,M=(U&&(G=typeof U=="object"?U[C.name]||U["*"]||200:U),[]),z=0,P=[],B=c===Lo;return p.clone().primaryKeys().then(function(L){function Y($){var se=Math.min(G,L.length-$),he=L.slice($,$+se);return(B?Promise.resolve([]):C.getMany({trans:b,keys:he,cache:"immutable"})).then(function(ve){var be=[],de=[],Ee=R?[]:null,we=B?he:[];if(!B)for(var pe=0;pe<se;++pe){var xe=ve[pe],Ve={value:Yt(xe),primKey:L[$+pe]};E.call(Ve,Ve.value,Ve)!==!1&&(Ve.value==null?we.push(L[$+pe]):R||Fe(N(xe),N(Ve.value))===0?(de.push(Ve.value),R&&Ee.push(L[$+pe])):(we.push(L[$+pe]),be.push(Ve.value)))}return Promise.resolve(0<be.length&&C.mutate({trans:b,type:"add",values:be}).then(function(Xe){for(var Ne in Xe.failures)we.splice(parseInt(Ne),1);S(be.length,Xe)})).then(function(){return(0<de.length||W&&typeof c=="object")&&C.mutate({trans:b,type:"put",keys:Ee,values:de,criteria:W,changeSpec:typeof c!="function"&&c,isAdditionalChunk:0<$}).then(function(Xe){return S(de.length,Xe)})}).then(function(){return(0<we.length||W&&B)&&C.mutate({trans:b,type:"delete",keys:we,criteria:W,isAdditionalChunk:0<$}).then(function(Xe){return an(g.table,we,Xe)}).then(function(Xe){return S(we.length,Xe)})}).then(function(){return L.length>$+se&&Y($+G)})})}var W=ji(g)&&g.limit===1/0&&(typeof c!="function"||B)&&{index:g.index,range:g.range};return Y(0).then(function(){if(0<M.length)throw new Ge("Error modifying one or more objects",M,z,P);return L.length})})})},tt.prototype.delete=function(){var c=this._ctx,p=c.range;return!ji(c)||c.table.schema.yProps||!c.isPrimKey&&p.type!==3?this.modify(Lo):this._write(function(g){var b=c.table.core.schema.primaryKey,S=p;return c.table.core.count({trans:g,query:{index:b,range:S}}).then(function(E){return c.table.core.mutate({trans:g,type:"deleteRange",range:S}).then(function(N){var R=N.failures,N=N.numFailures;if(N)throw new Ge("Could not delete some values",Object.keys(R).map(function(G){return R[G]}),E-N);return E-N})})})};var bf=tt;function tt(){}var Lo=function(c,p){return p.value=null};function zo(c,p){return c<p?-1:c===p?0:1}function _f(c,p){return p<c?-1:c===p?0:1}function xn(c,p,g){return c=c instanceof Xi?new c.Collection(c):c,c._ctx.error=new(g||TypeError)(p),c}function di(c){return new c.Collection(c,function(){return ya("")}).limit(0)}function Dn(P,p,g,b){var S,E,C,R,N,G,U,M=g.length;if(!g.every(function(L){return typeof L=="string"}))return xn(P,Lt);function z(L){S=L==="next"?function(W){return W.toUpperCase()}:function(W){return W.toLowerCase()},E=L==="next"?function(W){return W.toLowerCase()}:function(W){return W.toUpperCase()},C=L==="next"?zo:_f;var Y=g.map(function(W){return{lower:E(W),upper:S(W)}}).sort(function(W,$){return C(W.lower,$.lower)});R=Y.map(function(W){return W.upper}),N=Y.map(function(W){return W.lower}),U=(G=L)==="next"?"":b}z("next");var P=new P.Collection(P,function(){return Qn(R[0],N[M-1]+b)}),B=(P._ondirectionchange=function(L){z(L)},0);return P._addAlgorithm(function(L,Y,W){var $=L.key;if(typeof $=="string"){var se=E($);if(p(se,N,B))return!0;for(var he=null,ve=B;ve<M;++ve){var be=((de,Ee,we,pe,xe,Ve)=>{for(var Xe=Math.min(de.length,pe.length),Ne=-1,Ie=0;Ie<Xe;++Ie){var dt=Ee[Ie];if(dt!==pe[Ie])return xe(de[Ie],we[Ie])<0?de.substr(0,Ie)+we[Ie]+we.substr(Ie+1):xe(de[Ie],pe[Ie])<0?de.substr(0,Ie)+pe[Ie]+we.substr(Ie+1):0<=Ne?de.substr(0,Ne)+Ee[Ne]+we.substr(Ne+1):null;xe(de[Ie],dt)<0&&(Ne=Ie)}return Xe<pe.length&&Ve==="next"?de+we.substr(de.length):Xe<de.length&&Ve==="prev"?de.substr(0,we.length):Ne<0?null:de.substr(0,Ne)+pe[Ne]+we.substr(Ne+1)})($,se,R[ve],N[ve],C,G);be===null&&he===null?B=ve+1:(he===null||0<C(he,be))&&(he=be)}Y(he!==null?function(){L.continue(he+U)}:W)}return!1}),P}function Qn(c,p,g,b){return{type:2,lower:c,upper:p,lowerOpen:g,upperOpen:b}}function ya(c){return{type:1,lower:c,upper:c}}Object.defineProperty(Tt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Tt.prototype.between=function(c,p,g,b){g=g!==!1,b=b===!0;try{return 0<this._cmp(c,p)||this._cmp(c,p)===0&&(g||b)&&(!g||!b)?di(this):new this.Collection(this,function(){return Qn(c,p,!g,!b)})}catch{return xn(this,yn)}},Tt.prototype.equals=function(c){return c==null?xn(this,yn):new this.Collection(this,function(){return ya(c)})},Tt.prototype.above=function(c){return c==null?xn(this,yn):new this.Collection(this,function(){return Qn(c,void 0,!0)})},Tt.prototype.aboveOrEqual=function(c){return c==null?xn(this,yn):new this.Collection(this,function(){return Qn(c,void 0,!1)})},Tt.prototype.below=function(c){return c==null?xn(this,yn):new this.Collection(this,function(){return Qn(void 0,c,!1,!0)})},Tt.prototype.belowOrEqual=function(c){return c==null?xn(this,yn):new this.Collection(this,function(){return Qn(void 0,c)})},Tt.prototype.startsWith=function(c){return typeof c!="string"?xn(this,Lt):this.between(c,c+Vn,!0,!0)},Tt.prototype.startsWithIgnoreCase=function(c){return c===""?this.startsWith(c):Dn(this,function(p,g){return p.indexOf(g[0])===0},[c],Vn)},Tt.prototype.equalsIgnoreCase=function(c){return Dn(this,function(p,g){return p===g[0]},[c],"")},Tt.prototype.anyOfIgnoreCase=function(){var c=qe.apply(He,arguments);return c.length===0?di(this):Dn(this,function(p,g){return g.indexOf(p)!==-1},c,"")},Tt.prototype.startsWithAnyOfIgnoreCase=function(){var c=qe.apply(He,arguments);return c.length===0?di(this):Dn(this,function(p,g){return g.some(function(b){return p.indexOf(b)===0})},c,Vn)},Tt.prototype.anyOf=function(){var c,p,g=this,b=qe.apply(He,arguments),S=this._cmp;try{b.sort(S)}catch{return xn(this,yn)}return b.length===0?di(this):((c=new this.Collection(this,function(){return Qn(b[0],b[b.length-1])}))._ondirectionchange=function(E){S=E==="next"?g._ascending:g._descending,b.sort(S)},p=0,c._addAlgorithm(function(E,C,R){for(var N=E.key;0<S(N,b[p]);)if(++p===b.length)return C(R),!1;return S(N,b[p])===0||(C(function(){E.continue(b[p])}),!1)}),c)},Tt.prototype.notEqual=function(c){return this.inAnyRange([[-1/0,c],[c,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Tt.prototype.noneOf=function(){var c=qe.apply(He,arguments);if(c.length===0)return new this.Collection(this);try{c.sort(this._ascending)}catch{return xn(this,yn)}var p=c.reduce(function(g,b){return g?g.concat([[g[g.length-1][1],b]]):[[-1/0,b]]},null);return p.push([c[c.length-1],this.db._maxKey]),this.inAnyRange(p,{includeLowers:!1,includeUppers:!1})},Tt.prototype.inAnyRange=function(c,W){var g=this,b=this._cmp,S=this._ascending,E=this._descending,C=this._min,R=this._max;if(c.length===0)return di(this);if(!c.every(function($){return $[0]!==void 0&&$[1]!==void 0&&S($[0],$[1])<=0}))return xn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",De.InvalidArgument);var N=!W||W.includeLowers!==!1,G=W&&W.includeUppers===!0,U,M=S;function z($,se){return M($[0],se[0])}try{(U=c.reduce(function($,se){for(var he=0,ve=$.length;he<ve;++he){var be=$[he];if(b(se[0],be[1])<0&&0<b(se[1],be[0])){be[0]=C(be[0],se[0]),be[1]=R(be[1],se[1]);break}}return he===ve&&$.push(se),$},[])).sort(z)}catch{return xn(this,yn)}var P=0,B=G?function($){return 0<S($,U[P][1])}:function($){return 0<=S($,U[P][1])},L=N?function($){return 0<E($,U[P][0])}:function($){return 0<=E($,U[P][0])},Y=B,W=new this.Collection(this,function(){return Qn(U[0][0],U[U.length-1][1],!N,!G)});return W._ondirectionchange=function($){M=$==="next"?(Y=B,S):(Y=L,E),U.sort(z)},W._addAlgorithm(function($,se,he){for(var ve,be=$.key;Y(be);)if(++P===U.length)return se(he),!1;return!B(ve=be)&&!L(ve)||(g._cmp(be,U[P][1])===0||g._cmp(be,U[P][0])===0||se(function(){M===S?$.continue(U[P][0]):$.continue(U[P][1])}),!1)}),W},Tt.prototype.startsWithAnyOf=function(){var c=qe.apply(He,arguments);return c.every(function(p){return typeof p=="string"})?c.length===0?di(this):this.inAnyRange(c.map(function(p){return[p,p+Vn]})):xn(this,"startsWithAnyOf() only works with strings")};var Xi=Tt;function Tt(){}function Pn(c){return gt(function(p){return Ji(p),c(p.target.error),!1})}function Ji(c){c.stopPropagation&&c.stopPropagation(),c.preventDefault&&c.preventDefault()}var Rr="storagemutated",Qi="x-storagemutated-1",en=js(null,Rr),Vo=(gn.prototype._lock=function(){return ce(!Te.global),++this._reculock,this._reculock!==1||Te.global||(Te.lockOwnerFor=this),this},gn.prototype._unlock=function(){if(ce(!Te.global),--this._reculock==0)for(Te.global||(Te.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var c=this._blockedFuncs.shift();try{zn(c[1],c[0])}catch{}}return this},gn.prototype._locked=function(){return this._reculock&&Te.lockOwnerFor!==this},gn.prototype.create=function(c){var p=this;if(this.mode){var g=this.db.idbdb,b=this.db._state.dbOpenError;if(ce(!this.idbtrans),!c&&!g)switch(b&&b.name){case"DatabaseClosedError":throw new De.DatabaseClosed(b);case"MissingAPIError":throw new De.MissingAPI(b.message,b);default:throw new De.OpenFailed(b)}if(!this.active)throw new De.TransactionInactive;ce(this._completion._state===null),(c=this.idbtrans=c||(this.db.core||g).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=gt(function(S){Ji(S),p._reject(c.error)}),c.onabort=gt(function(S){Ji(S),p.active&&p._reject(new De.Abort(c.error)),p.active=!1,p.on("abort").fire(S)}),c.oncomplete=gt(function(){p.active=!1,p._resolve(),"mutatedParts"in c&&en.storagemutated.fire(c.mutatedParts)})}return this},gn.prototype._promise=function(c,p,g){var b,S=this;return c==="readwrite"&&this.mode!=="readwrite"?ht(new De.ReadOnly("Transaction is readonly")):this.active?this._locked()?new _e(function(E,C){S._blockedFuncs.push([function(){S._promise(c,p,g).then(E,C)},Te])}):g?_t(function(){var E=new _e(function(C,R){S._lock();var N=p(C,R,S);N&&N.then&&N.then(C,R)});return E.finally(function(){return S._unlock()}),E._lib=!0,E}):((b=new _e(function(E,C){var R=p(E,C,S);R&&R.then&&R.then(E,C)}))._lib=!0,b):ht(new De.TransactionInactive)},gn.prototype._root=function(){return this.parent?this.parent._root():this},gn.prototype.waitFor=function(c){var p,g=this._root(),b=_e.resolve(c),S=(g._waitingFor?g._waitingFor=g._waitingFor.then(function(){return b}):(g._waitingFor=b,g._waitingQueue=[],p=g.idbtrans.objectStore(g.storeNames[0]),(function E(){for(++g._spinCount;g._waitingQueue.length;)g._waitingQueue.shift()();g._waitingFor&&(p.get(-1/0).onsuccess=E)})()),g._waitingFor);return new _e(function(E,C){b.then(function(R){return g._waitingQueue.push(gt(E.bind(null,R)))},function(R){return g._waitingQueue.push(gt(C.bind(null,R)))}).finally(function(){g._waitingFor===S&&(g._waitingFor=null)})})},gn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new De.Abort))},gn.prototype.table=function(c){var p=this._memoizedTables||(this._memoizedTables={});if(T(p,c))return p[c];var g=this.schema[c];if(g)return(g=new this.db.Table(c,g,this)).core=this.db.core.table(c),p[c]=g;throw new De.NotFound("Table "+c+" not part of transaction")},gn);function gn(){}function Wn(c,p,g,b,S,E,C,R){return{name:c,keyPath:p,unique:g,multi:b,auto:S,compound:E,src:(g&&!C?"&":"")+(b?"*":"")+(S?"++":"")+ga(p),type:R}}function ga(c){return typeof c=="string"?c:c?"["+[].join.call(c,"+")+"]":""}function jr(c,p,g){return{name:c,primKey:p,indexes:g,mappedClass:null,idxByName:(b=function(S){return[S.name,S]},g.reduce(function(S,E,C){return E=b(E,C),E&&(S[E[0]]=E[1]),S},{}))};var b}var kr=function(c){try{return c.only([[]]),kr=function(){return[[]]},[[]]}catch{return kr=function(){return Vn},Vn}};function Dr(c){return c==null?function(){}:typeof c=="string"?(p=c).split(".").length===1?function(g){return g[p]}:function(g){return ye(g,p)}:function(g){return ye(g,c)};var p}function Ms(c){return[].slice.call(c)}var yu=0;function Pt(c){return c==null?":id":typeof c=="string"?c:"[".concat(c.join("+"),"]")}function Wi(c,p,N){function b(B){if(B.type===3)return null;if(B.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var M=B.lower,z=B.upper,P=B.lowerOpen,B=B.upperOpen;return M===void 0?z===void 0?null:p.upperBound(z,!!B):z===void 0?p.lowerBound(M,!!P):p.bound(M,z,!!P,!!B)}function S(U){var M,z=U.name;return{name:z,schema:U,mutate:function(P){var B=P.trans,L=P.type,Y=P.keys,W=P.values,$=P.range;return new Promise(function(se,he){se=gt(se);var ve=B.objectStore(z),be=ve.keyPath==null,de=L==="put"||L==="add";if(!de&&L!=="delete"&&L!=="deleteRange")throw new Error("Invalid operation type: "+L);var Ee,we=(Y||W||{length:1}).length;if(Y&&W&&Y.length!==W.length)throw new Error("Given keys array must have same length as given values array.");if(we===0)return se({numFailures:0,failures:{},results:[],lastResult:void 0});function pe(ut){++Xe,Ji(ut)}var xe=[],Ve=[],Xe=0;if(L==="deleteRange"){if($.type===4)return se({numFailures:Xe,failures:Ve,results:[],lastResult:void 0});$.type===3?xe.push(Ee=ve.clear()):xe.push(Ee=ve.delete(b($)))}else{var be=de?be?[W,Y]:[W,null]:[Y,null],Ne=be[0],Ie=be[1];if(de)for(var dt=0;dt<we;++dt)xe.push(Ee=Ie&&Ie[dt]!==void 0?ve[L](Ne[dt],Ie[dt]):ve[L](Ne[dt])),Ee.onerror=pe;else for(dt=0;dt<we;++dt)xe.push(Ee=ve[L](Ne[dt])),Ee.onerror=pe}function bn(ut){ut=ut.target.result,xe.forEach(function(Ni,zr){return Ni.error!=null&&(Ve[zr]=Ni.error)}),se({numFailures:Xe,failures:Ve,results:L==="delete"?Y:xe.map(function(Ni){return Ni.result}),lastResult:ut})}Ee.onerror=function(ut){pe(ut),bn(ut)},Ee.onsuccess=bn})},getMany:function(P){var B=P.trans,L=P.keys;return new Promise(function(Y,W){Y=gt(Y);for(var $,se=B.objectStore(z),he=L.length,ve=new Array(he),be=0,de=0,Ee=function(xe){xe=xe.target,ve[xe._pos]=xe.result,++de===be&&Y(ve)},we=Pn(W),pe=0;pe<he;++pe)L[pe]!=null&&(($=se.get(L[pe]))._pos=pe,$.onsuccess=Ee,$.onerror=we,++be);be===0&&Y(ve)})},get:function(P){var B=P.trans,L=P.key;return new Promise(function(Y,W){Y=gt(Y);var $=B.objectStore(z).get(L);$.onsuccess=function(se){return Y(se.target.result)},$.onerror=Pn(W)})},query:(M=R,function(P){return new Promise(function(B,L){B=gt(B);var Y,W,$,de=P.trans,se=P.values,he=P.limit,be=P.query,ve=he===1/0?void 0:he,Ee=be.index,be=be.range,de=de.objectStore(z),de=Ee.isPrimaryKey?de:de.index(Ee.name),Ee=b(be);if(he===0)return B({result:[]});M?((be=se?de.getAll(Ee,ve):de.getAllKeys(Ee,ve)).onsuccess=function(we){return B({result:we.target.result})},be.onerror=Pn(L)):(Y=0,W=!se&&"openKeyCursor"in de?de.openKeyCursor(Ee):de.openCursor(Ee),$=[],W.onsuccess=function(we){var pe=W.result;return!pe||($.push(se?pe.value:pe.primaryKey),++Y===he)?B({result:$}):void pe.continue()},W.onerror=Pn(L))})}),openCursor:function(P){var B=P.trans,L=P.values,Y=P.query,W=P.reverse,$=P.unique;return new Promise(function(se,he){se=gt(se);var de=Y.index,ve=Y.range,be=B.objectStore(z),be=de.isPrimaryKey?be:be.index(de.name),de=W?$?"prevunique":"prev":$?"nextunique":"next",Ee=!L&&"openKeyCursor"in be?be.openKeyCursor(b(ve),de):be.openCursor(b(ve),de);Ee.onerror=Pn(he),Ee.onsuccess=gt(function(we){var pe,xe,Ve,Xe,Ne=Ee.result;Ne?(Ne.___id=++yu,Ne.done=!1,pe=Ne.continue.bind(Ne),xe=(xe=Ne.continuePrimaryKey)&&xe.bind(Ne),Ve=Ne.advance.bind(Ne),Xe=function(){throw new Error("Cursor not stopped")},Ne.trans=B,Ne.stop=Ne.continue=Ne.continuePrimaryKey=Ne.advance=function(){throw new Error("Cursor not started")},Ne.fail=gt(he),Ne.next=function(){var Ie=this,dt=1;return this.start(function(){return dt--?Ie.continue():Ie.stop()}).then(function(){return Ie})},Ne.start=function(Ie){function dt(){if(Ee.result)try{Ie()}catch(ut){Ne.fail(ut)}else Ne.done=!0,Ne.start=function(){throw new Error("Cursor behind last entry")},Ne.stop()}var bn=new Promise(function(ut,Ni){ut=gt(ut),Ee.onerror=Pn(Ni),Ne.fail=Ni,Ne.stop=function(zr){Ne.stop=Ne.continue=Ne.continuePrimaryKey=Ne.advance=Xe,ut(zr)}});return Ee.onsuccess=gt(function(ut){Ee.onsuccess=dt,dt()}),Ne.continue=pe,Ne.continuePrimaryKey=xe,Ne.advance=Ve,dt(),bn},se(Ne)):se(null)},he)})},count:function(P){var B=P.query,L=P.trans,Y=B.index,W=B.range;return new Promise(function($,se){var he=L.objectStore(z),he=Y.isPrimaryKey?he:he.index(Y.name),ve=b(W),ve=ve?he.count(ve):he.count();ve.onsuccess=gt(function(be){return $(be.target.result)}),ve.onerror=Pn(se)})}}}E=N,C=Ms((N=c).objectStoreNames);var E,N={schema:{name:N.name,tables:C.map(function(U){return E.objectStore(U)}).map(function(U){var M=U.keyPath,z=U.autoIncrement,B=m(M),P={},B={name:U.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:M==null,compound:B,keyPath:M,autoIncrement:z,unique:!0,extractKey:Dr(M)},indexes:Ms(U.indexNames).map(function(L){return U.index(L)}).map(function($){var se=$.name,Y=$.unique,W=$.multiEntry,$=$.keyPath,se={name:se,compound:m($),keyPath:$,unique:Y,multiEntry:W,extractKey:Dr($)};return P[Pt($)]=se}),getIndexByKeyPath:function(L){return P[Pt(L)]}};return P[":id"]=B.primaryKey,M!=null&&(P[Pt(M)]=B.primaryKey),B})},hasGetAll:0<C.length&&"getAll"in E.objectStore(C[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},C=N.schema,R=N.hasGetAll,N=C.tables.map(S),G={};return N.forEach(function(U){return G[U.name]=U}),{stack:"dbcore",transaction:c.transaction.bind(c),table:function(U){if(G[U])return G[U];throw new Error("Table '".concat(U,"' not found"))},MIN_KEY:-1/0,MAX_KEY:kr(p),schema:C}}function va(c,p,g,b){return g=g.IDBKeyRange,p=Wi(p,g,b),{dbcore:c.dbcore.reduce(function(S,E){return E=E.create,a(a({},S),E(S))},p)}}function ki(c,p){var g=p.db,g=va(c._middlewares,g,c._deps,p);c.core=g.dbcore,c.tables.forEach(function(b){var S=b.name;c.core.schema.tables.some(function(E){return E.name===S})&&(b.core=c.core.table(S),c[S]instanceof c.Table)&&(c[S].core=b.core)})}function ba(c,p,g,b){g.forEach(function(S){var E=b[S];p.forEach(function(C){var R=(function N(G,U){return H(G,U)||(G=v(G))&&N(G,U)})(C,S);(!R||"value"in R&&R.value===void 0)&&(C===c.Transaction.prototype||C instanceof c.Transaction?j(C,S,{get:function(){return this.table(S)},set:function(N){O(this,S,{value:N,writable:!0,configurable:!0,enumerable:!0})}}):C[S]=new c.Table(S,E))})})}function Ns(c,p){p.forEach(function(g){for(var b in g)g[b]instanceof c.Table&&delete g[b]})}function Po(c,p){return c._cfg.version-p._cfg.version}function Us(c,p,g,b){var S=c._dbSchema,E=(g.objectStoreNames.contains("$meta")&&!S.$meta&&(S.$meta=jr("$meta",vu("")[0],[]),c._storeNames.push("$meta")),c._createTransaction("readwrite",c._storeNames,S)),C=(E.create(g),E._completion.catch(b),E._reject.bind(E)),R=Te.transless||Te;_t(function(){if(Te.trans=E,Te.transless=R,p!==0)return ki(c,g),G=p,((N=E).storeNames.includes("$meta")?N.table("$meta").get("version").then(function(U){return U??G}):_e.resolve(G)).then(function(Y){var M=c,z=Y,P=E,B=g,L=[],Y=M._versions,W=M._dbSchema=Mr(0,M.idbdb,B);return(Y=Y.filter(function($){return $._cfg.version>=z})).length===0?_e.resolve():(Y.forEach(function($){L.push(function(){var se,he,ve,be=W,de=$._cfg.dbschema,Ee=(Ta(M,be,B),Ta(M,de,B),W=M._dbSchema=de,wa(be,de)),we=(Ee.add.forEach(function(pe){qo(B,pe[0],pe[1].primKey,pe[1].indexes)}),Ee.change.forEach(function(pe){if(pe.recreate)throw new De.Upgrade("Not yet support for changing primary key");var xe=B.objectStore(pe.name);pe.add.forEach(function(Ve){return Sa(xe,Ve)}),pe.change.forEach(function(Ve){xe.deleteIndex(Ve.name),Sa(xe,Ve)}),pe.del.forEach(function(Ve){return xe.deleteIndex(Ve)})}),$._cfg.contentUpgrade);if(we&&$._cfg.version>z)return ki(M,B),P._memoizedTables={},se=ie(de),Ee.del.forEach(function(pe){se[pe]=be[pe]}),Ns(M,[M.Transaction.prototype]),ba(M,[M.Transaction.prototype],f(se),se),P.schema=se,(he=q(we))&&Bt(),de=_e.follow(function(){var pe;(ve=we(P))&&he&&(pe=En.bind(null,null),ve.then(pe,pe))}),ve&&typeof ve.then=="function"?_e.resolve(ve):de.then(function(){return ve})}),L.push(function(se){var he,ve,be=$._cfg.dbschema;he=be,ve=se,[].slice.call(ve.db.objectStoreNames).forEach(function(de){return he[de]==null&&ve.db.deleteObjectStore(de)}),Ns(M,[M.Transaction.prototype]),ba(M,[M.Transaction.prototype],M._storeNames,M._dbSchema),P.schema=M._dbSchema}),L.push(function(se){M.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(M.idbdb.version/10)===$._cfg.version?(M.idbdb.deleteObjectStore("$meta"),delete M._dbSchema.$meta,M._storeNames=M._storeNames.filter(function(he){return he!=="$meta"})):se.objectStore("$meta").put($._cfg.version,"version"))})}),(function $(){return L.length?_e.resolve(L.shift()(P.idbtrans)).then($):_e.resolve()})().then(function(){gu(W,B)}))}).catch(C);var N,G;f(S).forEach(function(U){qo(g,U,S[U].primKey,S[U].indexes)}),ki(c,g),_e.follow(function(){return c.on.populate.fire(E)}).catch(C)})}function _a(c,p){gu(c._dbSchema,p),p.db.version%10!=0||p.objectStoreNames.contains("$meta")||p.db.createObjectStore("$meta").add(Math.ceil(p.db.version/10-1),"version");var g=Mr(0,c.idbdb,p);Ta(c,c._dbSchema,p);for(var b=0,S=wa(g,c._dbSchema).change;b<S.length;b++){var E=(C=>{if(C.change.length||C.recreate)return console.warn("Unable to patch indexes of table ".concat(C.name," because it has changes on the type of index or primary key.")),{value:void 0};var R=p.objectStore(C.name);C.add.forEach(function(N){kn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(C.name,".").concat(N.src)),Sa(R,N)})})(S[b]);if(typeof E=="object")return E.value}}function wa(c,p){var g,b={del:[],add:[],change:[]};for(g in c)p[g]||b.del.push(g);for(g in p){var S=c[g],E=p[g];if(S){var C={name:g,def:E,recreate:!1,del:[],add:[],change:[]};if(""+(S.primKey.keyPath||"")!=""+(E.primKey.keyPath||"")||S.primKey.auto!==E.primKey.auto)C.recreate=!0,b.change.push(C);else{var R=S.idxByName,N=E.idxByName,G=void 0;for(G in R)N[G]||C.del.push(G);for(G in N){var U=R[G],M=N[G];U?U.src!==M.src&&C.change.push(M):C.add.push(M)}(0<C.del.length||0<C.add.length||0<C.change.length)&&b.change.push(C)}}else b.add.push([g,E])}return b}function qo(c,p,g,b){var S=c.db.createObjectStore(p,g.keyPath?{keyPath:g.keyPath,autoIncrement:g.auto}:{autoIncrement:g.auto});b.forEach(function(E){return Sa(S,E)})}function gu(c,p){f(c).forEach(function(g){p.db.objectStoreNames.contains(g)||(kn&&console.debug("Dexie: Creating missing table",g),qo(p,g,c[g].primKey,c[g].indexes))})}function Sa(c,p){c.createIndex(p.name,p.keyPath,{unique:p.unique,multiEntry:p.multi})}function Mr(c,p,g){var b={};return ee(p.objectStoreNames,0).forEach(function(S){for(var E=g.objectStore(S),C=Wn(ga(G=E.keyPath),G||"",!0,!1,!!E.autoIncrement,G&&typeof G!="string",!0),R=[],N=0;N<E.indexNames.length;++N){var U=E.index(E.indexNames[N]),G=U.keyPath,U=Wn(U.name,G,!!U.unique,!!U.multiEntry,!1,G&&typeof G!="string",!1);R.push(U)}b[S]=jr(S,C,R)}),b}function Ta(c,p,g){for(var b=g.db.objectStoreNames,S=0;S<b.length;++S){var E=b[S],C=g.objectStore(E);c._hasGetAll="getAll"in C;for(var R=0;R<C.indexNames.length;++R){var N,G=C.indexNames[R],U=C.index(G).keyPath,U=typeof U=="string"?U:"["+ee(U).join("+")+"]";p[E]&&(N=p[E].idxByName[U])&&(N.name=G,delete p[E].idxByName[U],p[E].idxByName[G]=N)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(c._hasGetAll=!1)}function vu(c){return c.split(",").map(function(p,g){var S=p.split(":"),b=(b=S[1])==null?void 0:b.trim(),S=(p=S[0].trim()).replace(/([&*]|\+\+)/g,""),E=/^\[/.test(S)?S.match(/^\[(.*)\]$/)[1].split("+"):S;return Wn(S,E||null,/\&/.test(p),/\*/.test(p),/\+\+/.test(p),m(E),g===0,b)})}Nr.prototype._createTableSchema=jr,Nr.prototype._parseIndexSyntax=vu,Nr.prototype._parseStoresSpec=function(c,p){var g=this;f(c).forEach(function(b){if(c[b]!==null){var S=g._parseIndexSyntax(c[b]),E=S.shift();if(!E)throw new De.Schema("Invalid schema for table "+b+": "+c[b]);if(E.unique=!0,E.multi)throw new De.Schema("Primary key cannot be multiEntry*");S.forEach(function(C){if(C.auto)throw new De.Schema("Only primary key can be marked as autoIncrement (++)");if(!C.keyPath)throw new De.Schema("Index must have a name and cannot be an empty string")}),E=g._createTableSchema(b,E,S),p[b]=E}})},Nr.prototype.stores=function(g){var p=this.db,g=(this._cfg.storesSource=this._cfg.storesSource?y(this._cfg.storesSource,g):g,p._versions),b={},S={};return g.forEach(function(E){y(b,E._cfg.storesSource),S=E._cfg.dbschema={},E._parseStoresSpec(b,S)}),p._dbSchema=S,Ns(p,[p._allTables,p,p.Transaction.prototype]),ba(p,[p._allTables,p,p.Transaction.prototype,this._cfg.tables],f(S),S),p._storeNames=f(S),this},Nr.prototype.upgrade=function(c){return this._cfg.contentUpgrade=gs(this._cfg.contentUpgrade||rt,c),this};var wf=Nr;function Nr(){}function Io(c,p){var g=c._dbNamesDB;return g||(g=c._dbNamesDB=new Zn(Os,{addons:[],indexedDB:c,IDBKeyRange:p})).version(1).stores({dbnames:"name"}),g.table("dbnames")}function Ea(c){return c&&typeof c.databases=="function"}function Ko(c){return _t(function(){return Te.letThrough=!0,c()})}function Ho(c){return!("from"in c)}var tn=function(c,p){var g;if(!this)return g=new tn,c&&"d"in c&&y(g,c),g;y(this,arguments.length?{d:1,from:c,to:1<arguments.length?p:c}:{d:0})};function Bs(c,p,g){var b=Fe(p,g);if(!isNaN(b)){if(0<b)throw RangeError();if(Ho(c))return y(c,{from:p,to:g,d:1});var b=c.l,S=c.r;if(Fe(g,c.from)<0)return b?Bs(b,p,g):c.l={from:p,to:g,d:1,l:null,r:null},_u(c);if(0<Fe(p,c.to))return S?Bs(S,p,g):c.r={from:p,to:g,d:1,l:null,r:null},_u(c);Fe(p,c.from)<0&&(c.from=p,c.l=null,c.d=S?S.d+1:1),0<Fe(g,c.to)&&(c.to=g,c.r=null,c.d=c.l?c.l.d+1:1),p=!c.r,b&&!c.l&&Zi(c,b),S&&p&&Zi(c,S)}}function Zi(c,p){Ho(p)||(function g(b,S){var E=S.from,C=S.l,R=S.r;Bs(b,E,S.to),C&&g(b,C),R&&g(b,R)})(c,p)}function bu(c,p){var g=xa(p),b=g.next();if(!b.done)for(var S=b.value,E=xa(c),C=E.next(S.from),R=C.value;!b.done&&!C.done;){if(Fe(R.from,S.to)<=0&&0<=Fe(R.to,S.from))return!0;Fe(S.from,R.from)<0?S=(b=g.next(R.from)).value:R=(C=E.next(S.from)).value}return!1}function xa(c){var p=Ho(c)?null:{s:0,n:c};return{next:function(g){for(var b=0<arguments.length;p;)switch(p.s){case 0:if(p.s=1,b)for(;p.n.l&&Fe(g,p.n.from)<0;)p={up:p,n:p.n.l,s:1};else for(;p.n.l;)p={up:p,n:p.n.l,s:1};case 1:if(p.s=2,!b||Fe(g,p.n.to)<=0)return{value:p.n,done:!1};case 2:if(p.n.r){p.s=3,p={up:p,n:p.n.r,s:0};continue}case 3:p=p.up}return{done:!0}}}}function _u(c){var p,g,b,S=(((S=c.r)==null?void 0:S.d)||0)-(((S=c.l)==null?void 0:S.d)||0),S=1<S?"r":S<-1?"l":"";S&&(p=S=="r"?"l":"r",g=a({},c),b=c[S],c.from=b.from,c.to=b.to,c[S]=b[S],g[S]=b[p],(c[p]=g).d=Go(g)),c.d=Go(c)}function Go(g){var p=g.r,g=g.l;return(p?g?Math.max(p.d,g.d):p.d:g?g.d:0)+1}function Aa(c,p){return f(p).forEach(function(g){c[g]?Zi(c[g],p[g]):c[g]=(function b(S){var E,C,R={};for(E in S)T(S,E)&&(C=S[E],R[E]=!C||typeof C!="object"||Ot.has(C.constructor)?C:b(C));return R})(p[g])}),c}function $o(c,p){return c.all||p.all||Object.keys(c).some(function(g){return p[g]&&bu(p[g],c[g])})}x(tn.prototype,((mn={add:function(c){return Zi(this,c),this},addKey:function(c){return Bs(this,c,c),this},addKeys:function(c){var p=this;return c.forEach(function(g){return Bs(p,g,g)}),this},hasKey:function(c){var p=xa(this).next(c).value;return p&&Fe(p.from,c)<=0&&0<=Fe(p.to,c)}})[re]=function(){return xa(this)},mn));var er={},Yo={},Fo=!1;function Oa(c){Aa(Yo,c),Fo||(Fo=!0,setTimeout(function(){Fo=!1,Xo(Yo,!(Yo={}))},0))}function Xo(c,p){p===void 0&&(p=!1);var g=new Set;if(c.all)for(var b=0,S=Object.values(er);b<S.length;b++)wu(R=S[b],c,g,p);else for(var E in c){var C,R,E=/^idb\:\/\/(.*)\/(.*)\//.exec(E);E&&(C=E[1],E=E[2],R=er["idb://".concat(C,"/").concat(E)])&&wu(R,c,g,p)}g.forEach(function(N){return N()})}function wu(c,p,g,b){for(var S=[],E=0,C=Object.entries(c.queries.query);E<C.length;E++){for(var R=C[E],N=R[0],G=[],U=0,M=R[1];U<M.length;U++){var z=M[U];$o(p,z.obsSet)?z.subscribers.forEach(function(Y){return g.add(Y)}):b&&G.push(z)}b&&S.push([N,G])}if(b)for(var P=0,B=S;P<B.length;P++){var L=B[P],N=L[0],G=L[1];c.queries.query[N]=G}}function Sf(c){var p=c._state,g=c._deps.indexedDB;if(p.isBeingOpened||c.idbdb)return p.dbReadyPromise.then(function(){return p.dbOpenError?ht(p.dbOpenError):c});p.isBeingOpened=!0,p.dbOpenError=null,p.openComplete=!1;var b=p.openCanceller,S=Math.round(10*c.verno),E=!1;function C(){if(p.openCanceller!==b)throw new De.DatabaseClosed("db.open() was cancelled")}function R(){return new _e(function(z,P){if(C(),!g)throw new De.MissingAPI;var B=c.name,L=p.autoSchema||!S?g.open(B):g.open(B,S);if(!L)throw new De.MissingAPI;L.onerror=Pn(P),L.onblocked=gt(c._fireOnBlocked),L.onupgradeneeded=gt(function(Y){var W;U=L.transaction,p.autoSchema&&!c._options.allowEmptyDB?(L.onerror=Ji,U.abort(),L.result.close(),(W=g.deleteDatabase(B)).onsuccess=W.onerror=gt(function(){P(new De.NoSuchDatabase("Database ".concat(B," doesnt exist")))})):(U.onerror=Pn(P),W=Y.oldVersion>Math.pow(2,62)?0:Y.oldVersion,M=W<1,c.idbdb=L.result,E&&_a(c,U),Us(c,W/10,U,P))},P),L.onsuccess=gt(function(){U=null;var Y,W,$,se,he,ve,be=c.idbdb=L.result,de=ee(be.objectStoreNames);if(0<de.length)try{var Ee=be.transaction((he=de).length===1?he[0]:he,"readonly");if(p.autoSchema)ve=be,se=Ee,($=c).verno=ve.version/10,se=$._dbSchema=Mr(0,ve,se),$._storeNames=ee(ve.objectStoreNames,0),ba($,[$._allTables],f(se),se);else if(Ta(c,c._dbSchema,Ee),W=Ee,((W=wa(Mr(0,(Y=c).idbdb,W),Y._dbSchema)).add.length||W.change.some(function(we){return we.add.length||we.change.length}))&&!E)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),be.close(),S=be.version+1,E=!0,z(R());ki(c,Ee)}catch{}$i.push(c),be.onversionchange=gt(function(we){p.vcFired=!0,c.on("versionchange").fire(we)}),be.onclose=gt(function(){c.close({disableAutoOpen:!1})}),M&&(de=c._deps,he=B,Ea(ve=de.indexedDB)||he===Os||Io(ve,de.IDBKeyRange).put({name:he}).catch(rt)),z()},P)}).catch(function(z){switch(z?.name){case"UnknownError":if(0<p.PR1398_maxLoop)return p.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),R();break;case"VersionError":if(0<S)return S=0,R()}return _e.reject(z)})}var N,G=p.dbReadyResolve,U=null,M=!1;return _e.race([b,(typeof navigator>"u"?_e.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(z){function P(){return indexedDB.databases().finally(z)}N=setInterval(P,100),P()}).finally(function(){return clearInterval(N)}):Promise.resolve()).then(R)]).then(function(){return C(),p.onReadyBeingFired=[],_e.resolve(Ko(function(){return c.on.ready.fire(c.vip)})).then(function z(){var P;if(0<p.onReadyBeingFired.length)return P=p.onReadyBeingFired.reduce(gs,rt),p.onReadyBeingFired=[],_e.resolve(Ko(function(){return P(c.vip)})).then(z)})}).finally(function(){p.openCanceller===b&&(p.onReadyBeingFired=null,p.isBeingOpened=!1)}).catch(function(z){p.dbOpenError=z;try{U&&U.abort()}catch{}return b===p.openCanceller&&c._close(),ht(z)}).finally(function(){p.openComplete=!0,G()}).then(function(){var z;return M&&(z={},c.tables.forEach(function(P){P.schema.indexes.forEach(function(B){B.name&&(z["idb://".concat(c.name,"/").concat(P.name,"/").concat(B.name)]=new tn(-1/0,[[[]]]))}),z["idb://".concat(c.name,"/").concat(P.name,"/")]=z["idb://".concat(c.name,"/").concat(P.name,"/:dels")]=new tn(-1/0,[[[]]])}),en(Rr).fire(z),Xo(z,!0)),c})}function Ls(c){function p(E){return c.next(E)}var g=S(p),b=S(function(E){return c.throw(E)});function S(E){return function(R){var R=E(R),N=R.value;return R.done?N:N&&typeof N.then=="function"?N.then(g,b):m(N)?Promise.all(N).then(g,b):g(N)}}return S(p)()}function Di(c,p,g){for(var b=m(c)?c.slice():[c],S=0;S<g;++S)b.push(p);return b}var Tf={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(c){return a(a({},c),{table:function(b){var g=c.table(b),b=g.schema,S={},E=[];function C(z,P,B){var $=Pt(z),L=S[$]=S[$]||[],Y=z==null?0:typeof z=="string"?1:z.length,W=0<P,$=a(a({},B),{name:W?"".concat($,"(virtual-from:").concat(B.name,")"):B.name,lowLevelIndex:B,isVirtual:W,keyTail:P,keyLength:Y,extractKey:Dr(z),unique:!W&&B.unique});return L.push($),$.isPrimaryKey||E.push($),1<Y&&C(Y===2?z[0]:z.slice(0,Y-1),P+1,B),L.sort(function(se,he){return se.keyTail-he.keyTail}),$}var R=C(b.primaryKey.keyPath,0,b.primaryKey);S[":id"]=[R];for(var N=0,G=b.indexes;N<G.length;N++){var U=G[N];C(U.keyPath,0,U)}function M(z){var P,B=z.query.index;return B.isVirtual?a(a({},z),{query:{index:B.lowLevelIndex,range:(P=z.query.range,B=B.keyTail,{type:P.type===1?2:P.type,lower:Di(P.lower,P.lowerOpen?c.MAX_KEY:c.MIN_KEY,B),lowerOpen:!0,upper:Di(P.upper,P.upperOpen?c.MIN_KEY:c.MAX_KEY,B),upperOpen:!0})}}):z}return a(a({},g),{schema:a(a({},b),{primaryKey:R,indexes:E,getIndexByKeyPath:function(z){return(z=S[Pt(z)])&&z[0]}}),count:function(z){return g.count(M(z))},query:function(z){return g.query(M(z))},openCursor:function(z){var P=z.query.index,B=P.keyTail,L=P.keyLength;return P.isVirtual?g.openCursor(M(z)).then(function(W){return W&&Y(W)}):g.openCursor(z);function Y(W){return Object.create(W,{continue:{value:function($){$!=null?W.continue(Di($,z.reverse?c.MAX_KEY:c.MIN_KEY,B)):z.unique?W.continue(W.key.slice(0,L).concat(z.reverse?c.MIN_KEY:c.MAX_KEY,B)):W.continue()}},continuePrimaryKey:{value:function($,se){W.continuePrimaryKey(Di($,c.MAX_KEY,B),se)}},primaryKey:{get:function(){return W.primaryKey}},key:{get:function(){var $=W.key;return L===1?$[0]:$.slice(0,L)}},value:{get:function(){return W.value}}})}}})}})}};function Ca(c,p,g,b){return g=g||{},b=b||"",f(c).forEach(function(S){var E,C,R;T(p,S)?(E=c[S],C=p[S],typeof E=="object"&&typeof C=="object"&&E&&C?(R=Wt(E))!==Wt(C)?g[b+S]=p[S]:R==="Object"?Ca(E,C,g,b+S+"."):E!==C&&(g[b+S]=p[S]):E!==C&&(g[b+S]=p[S])):g[b+S]=void 0}),f(p).forEach(function(S){T(c,S)||(g[b+S]=p[S])}),g}function Ra(c,p){return p.type==="delete"?p.keys:p.keys||p.values.map(c.extractKey)}var Su={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(c){return a(a({},c),{table:function(p){var g=c.table(p),b=g.schema.primaryKey;return a(a({},g),{mutate:function(S){var E=Te.trans,C=E.table(p).hook,R=C.deleting,N=C.creating,G=C.updating;switch(S.type){case"add":if(N.fire===rt)break;return E._promise("readwrite",function(){return U(S)},!0);case"put":if(N.fire===rt&&G.fire===rt)break;return E._promise("readwrite",function(){return U(S)},!0);case"delete":if(R.fire===rt)break;return E._promise("readwrite",function(){return U(S)},!0);case"deleteRange":if(R.fire===rt)break;return E._promise("readwrite",function(){return(function M(z,P,B){return g.query({trans:z,values:!1,query:{index:b,range:P},limit:B}).then(function(L){var Y=L.result;return U({type:"delete",keys:Y,trans:z}).then(function(W){return 0<W.numFailures?Promise.reject(W.failures[0]):Y.length<B?{failures:[],numFailures:0,lastResult:void 0}:M(z,a(a({},P),{lower:Y[Y.length-1],lowerOpen:!0}),B)})})})(S.trans,S.range,1e4)},!0)}return g.mutate(S);function U(M){var z,P,B,L=Te.trans,Y=M.keys||Ra(b,M);if(Y)return(M=M.type==="add"||M.type==="put"?a(a({},M),{keys:Y}):a({},M)).type!=="delete"&&(M.values=l([],M.values)),M.keys&&(M.keys=l([],M.keys)),z=g,B=Y,((P=M).type==="add"?Promise.resolve([]):z.getMany({trans:P.trans,keys:B,cache:"immutable"})).then(function(W){var $=Y.map(function(se,he){var ve,be,de,Ee=W[he],we={onerror:null,onsuccess:null};return M.type==="delete"?R.fire.call(we,se,Ee,L):M.type==="add"||Ee===void 0?(ve=N.fire.call(we,se,M.values[he],L),se==null&&ve!=null&&(M.keys[he]=se=ve,b.outbound||fe(M.values[he],b.keyPath,se))):(ve=Ca(Ee,M.values[he]),(be=G.fire.call(we,ve,se,Ee,L))&&(de=M.values[he],Object.keys(be).forEach(function(pe){T(de,pe)?de[pe]=be[pe]:fe(de,pe,be[pe])}))),we});return g.mutate(M).then(function(se){for(var he=se.failures,ve=se.results,be=se.numFailures,se=se.lastResult,de=0;de<Y.length;++de){var Ee=(ve||Y)[de],we=$[de];Ee==null?we.onerror&&we.onerror(he[de]):we.onsuccess&&we.onsuccess(M.type==="put"&&W[de]?M.values[de]:Ee)}return{failures:he,results:ve,numFailures:be,lastResult:se}}).catch(function(se){return $.forEach(function(he){return he.onerror&&he.onerror(se)}),Promise.reject(se)})});throw new Error("Keys missing")}}})}})}};function Jo(c,p,g){try{if(!p||p.keys.length<c.length)return null;for(var b=[],S=0,E=0;S<p.keys.length&&E<c.length;++S)Fe(p.keys[S],c[E])===0&&(b.push(g?Yt(p.values[S]):p.values[S]),++E);return b.length===c.length?b:null}catch{return null}}var Tu={stack:"dbcore",level:-1,create:function(c){return{table:function(p){var g=c.table(p);return a(a({},g),{getMany:function(b){var S;return b.cache?(S=Jo(b.keys,b.trans._cache,b.cache==="clone"))?_e.resolve(S):g.getMany(b).then(function(E){return b.trans._cache={keys:b.keys,values:b.cache==="clone"?Yt(E):E},E}):g.getMany(b)},mutate:function(b){return b.type!=="add"&&(b.trans._cache=null),g.mutate(b)}})}}}};function tr(c,p){return c.trans.mode==="readonly"&&!!c.subscr&&!c.trans.explicit&&c.trans.db._options.cache!=="disabled"&&!p.schema.primaryKey.outbound}function Eu(c,p){switch(c){case"query":return p.values&&!p.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ef={stack:"dbcore",level:0,name:"Observability",create:function(c){var p=c.schema.name,g=new tn(c.MIN_KEY,c.MAX_KEY);return a(a({},c),{transaction:function(b,S,E){if(Te.subscr&&S!=="readonly")throw new De.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Te.querier));return c.transaction(b,S,E)},table:function(b){function S(Y){var L,Y=Y.query;return[L=Y.index,new tn((L=(Y=Y.range).lower)!=null?L:c.MIN_KEY,(L=Y.upper)!=null?L:c.MAX_KEY)]}var E=c.table(b),C=E.schema,R=C.primaryKey,N=C.indexes,G=R.extractKey,U=R.outbound,M=R.autoIncrement&&N.filter(function(B){return B.compound&&B.keyPath.includes(R.keyPath)}),z=a(a({},E),{mutate:function(B){function L(xe){return xe="idb://".concat(p,"/").concat(b,"/").concat(xe),he[xe]||(he[xe]=new tn)}var Y,W,$,se=B.trans,he=B.mutatedParts||(B.mutatedParts={}),ve=L(""),be=L(":dels"),de=B.type,we=B.type==="deleteRange"?[B.range]:B.type==="delete"?[B.keys]:B.values.length<50?[Ra(R,B).filter(function(xe){return xe}),B.values]:[],Ee=we[0],we=we[1],pe=B.trans._cache;return m(Ee)?(ve.addKeys(Ee),(de=de==="delete"||Ee.length===we.length?Jo(Ee,pe):null)||be.addKeys(Ee),(de||we)&&(Y=L,W=de,$=we,C.indexes.forEach(function(xe){var Ve=Y(xe.name||"");function Xe(Ie){return Ie!=null?xe.extractKey(Ie):null}function Ne(Ie){xe.multiEntry&&m(Ie)?Ie.forEach(function(dt){return Ve.addKey(dt)}):Ve.addKey(Ie)}(W||$).forEach(function(Ie,ut){var bn=W&&Xe(W[ut]),ut=$&&Xe($[ut]);Fe(bn,ut)!==0&&(bn!=null&&Ne(bn),ut!=null)&&Ne(ut)})}))):Ee?(we={from:(pe=Ee.lower)!=null?pe:c.MIN_KEY,to:(de=Ee.upper)!=null?de:c.MAX_KEY},be.add(we),ve.add(we)):(ve.add(g),be.add(g),C.indexes.forEach(function(xe){return L(xe.name).add(g)})),E.mutate(B).then(function(xe){return!Ee||B.type!=="add"&&B.type!=="put"||(ve.addKeys(xe.results),M&&M.forEach(function(Ve){for(var Xe=B.values.map(function(bn){return Ve.extractKey(bn)}),Ne=Ve.keyPath.findIndex(function(bn){return bn===R.keyPath}),Ie=0,dt=xe.results.length;Ie<dt;++Ie)Xe[Ie][Ne]=xe.results[Ie];L(Ve.name).addKeys(Xe)})),se.mutatedParts=Aa(se.mutatedParts||{},he),xe})}}),P={get:function(B){return[R,new tn(B.key)]},getMany:function(B){return[R,new tn().addKeys(B.keys)]},count:S,query:S,openCursor:S};return f(P).forEach(function(B){z[B]=function(L){var Y=Te.subscr,W=!!Y,$=tr(Te,E)&&Eu(B,L)?L.obsSet={}:Y;if(W){var se,Y=function(we){return we="idb://".concat(p,"/").concat(b,"/").concat(we),$[we]||($[we]=new tn)},he=Y(""),ve=Y(":dels"),W=P[B](L),be=W[0],W=W[1];if((B==="query"&&be.isPrimaryKey&&!L.values?ve:Y(be.name||"")).add(W),!be.isPrimaryKey){if(B!=="count")return se=B==="query"&&U&&L.values&&E.query(a(a({},L),{values:!1})),E[B].apply(this,arguments).then(function(we){if(B==="query"){if(U&&L.values)return se.then(function(Xe){return Xe=Xe.result,he.addKeys(Xe),we});var pe=L.values?we.result.map(G):we.result;(L.values?he:ve).addKeys(pe)}else{var xe,Ve;if(B==="openCursor")return Ve=L.values,(xe=we)&&Object.create(xe,{key:{get:function(){return ve.addKey(xe.primaryKey),xe.key}},primaryKey:{get:function(){var Xe=xe.primaryKey;return ve.addKey(Xe),Xe}},value:{get:function(){return Ve&&he.addKey(xe.primaryKey),xe.value}}})}return we});ve.add(g)}}return E[B].apply(this,arguments)}}),z}})}};function xu(c,p,g){var b;return g.numFailures===0?p:p.type==="deleteRange"||(b=p.keys?p.keys.length:"values"in p&&p.values?p.values.length:1,g.numFailures===b)?null:(b=a({},p),m(b.keys)&&(b.keys=b.keys.filter(function(S,E){return!(E in g.failures)})),"values"in b&&m(b.values)&&(b.values=b.values.filter(function(S,E){return!(E in g.failures)})),b)}function ja(c,p){return g=c,((b=p).lower===void 0||(b.lowerOpen?0<Fe(g,b.lower):0<=Fe(g,b.lower)))&&(g=c,(b=p).upper===void 0||(b.upperOpen?Fe(g,b.upper)<0:Fe(g,b.upper)<=0));var g,b}function Qo(c,p,g,b,S,E){var C,R,N,G,U,M;return!g||g.length===0||(C=p.query.index,R=C.multiEntry,N=p.query.range,G=b.schema.primaryKey.extractKey,U=C.extractKey,M=(C.lowLevelIndex||C).extractKey,(b=g.reduce(function(z,P){var B=z,L=[];if(P.type==="add"||P.type==="put")for(var Y=new tn,W=P.values.length-1;0<=W;--W){var $,se=P.values[W],he=G(se);!Y.hasKey(he)&&($=U(se),R&&m($)?$.some(function(we){return ja(we,N)}):ja($,N))&&(Y.addKey(he),L.push(se))}switch(P.type){case"add":var ve=new tn().addKeys(p.values?z.map(function(pe){return G(pe)}):z),B=z.concat(p.values?L.filter(function(pe){return pe=G(pe),!ve.hasKey(pe)&&(ve.addKey(pe),!0)}):L.map(function(pe){return G(pe)}).filter(function(pe){return!ve.hasKey(pe)&&(ve.addKey(pe),!0)}));break;case"put":var be=new tn().addKeys(P.values.map(function(pe){return G(pe)}));B=z.filter(function(pe){return!be.hasKey(p.values?G(pe):pe)}).concat(p.values?L:L.map(function(pe){return G(pe)}));break;case"delete":var de=new tn().addKeys(P.keys);B=z.filter(function(pe){return!de.hasKey(p.values?G(pe):pe)});break;case"deleteRange":var Ee=P.range;B=z.filter(function(pe){return!ja(G(pe),Ee)})}return B},c))===c)?c:(b.sort(function(z,P){return Fe(M(z),M(P))||Fe(G(z),G(P))}),p.limit&&p.limit<1/0&&(b.length>p.limit?b.length=p.limit:c.length===p.limit&&b.length<p.limit&&(S.dirty=!0)),E?Object.freeze(b):b)}function Ur(c,p){return Fe(c.lower,p.lower)===0&&Fe(c.upper,p.upper)===0&&!!c.lowerOpen==!!p.lowerOpen&&!!c.upperOpen==!!p.upperOpen}function zs(c,p){return((g,b,S,E)=>{if(g===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;if((g=Fe(g,b))===0){if(S&&E)return 0;if(S)return 1;if(E)return-1}return g})(c.lower,p.lower,c.lowerOpen,p.lowerOpen)<=0&&0<=((g,b,S,E)=>{if(g===void 0)return b!==void 0?1:0;if(b===void 0)return-1;if((g=Fe(g,b))===0){if(S&&E)return 0;if(S)return-1;if(E)return 1}return g})(c.upper,p.upper,c.upperOpen,p.upperOpen)}function xf(c,p,g,b){c.subscribers.add(g),b.addEventListener("abort",function(){var S,E;c.subscribers.delete(g),c.subscribers.size===0&&(S=c,E=p,setTimeout(function(){S.subscribers.size===0&&Ae(E,S)},3e3))})}var ka={stack:"dbcore",level:0,name:"Cache",create:function(c){var p=c.schema.name;return a(a({},c),{transaction:function(g,b,S){var E,C,R=c.transaction(g,b,S);return b==="readwrite"&&(S=(E=new AbortController).signal,R.addEventListener("abort",(C=function(N){return function(){if(E.abort(),b==="readwrite"){for(var G=new Set,U=0,M=g;U<M.length;U++){var z=M[U],P=er["idb://".concat(p,"/").concat(z)];if(P){var B=c.table(z),L=P.optimisticOps.filter(function(xe){return xe.trans===R});if(R._explicit&&N&&R.mutatedParts)for(var Y=0,W=Object.values(P.queries.query);Y<W.length;Y++)for(var $=0,se=(be=W[Y]).slice();$<se.length;$++)$o((de=se[$]).obsSet,R.mutatedParts)&&(Ae(be,de),de.subscribers.forEach(function(xe){return G.add(xe)}));else if(0<L.length){P.optimisticOps=P.optimisticOps.filter(function(xe){return xe.trans!==R});for(var he=0,ve=Object.values(P.queries.query);he<ve.length;he++)for(var be,de,Ee,we=0,pe=(be=ve[he]).slice();we<pe.length;we++)(de=pe[we]).res!=null&&R.mutatedParts&&(N&&!de.dirty?(Ee=Object.isFrozen(de.res),Ee=Qo(de.res,de.req,L,B,de,Ee),de.dirty?(Ae(be,de),de.subscribers.forEach(function(xe){return G.add(xe)})):Ee!==de.res&&(de.res=Ee,de.promise=_e.resolve({result:Ee}))):(de.dirty&&Ae(be,de),de.subscribers.forEach(function(xe){return G.add(xe)})))}}}G.forEach(function(xe){return xe()})}}})(!1),{signal:S}),R.addEventListener("error",C(!1),{signal:S}),R.addEventListener("complete",C(!0),{signal:S})),R},table:function(g){var b=c.table(g),S=b.schema.primaryKey;return a(a({},b),{mutate:function(E){var C,R=Te.trans;return!S.outbound&&R.db._options.cache!=="disabled"&&!R.explicit&&R.idbtrans.mode==="readwrite"&&(C=er["idb://".concat(p,"/").concat(g)])?(R=b.mutate(E),E.type!=="add"&&E.type!=="put"||!(50<=E.values.length||Ra(S,E).some(function(N){return N==null}))?(C.optimisticOps.push(E),E.mutatedParts&&Oa(E.mutatedParts),R.then(function(N){0<N.numFailures&&(Ae(C.optimisticOps,E),(N=xu(0,E,N))&&C.optimisticOps.push(N),E.mutatedParts)&&Oa(E.mutatedParts)}),R.catch(function(){Ae(C.optimisticOps,E),E.mutatedParts&&Oa(E.mutatedParts)})):R.then(function(N){var G=xu(0,a(a({},E),{values:E.values.map(function(U,M){var z;return N.failures[M]?U:(fe(z=(z=S.keyPath)!=null&&z.includes(".")?Yt(U):a({},U),S.keyPath,N.results[M]),z)})}),N);C.optimisticOps.push(G),queueMicrotask(function(){return E.mutatedParts&&Oa(E.mutatedParts)})}),R):b.mutate(E)},query:function(E){var C,R,N,G,U,M,z;return tr(Te,b)&&Eu("query",E)?(C=((N=Te.trans)==null?void 0:N.db._options.cache)==="immutable",R=(N=Te).requery,N=N.signal,M=((P,B,L,Y)=>{var W=er["idb://".concat(P,"/").concat(B)];if(!W)return[];if(!(P=W.queries[L]))return[null,!1,W,null];var $=P[(Y.query?Y.query.index.name:null)||""];if(!$)return[null,!1,W,null];switch(L){case"query":var se=$.find(function(he){return he.req.limit===Y.limit&&he.req.values===Y.values&&Ur(he.req.query.range,Y.query.range)});return se?[se,!0,W,$]:[$.find(function(he){return("limit"in he.req?he.req.limit:1/0)>=Y.limit&&(!Y.values||he.req.values)&&zs(he.req.query.range,Y.query.range)}),!1,W,$];case"count":return se=$.find(function(he){return Ur(he.req.query.range,Y.query.range)}),[se,!!se,W,$]}})(p,g,"query",E),z=M[0],G=M[2],U=M[3],z&&M[1]?z.obsSet=E.obsSet:(M=b.query(E).then(function(P){var B=P.result;if(z&&(z.res=B),C){for(var L=0,Y=B.length;L<Y;++L)Object.freeze(B[L]);Object.freeze(B)}else P.result=Yt(B);return P}).catch(function(P){return U&&z&&Ae(U,z),Promise.reject(P)}),z={obsSet:E.obsSet,promise:M,subscribers:new Set,type:"query",req:E,dirty:!1},U?U.push(z):(U=[z],(G=G||(er["idb://".concat(p,"/").concat(g)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[E.query.index.name||""]=U)),xf(z,U,R,N),z.promise.then(function(P){return{result:Qo(P.result,E,G?.optimisticOps,b,z,C)}})):b.query(E)}})}})}};function Vs(c,p){return new Proxy(c,{get:function(g,b,S){return b==="db"?p:Reflect.get(g,b,S)}})}Et.prototype.version=function(c){if(isNaN(c)||c<.1)throw new De.Type("Given version is not a positive number");if(c=Math.round(10*c)/10,this.idbdb||this._state.isBeingOpened)throw new De.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,c);var p=this._versions,g=p.filter(function(b){return b._cfg.version===c})[0];return g||(g=new this.Version(c),p.push(g),p.sort(Po),g.stores({}),this._state.autoSchema=!1),g},Et.prototype._whenReady=function(c){var p=this;return this.idbdb&&(this._state.openComplete||Te.letThrough||this._vip)?c():new _e(function(g,b){if(p._state.openComplete)return b(new De.DatabaseClosed(p._state.dbOpenError));if(!p._state.isBeingOpened){if(!p._state.autoOpen)return void b(new De.DatabaseClosed);p.open().catch(rt)}p._state.dbReadyPromise.then(g,b)}).then(c)},Et.prototype.use=function(S){var p=S.stack,g=S.create,b=S.level,S=S.name,E=(S&&this.unuse({stack:p,name:S}),this._middlewares[p]||(this._middlewares[p]=[]));return E.push({stack:p,create:g,level:b??10,name:S}),E.sort(function(C,R){return C.level-R.level}),this},Et.prototype.unuse=function(c){var p=c.stack,g=c.name,b=c.create;return p&&this._middlewares[p]&&(this._middlewares[p]=this._middlewares[p].filter(function(S){return b?S.create!==b:!!g&&S.name!==g})),this},Et.prototype.open=function(){var c=this;return zn(sn,function(){return Sf(c)})},Et.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var c=this._state,p=$i.indexOf(this);if(0<=p&&$i.splice(p,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}c.isBeingOpened||(c.dbReadyPromise=new _e(function(g){c.dbReadyResolve=g}),c.openCanceller=new _e(function(g,b){c.cancelOpen=b}))},Et.prototype.close=function(p){var p=(p===void 0?{disableAutoOpen:!0}:p).disableAutoOpen,g=this._state;p?(g.isBeingOpened&&g.cancelOpen(new De.DatabaseClosed),this._close(),g.autoOpen=!1,g.dbOpenError=new De.DatabaseClosed):(this._close(),g.autoOpen=this._options.autoOpen||g.isBeingOpened,g.openComplete=!1,g.dbOpenError=null)},Et.prototype.delete=function(c){var p=this,g=(c===void 0&&(c={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),b=this._state;return new _e(function(S,E){function C(){p.close(c);var R=p._deps.indexedDB.deleteDatabase(p.name);R.onsuccess=gt(function(){var N,G,U;N=p._deps,G=p.name,Ea(U=N.indexedDB)||G===Os||Io(U,N.IDBKeyRange).delete(G).catch(rt),S()}),R.onerror=Pn(E),R.onblocked=p._fireOnBlocked}if(g)throw new De.InvalidArgument("Invalid closeOptions argument to db.delete()");b.isBeingOpened?b.dbReadyPromise.then(C):C()})},Et.prototype.backendDB=function(){return this.idbdb},Et.prototype.isOpen=function(){return this.idbdb!==null},Et.prototype.hasBeenClosed=function(){var c=this._state.dbOpenError;return c&&c.name==="DatabaseClosed"},Et.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Et.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Et.prototype,"tables",{get:function(){var c=this;return f(this._allTables).map(function(p){return c._allTables[p]})},enumerable:!1,configurable:!0}),Et.prototype.transaction=function(){var c=(function(p,g,b){var S=arguments.length;if(S<2)throw new De.InvalidArgument("Too few arguments");for(var E=new Array(S-1);--S;)E[S-1]=arguments[S];return b=E.pop(),[p,it(E),b]}).apply(this,arguments);return this._transaction.apply(this,c)},Et.prototype._transaction=function(c,p,g){var b,S,E=this,C=Te.trans,R=(C&&C.db===this&&c.indexOf("!")===-1||(C=null),c.indexOf("?")!==-1);c=c.replace("!","").replace("?","");try{if(S=p.map(function(G){if(G=G instanceof E.Table?G.name:G,typeof G!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return G}),c=="r"||c===fi)b=fi;else{if(c!="rw"&&c!=Ri)throw new De.InvalidArgument("Invalid transaction mode: "+c);b=Ri}if(C){if(C.mode===fi&&b===Ri){if(!R)throw new De.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");C=null}C&&S.forEach(function(G){if(C&&C.storeNames.indexOf(G)===-1){if(!R)throw new De.SubTransaction("Table "+G+" not included in parent transaction.");C=null}}),R&&C&&!C.active&&(C=null)}}catch(G){return C?C._promise(null,function(U,M){M(G)}):ht(G)}var N=(function G(U,M,z,P,B){return _e.resolve().then(function(){var $=Te.transless||Te,L=U._createTransaction(M,z,U._dbSchema,P),$=(L.explicit=!0,{trans:L,transless:$});if(P)L.idbtrans=P.idbtrans;else try{L.create(),L.idbtrans._explicit=!0,U._state.PR1398_maxLoop=3}catch(se){return se.name===Ft.InvalidState&&U.isOpen()&&0<--U._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),U.close({disableAutoOpen:!1}),U.open().then(function(){return G(U,M,z,null,B)})):ht(se)}var Y,W=q(B),$=(W&&Bt(),_e.follow(function(){var se;(Y=B.call(L,L))&&(W?(se=En.bind(null,null),Y.then(se,se)):typeof Y.next=="function"&&typeof Y.throw=="function"&&(Y=Ls(Y)))},$));return(Y&&typeof Y.then=="function"?_e.resolve(Y).then(function(se){return L.active?se:ht(new De.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):$.then(function(){return Y})).then(function(se){return P&&L._resolve(),L._completion.then(function(){return se})}).catch(function(se){return L._reject(se),ht(se)})})}).bind(null,this,b,S,C,g);return C?C._promise(b,N,"lock"):Te.trans?zn(Te.transless,function(){return E._whenReady(N)}):this._whenReady(N)},Et.prototype.table=function(c){if(T(this._allTables,c))return this._allTables[c];throw new De.InvalidTable("Table ".concat(c," does not exist"))};var Zn=Et;function Et(c,p){var g,b,S,E,C,R=this,N=(this._middlewares={},this.verno=0,Et.dependencies),N=(this._options=p=a({addons:Et.addons,autoOpen:!0,indexedDB:N.indexedDB,IDBKeyRange:N.IDBKeyRange,cache:"cloned"},p),this._deps={indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange},p.addons),G=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:rt,dbReadyPromise:null,cancelOpen:rt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:p.autoOpen}),U=(G.dbReadyPromise=new _e(function(M){G.dbReadyResolve=M}),G.openCanceller=new _e(function(M,z){G.cancelOpen=z}),this._state=G,this.name=c,this.on=js(this,"populate","blocked","versionchange","close",{ready:[gs,rt]}),this.once=function(M,z){var P=function(){for(var B=[],L=0;L<arguments.length;L++)B[L]=arguments[L];R.on(M).unsubscribe(P),z.apply(R,B)};return R.on(M,P)},this.on.ready.subscribe=F(this.on.ready.subscribe,function(M){return function(z,P){Et.vip(function(){var B,L=R._state;L.openComplete?(L.dbOpenError||_e.resolve().then(z),P&&M(z)):L.onReadyBeingFired?(L.onReadyBeingFired.push(z),P&&M(z)):(M(z),B=R,P||M(function Y(){B.on.ready.unsubscribe(z),B.on.ready.unsubscribe(Y)}))})}}),this.Collection=(g=this,Zt(bf.prototype,function(Y,L){this.db=g;var P=No,B=null;if(L)try{P=L()}catch($){B=$}var L=Y._ctx,Y=L.table,W=Y.hook.reading.fire;this._ctx={table:Y,index:L.index,isPrimKey:!L.index||Y.schema.primKey.keyPath&&L.index===Y.schema.primKey.name,range:P,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:B,or:L.or,valueMapper:W!==Tr?W:null}})),this.Table=(b=this,Zt(Uo.prototype,function(M,z,P){this.db=b,this._tx=P,this.name=M,this.schema=z,this.hook=b._allTables[M]?b._allTables[M].hook:js(null,{creating:[Ro,rt],reading:[Ii,Tr],updating:[fu,rt],deleting:[yf,rt]})})),this.Transaction=(S=this,Zt(Vo.prototype,function(M,z,P,B,L){var Y=this;M!=="readonly"&&z.forEach(function(W){W=(W=P[W])==null?void 0:W.yProps,W&&(z=z.concat(W.map(function($){return $.updatesTable})))}),this.db=S,this.mode=M,this.storeNames=z,this.schema=P,this.chromeTransactionDurability=B,this.idbtrans=null,this.on=js(this,"complete","error","abort"),this.parent=L||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new _e(function(W,$){Y._resolve=W,Y._reject=$}),this._completion.then(function(){Y.active=!1,Y.on.complete.fire()},function(W){var $=Y.active;return Y.active=!1,Y.on.error.fire(W),Y.parent?Y.parent._reject(W):$&&Y.idbtrans&&Y.idbtrans.abort(),ht(W)})})),this.Version=(E=this,Zt(wf.prototype,function(M){this.db=E,this._cfg={version:M,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(C=this,Zt(Xi.prototype,function(M,z,P){if(this.db=C,this._ctx={table:M,index:z===":id"?null:z,or:P},this._cmp=this._ascending=Fe,this._descending=function(B,L){return Fe(L,B)},this._max=function(B,L){return 0<Fe(B,L)?B:L},this._min=function(B,L){return Fe(B,L)<0?B:L},this._IDBKeyRange=C._deps.IDBKeyRange,!this._IDBKeyRange)throw new De.MissingAPI})),this.on("versionchange",function(M){0<M.newVersion?console.warn("Another connection wants to upgrade database '".concat(R.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(R.name,"'. Closing db now to resume the delete request.")),R.close({disableAutoOpen:!1})}),this.on("blocked",function(M){!M.newVersion||M.newVersion<M.oldVersion?console.warn("Dexie.delete('".concat(R.name,"') was blocked")):console.warn("Upgrade '".concat(R.name,"' blocked by other connection holding version ").concat(M.oldVersion/10))}),this._maxKey=kr(p.IDBKeyRange),this._createTransaction=function(M,z,P,B){return new R.Transaction(M,z,P,R._options.chromeTransactionDurability,B)},this._fireOnBlocked=function(M){R.on("blocked").fire(M),$i.filter(function(z){return z.name===R.name&&z!==R&&!z._state.vcFired}).map(function(z){return z.on("versionchange").fire(M)})},this.use(Tu),this.use(ka),this.use(Ef),this.use(Tf),this.use(Su),new Proxy(this,{get:function(M,z,P){var B;return z==="_vip"||(z==="table"?function(L){return Vs(R.table(L),U)}:(B=Reflect.get(M,z,P))instanceof Uo?Vs(B,U):z==="tables"?B.map(function(L){return Vs(L,U)}):z==="_createTransaction"?function(){return Vs(B.apply(this,arguments),U)}:B)}}));this.vip=U,N.forEach(function(M){return M(R)})}var Br,nr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Au=(Da.prototype.subscribe=function(c,p,g){return this._subscribe(c&&typeof c!="function"?c:{next:c,error:p,complete:g})},Da.prototype[nr]=function(){return this},Da);function Da(c){this._subscribe=c}try{Br={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch{Br={indexedDB:null,IDBKeyRange:null}}function Ou(c){var p,g=!1,b=new Au(function(S){var E=q(c),C,R=!1,N={},G={},U={get closed(){return R},unsubscribe:function(){R||(R=!0,C&&C.abort(),M&&en.storagemutated.unsubscribe(P))}},M=(S.start&&S.start(U),!1),z=function(){return Ci(B)},P=function(L){Aa(N,L),$o(G,N)&&z()},B=function(){var L,Y,W;!R&&Br.indexedDB&&(N={},L={},C&&C.abort(),C=new AbortController,W=($=>{var se=xi();try{E&&Bt();var he=_t(c,$);return he=E?he.finally(En):he}finally{se&&Xn()}})(Y={subscr:L,signal:C.signal,requery:z,querier:c,trans:null}),Promise.resolve(W).then(function($){g=!0,p=$,R||Y.signal.aborted||(N={},(se=>{for(var he in se)if(T(se,he))return;return 1})(G=L)||M||(en(Rr,P),M=!0),Ci(function(){return!R&&S.next&&S.next($)}))},function($){g=!1,["DatabaseClosedError","AbortError"].includes($?.name)||R||Ci(function(){R||S.error&&S.error($)})}))};return setTimeout(z,0),U});return b.hasValue=function(){return g},b.getValue=function(){return p},b}var ir=Zn;function Wo(c){var p=Mi;try{Mi=!0,en.storagemutated.fire(c),Xo(c,!0)}finally{Mi=p}}x(ir,a(a({},oe),{delete:function(c){return new ir(c,{addons:[]}).delete()},exists:function(c){return new ir(c,{addons:[]}).open().then(function(p){return p.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(c){try{return p=ir.dependencies,g=p.indexedDB,p=p.IDBKeyRange,(Ea(g)?Promise.resolve(g.databases()).then(function(b){return b.map(function(S){return S.name}).filter(function(S){return S!==Os})}):Io(g,p).toCollection().primaryKeys()).then(c)}catch{return ht(new De.MissingAPI)}var p,g},defineClass:function(){return function(c){y(this,c)}},ignoreTransaction:function(c){return Te.trans?zn(Te.transless,c):c()},vip:Ko,async:function(c){return function(){try{var p=Ls(c.apply(this,arguments));return p&&typeof p.then=="function"?p:_e.resolve(p)}catch(g){return ht(g)}}},spawn:function(c,p,g){try{var b=Ls(c.apply(g,p||[]));return b&&typeof b.then=="function"?b:_e.resolve(b)}catch(S){return ht(S)}},currentTransaction:{get:function(){return Te.trans||null}},waitFor:function(c,p){return c=_e.resolve(typeof c=="function"?ir.ignoreTransaction(c):c).timeout(p||6e4),Te.trans?Te.trans.waitFor(c):c},Promise:_e,debug:{get:function(){return kn},set:function(c){hu(c)}},derive:D,extend:y,props:x,override:F,Events:js,on:en,liveQuery:Ou,extendObservabilitySet:Aa,getByKeyPath:ye,setByKeyPath:fe,delByKeyPath:function(c,p){typeof p=="string"?fe(c,p,void 0):"length"in p&&[].map.call(p,function(g){fe(c,g,void 0)})},shallowClone:ie,deepClone:Yt,getObjectDiff:Ca,cmp:Fe,asap:ne,minKey:-1/0,addons:[],connections:$i,errnames:Ft,dependencies:Br,cache:er,semVer:"4.3.0",version:"4.3.0".split(".").map(function(c){return parseInt(c)}).reduce(function(c,p,g){return c+p/Math.pow(10,2*g)})})),ir.maxKey=kr(ir.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(en(Rr,function(c){Mi||(c=new CustomEvent(Qi,{detail:c}),Mi=!0,dispatchEvent(c),Mi=!1)}),addEventListener(Qi,function(c){c=c.detail,Mi||Wo(c)}));var Lr,Mi=!1,vn=function(){};return typeof BroadcastChannel<"u"&&((vn=function(){(Lr=new BroadcastChannel(Qi)).onmessage=function(c){return c.data&&Wo(c.data)}})(),typeof Lr.unref=="function"&&Lr.unref(),en(Rr,function(c){Mi||Lr.postMessage(c)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(c){if(!Zn.disableBfCache&&c.persisted){kn&&console.debug("Dexie: handling persisted pagehide"),Lr?.close();for(var p=0,g=$i;p<g.length;p++)g[p].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(c){!Zn.disableBfCache&&c.persisted&&(kn&&console.debug("Dexie: handling persisted pageshow"),vn(),Wo({all:new tn(-1/0,[[]])}))})),_e.rejectionMapper=function(c,p){return!c||c instanceof Oe||c instanceof TypeError||c instanceof SyntaxError||!c.name||!ys[c.name]?c:(p=new ys[c.name](p||c.message,c),"stack"in c&&j(p,"stack",{get:function(){return this.inner.stack}}),p)},hu(kn),a(Zn,Object.freeze({__proto__:null,Dexie:Zn,Entity:pu,PropModification:Cr,RangeSet:tn,add:function(c){return new Cr({add:c})},cmp:Fe,default:Zn,liveQuery:Ou,mergeRanges:Zi,rangesOverlap:bu,remove:function(c){return new Cr({remove:c})},replacePrefix:function(c,p){return new Cr({replacePrefix:[c,p]})}}),{default:Zn}),Zn})})(Gc)),Gc.exports}var UO=NO();const fp=eT(UO),L0=Symbol.for("Dexie"),nf=globalThis[L0]||(globalThis[L0]=fp);if(fp.semVer!==nf.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${fp.semVer} and ${nf.semVer}`);const{liveQuery:ok,mergeRanges:lk,rangesOverlap:uk,RangeSet:ck,cmp:fk,Entity:hk,PropModification:dk,replacePrefix:pk,add:mk,remove:yk,DexieYProvider:gk}=nf;function hf(n,t){var r={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(r[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(n);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(n,a[l])&&(r[a[l]]=n[a[l]]);return r}function BO(n,t,r,a){function l(u){return u instanceof r?u:new r(function(f){f(u)})}return new(r||(r=Promise))(function(u,f){function m(w){try{v(a.next(w))}catch(T){f(T)}}function y(w){try{v(a.throw(w))}catch(T){f(T)}}function v(w){w.done?u(w.value):l(w.value).then(m,y)}v((a=a.apply(n,t||[])).next())})}const LO=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class nm extends Error{constructor(t,r="FunctionsError",a){super(t),this.name=r,this.context=a}}class zO extends nm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class z0 extends nm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class V0 extends nm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hp;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(hp||(hp={}));class VO{constructor(t,{headers:r={},customFetch:a,region:l=hp.Any}={}){this.url=t,this.headers=r,this.region=l,this.fetch=LO(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return BO(this,arguments,void 0,function*(r,a={}){var l;let u,f;try{const{headers:m,method:y,body:v,signal:w,timeout:T}=a;let x={},{region:O}=a;O||(O=this.region);const j=new URL(`${this.url}/${r}`);O&&O!=="any"&&(x["x-region"]=O,j.searchParams.set("forceFunctionRegion",O));let D;v&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",D=v):typeof v=="string"?(x["Content-Type"]="text/plain",D=v):typeof FormData<"u"&&v instanceof FormData?D=v:(x["Content-Type"]="application/json",D=JSON.stringify(v)):v&&typeof v!="string"&&!(typeof Blob<"u"&&v instanceof Blob)&&!(v instanceof ArrayBuffer)&&!(typeof FormData<"u"&&v instanceof FormData)?D=JSON.stringify(v):D=v;let H=w;T&&(f=new AbortController,u=setTimeout(()=>f.abort(),T),w?(H=f.signal,w.addEventListener("abort",()=>f.abort())):H=f.signal);const X=yield this.fetch(j.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),m),body:D,signal:H}).catch(ne=>{throw new zO(ne)}),ee=X.headers.get("x-relay-error");if(ee&&ee==="true")throw new z0(X);if(!X.ok)throw new V0(X);let F=((l=X.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),ce;return F==="application/json"?ce=yield X.json():F==="application/octet-stream"||F==="application/pdf"?ce=yield X.blob():F==="text/event-stream"?ce=X:F==="multipart/form-data"?ce=yield X.formData():ce=yield X.text(),{data:ce,error:null,response:X}}catch(m){return{data:null,error:m,response:m instanceof V0||m instanceof z0?m.context:void 0}}finally{u&&clearTimeout(u)}})}}var PO=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},qO=class{constructor(n){var t,r,a;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(r=n.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(a=n.urlLengthLimit)!==null&&a!==void 0?a:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let f=null,m=null,y=null,v=u.status,w=u.statusText;if(u.ok){var T,x;if(r.method!=="HEAD"){var O;const X=await u.text();X===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((O=r.headers.get("Accept"))===null||O===void 0)&&O.includes("application/vnd.pgrst.plan+text"))?m=X:m=JSON.parse(X))}const D=(T=r.headers.get("Prefer"))===null||T===void 0?void 0:T.match(/count=(exact|planned|estimated)/),H=(x=u.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");D&&H&&H.length>1&&(y=parseInt(H[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,v=406,w="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var j;const D=await u.text();try{f=JSON.parse(D),Array.isArray(f)&&u.status===404&&(m=[],f=null,v=200,w="OK")}catch{u.status===404&&D===""?(v=204,w="No Content"):f={message:D}}if(f&&r.isMaybeSingle&&(!(f==null||(j=f.details)===null||j===void 0)&&j.includes("0 rows"))&&(f=null,v=200,w="OK"),f&&r.shouldThrowOnError)throw new PO(f)}return{error:f,data:m,count:y,status:v,statusText:w}});return this.shouldThrowOnError||(l=l.catch(u=>{var f;let m="",y="",v="";const w=u?.cause;if(w){var T,x,O,j;const X=(T=w?.message)!==null&&T!==void 0?T:"",ee=(x=w?.code)!==null&&x!==void 0?x:"";m=`${(O=u?.name)!==null&&O!==void 0?O:"FetchError"}: ${u?.message}`,m+=`

Caused by: ${(j=w?.name)!==null&&j!==void 0?j:"Error"}: ${X}`,ee&&(m+=` (${ee})`),w?.stack&&(m+=`
${w.stack}`)}else{var D;m=(D=u?.stack)!==null&&D!==void 0?D:""}const H=this.url.toString().length;return u?.name==="AbortError"||u?.code==="ABORT_ERR"?(v="",y="Request was aborted (timeout or manual cancellation)",H>this.urlLengthLimit&&(y+=`. Note: Your request URL is ${H} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(w?.name==="HeadersOverflowError"||w?.code==="UND_ERR_HEADERS_OVERFLOW")&&(v="",y="HTTP headers exceeded server limits (typically 16KB)",H>this.urlLengthLimit&&(y+=`. Your request URL is ${H} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=u?.name)!==null&&f!==void 0?f:"FetchError"}: ${u?.message}`,details:m,hint:y,code:v},data:null,count:null,status:0,statusText:""}})),l.then(n,t)}returns(){return this}overrideTypes(){return this}},IO=class extends qO{select(n){let t=!1;const r=(n??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:a=r}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var f;const m=[n?"analyze":null,t?"verbose":null,r?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),y=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${y}"; options=${m};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const P0=new RegExp("[,()]");var ho=class extends IO{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){const r=Array.from(new Set(t)).map(a=>typeof a=="string"&&P0.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}notIn(n,t){const r=Array.from(new Set(t)).map(a=>typeof a=="string"&&P0.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`not.in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${l}fts${u}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}},KO=class{constructor(n,{headers:t={},schema:r,fetch:a,urlLengthLimit:l=8e3}){this.url=n,this.headers=new Headers(t),this.schema=r,this.fetch=a,this.urlLengthLimit=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,t){const{head:r=!1,count:a}=t??{},l=r?"HEAD":"GET";let u=!1;const f=(n??"*").split("").map(v=>/\s/.test(v)&&!u?"":(v==='"'&&(u=!u),v)).join(""),{url:m,headers:y}=this.cloneRequestState();return m.searchParams.set("select",f),a&&y.append("Prefer",`count=${a}`),new ho({method:l,url:m,headers:y,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:t,defaultToNull:r=!0}={}){var a;const l="POST",{url:u,headers:f}=this.cloneRequestState();if(t&&f.append("Prefer",`count=${t}`),r||f.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(m.length>0){const y=[...new Set(m)].map(v=>`"${v}"`);u.searchParams.set("columns",y.join(","))}}return new ho({method:l,url:u,headers:f,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:a,defaultToNull:l=!0}={}){var u;const f="POST",{url:m,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&m.searchParams.set("on_conflict",t),a&&y.append("Prefer",`count=${a}`),l||y.append("Prefer","missing=default"),Array.isArray(n)){const v=n.reduce((w,T)=>w.concat(Object.keys(T)),[]);if(v.length>0){const w=[...new Set(v)].map(T=>`"${T}"`);m.searchParams.set("columns",w.join(","))}}return new ho({method:f,url:m,headers:y,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:t}={}){var r;const a="PATCH",{url:l,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new ho({method:a,url:l,headers:u,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var t;const r="DELETE",{url:a,headers:l}=this.cloneRequestState();return n&&l.append("Prefer",`count=${n}`),new ho({method:r,url:a,headers:l,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Jl(n){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(n)}function HO(n,t){if(Jl(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,t);if(Jl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function GO(n){var t=HO(n,"string");return Jl(t)=="symbol"?t:t+""}function $O(n,t,r){return(t=GO(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function q0(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),r.push.apply(r,a)}return r}function jc(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q0(Object(r),!0).forEach(function(a){$O(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):q0(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}var YO=class dw{constructor(t,{headers:r={},schema:a,fetch:l,timeout:u,urlLengthLimit:f=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=a,this.urlLengthLimit=f;const m=l??globalThis.fetch;u!==void 0&&u>0?this.fetch=(y,v)=>{const w=new AbortController,T=setTimeout(()=>w.abort(),u),x=v?.signal;if(x){if(x.aborted)return clearTimeout(T),m(y,v);const O=()=>{clearTimeout(T),w.abort()};return x.addEventListener("abort",O,{once:!0}),m(y,jc(jc({},v),{},{signal:w.signal})).finally(()=>{clearTimeout(T),x.removeEventListener("abort",O)})}return m(y,jc(jc({},v),{},{signal:w.signal})).finally(()=>clearTimeout(T))}:this.fetch=m}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new KO(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new dw(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:a=!1,get:l=!1,count:u}={}){var f;let m;const y=new URL(`${this.url}/rpc/${t}`);let v;const w=O=>O!==null&&typeof O=="object"&&(!Array.isArray(O)||O.some(w)),T=a&&Object.values(r).some(w);T?(m="POST",v=r):a||l?(m=a?"HEAD":"GET",Object.entries(r).filter(([O,j])=>j!==void 0).map(([O,j])=>[O,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([O,j])=>{y.searchParams.append(O,j)})):(m="POST",v=r);const x=new Headers(this.headers);return T?x.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&x.set("Prefer",`count=${u}`),new ho({method:m,url:y,headers:x,schema:this.schemaName,body:v,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class FO{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const a=r.versions;if(a&&a.node){const l=a.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const a=this.getWebSocketConstructor();return new a(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const XO="2.95.3",JO=`realtime-js/${XO}`,QO="1.0.0",pw="2.0.0",I0=pw,dp=1e4,WO=1e3,ZO=100;var ls;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ls||(ls={}));var Jt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Jt||(Jt={}));var _i;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(_i||(_i={}));var pp;(function(n){n.websocket="websocket"})(pp||(pp={}));var ia;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ia||(ia={}));class eC{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,a;const l=(a=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(t){var r,a;const l=(a=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},f=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(t,r,a){var l,u;const f=t.topic,m=(l=t.ref)!==null&&l!==void 0?l:"",y=(u=t.join_ref)!==null&&u!==void 0?u:"",v=t.payload.event,w=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},T=Object.keys(w).length===0?"":JSON.stringify(w);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(T.length>255)throw new Error(`metadata length ${T.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+m.length+f.length+v.length+T.length,O=new ArrayBuffer(this.HEADER_LENGTH+x);let j=new DataView(O),D=0;j.setUint8(D++,this.KINDS.userBroadcastPush),j.setUint8(D++,y.length),j.setUint8(D++,m.length),j.setUint8(D++,f.length),j.setUint8(D++,v.length),j.setUint8(D++,T.length),j.setUint8(D++,r),Array.from(y,X=>j.setUint8(D++,X.charCodeAt(0))),Array.from(m,X=>j.setUint8(D++,X.charCodeAt(0))),Array.from(f,X=>j.setUint8(D++,X.charCodeAt(0))),Array.from(v,X=>j.setUint8(D++,X.charCodeAt(0))),Array.from(T,X=>j.setUint8(D++,X.charCodeAt(0)));var H=new Uint8Array(O.byteLength+a.byteLength);return H.set(new Uint8Array(O),0),H.set(new Uint8Array(a),O.byteLength),H.buffer}decode(t,r){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return r(a)}if(typeof t=="string"){const a=JSON.parse(t),[l,u,f,m,y]=a;return r({join_ref:l,ref:u,topic:f,event:m,payload:y})}return r({})}_binaryDecode(t){const r=new DataView(t),a=r.getUint8(0),l=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,l)}_decodeUserBroadcast(t,r,a){const l=r.getUint8(1),u=r.getUint8(2),f=r.getUint8(3),m=r.getUint8(4);let y=this.HEADER_LENGTH+4;const v=a.decode(t.slice(y,y+l));y=y+l;const w=a.decode(t.slice(y,y+u));y=y+u;const T=a.decode(t.slice(y,y+f));y=y+f;const x=t.slice(y,t.byteLength),O=m===this.JSON_ENCODING?JSON.parse(a.decode(x)):x,j={type:this.BROADCAST_EVENT,event:w,payload:O};return f>0&&(j.meta=JSON.parse(T)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>r.includes(a)))}}class mw{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(wt||(wt={}));const K0=(n,t,r={})=>{var a;const l=(a=r.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((u,f)=>(u[f]=tC(f,n,t,l),u),{}):{}},tC=(n,t,r,a)=>{const l=t.find(m=>m.name===n),u=l?.type,f=r[n];return u&&!a.includes(u)?yw(u,f):mp(f)},yw=(n,t)=>{if(n.charAt(0)==="_"){const r=n.slice(1,n.length);return sC(t,r)}switch(n){case wt.bool:return nC(t);case wt.float4:case wt.float8:case wt.int2:case wt.int4:case wt.int8:case wt.numeric:case wt.oid:return iC(t);case wt.json:case wt.jsonb:return rC(t);case wt.timestamp:return aC(t);case wt.abstime:case wt.date:case wt.daterange:case wt.int4range:case wt.int8range:case wt.money:case wt.reltime:case wt.text:case wt.time:case wt.timestamptz:case wt.timetz:case wt.tsrange:case wt.tstzrange:return mp(t);default:return mp(t)}},mp=n=>n,nC=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},iC=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},rC=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},sC=(n,t)=>{if(typeof n!="string")return n;const r=n.length-1,a=n[r];if(n[0]==="{"&&a==="}"){let u;const f=n.slice(1,r);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(m=>yw(t,m))}return n},aC=n=>typeof n=="string"?n.replace(" ","T"):n,gw=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Md{constructor(t,r,a={},l=dp){this.channel=t,this.event=r,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var a;return this._hasReceived(t)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var H0;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(H0||(H0={}));class ql{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:u,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ql.syncState(this.state,l,u,f),this.pendingDiffs.forEach(y=>{this.state=ql.syncDiff(this.state,y,u,f)}),this.pendingDiffs=[],m()}),this.channel._on(a.diff,{},l=>{const{onJoin:u,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=ql.syncDiff(this.state,l,u,f),m())}),this.onJoin((l,u,f)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:f})}),this.onLeave((l,u,f)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,a,l){const u=this.cloneDeep(t),f=this.transformState(r),m={},y={};return this.map(u,(v,w)=>{f[v]||(y[v]=w)}),this.map(f,(v,w)=>{const T=u[v];if(T){const x=w.map(H=>H.presence_ref),O=T.map(H=>H.presence_ref),j=w.filter(H=>O.indexOf(H.presence_ref)<0),D=T.filter(H=>x.indexOf(H.presence_ref)<0);j.length>0&&(m[v]=j),D.length>0&&(y[v]=D)}else m[v]=w}),this.syncDiff(u,{joins:m,leaves:y},a,l)}static syncDiff(t,r,a,l){const{joins:u,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(u,(m,y)=>{var v;const w=(v=t[m])!==null&&v!==void 0?v:[];if(t[m]=this.cloneDeep(y),w.length>0){const T=t[m].map(O=>O.presence_ref),x=w.filter(O=>T.indexOf(O.presence_ref)<0);t[m].unshift(...x)}a(m,w,y)}),this.map(f,(m,y)=>{let v=t[m];if(!v)return;const w=y.map(T=>T.presence_ref);v=v.filter(T=>w.indexOf(T.presence_ref)<0),t[m]=v,l(m,v,y),v.length===0&&delete t[m]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(a=>r(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,a)=>{const l=t[a];return"metas"in l?r[a]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[a]=l,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var G0;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(G0||(G0={}));var Il;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Il||(Il={}));var br;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(br||(br={}));class wo{constructor(t,r={config:{}},a){var l,u;if(this.topic=t,this.params=r,this.socket=a,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Md(this,_i.join,this.params,this.timeout),this.rejoinTimer=new mw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_i.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new ql(this),this.broadcastEndpointURL=gw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var a,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Jt.closed){const{config:{broadcast:f,presence:m,private:y}}=this.params,v=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(O=>O.filter))!==null&&l!==void 0?l:[],w=!!this.bindings[Il.PRESENCE]&&this.bindings[Il.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,T={},x={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:w}),postgres_changes:v,private:y};this.socket.accessTokenValue&&(T.access_token=this.socket.accessTokenValue),this._onError(O=>t?.(br.CHANNEL_ERROR,O)),this._onClose(()=>t?.(br.CLOSED)),this.updateJoinPayload(Object.assign({config:x},T)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:O})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),O===void 0){t?.(br.SUBSCRIBED);return}else{const D=this.bindings.postgres_changes,H=(j=D?.length)!==null&&j!==void 0?j:0,X=[];for(let ee=0;ee<H;ee++){const F=D[ee],{filter:{event:ce,schema:ne,table:ye,filter:fe}}=F,ie=O&&O[ee];if(ie&&ie.event===ce&&wo.isFilterValueEqual(ie.schema,ne)&&wo.isFilterValueEqual(ie.table,ye)&&wo.isFilterValueEqual(ie.filter,fe))X.push(Object.assign(Object.assign({},F),{id:ie.id}));else{this.unsubscribe(),this.state=Jt.errored,t?.(br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=X,t&&t(br.SUBSCRIBED);return}}).receive("error",O=>{this.state=Jt.errored,t?.(br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{t?.(br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,a){return this.state===Jt.joined&&t===Il.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,a)}async httpSend(t,r,a={}){var l;if(r==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(m.status===202)return{success:!0};let y=m.statusText;try{const v=await m.json();y=v.error||v.message||y}catch{}return Promise.reject(new Error(y))}async send(t,r={}){var a,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:f}=t,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=v.body)===null||l===void 0?void 0:l.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,m,y;const v=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((y=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||y===void 0)&&y.ack)&&u("ok"),v.receive("ok",()=>u("ok")),v.receive("error",()=>u("error")),v.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_i.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new Md(this,_i.leave,{},t),a.receive("ok",()=>{r(),l("ok")}).receive("timeout",()=>{r(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Jt.closed,this.bindings={}}async _fetchWithTimeout(t,r,a){const l=new AbortController,u=setTimeout(()=>l.abort(),a),f=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:l.signal}));return clearTimeout(u),f}_push(t,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Md(this,t,r,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ZO){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,a){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,a){var l,u;const f=t.toLocaleLowerCase(),{close:m,error:y,leave:v,join:w}=_i;if(a&&[m,y,v,w].indexOf(f)>=0&&a!==this._joinRef())return;let x=this._onMessage(f,r,a);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(O=>{var j,D,H;return((j=O.filter)===null||j===void 0?void 0:j.event)==="*"||((H=(D=O.filter)===null||D===void 0?void 0:D.event)===null||H===void 0?void 0:H.toLocaleLowerCase())===f}).map(O=>O.callback(x,a)):(u=this.bindings[f])===null||u===void 0||u.filter(O=>{var j,D,H,X,ee,F;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in O){const ce=O.id,ne=(j=O.filter)===null||j===void 0?void 0:j.event;return ce&&((D=r.ids)===null||D===void 0?void 0:D.includes(ce))&&(ne==="*"||ne?.toLocaleLowerCase()===((H=r.data)===null||H===void 0?void 0:H.type.toLocaleLowerCase()))}else{const ce=(ee=(X=O?.filter)===null||X===void 0?void 0:X.event)===null||ee===void 0?void 0:ee.toLocaleLowerCase();return ce==="*"||ce===((F=r?.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===f}).map(O=>{if(typeof x=="object"&&"ids"in x){const j=x.data,{schema:D,table:H,commit_timestamp:X,type:ee,errors:F}=j;x=Object.assign(Object.assign({},{schema:D,table:H,commit_timestamp:X,eventType:ee,new:{},old:{},errors:F}),this._getPayloadRecords(j))}O.callback(x,a)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,a){const l=t.toLocaleLowerCase(),u={type:l,filter:r,callback:a};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(t,r){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&wo.isEqual(l.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const a in t)if(t[a]!==r[a])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(_i.close,{},t)}_onError(t){this._on(_i.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=K0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=K0(t.columns,t.old_record)),r}}const Nd=()=>{},kc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oC=[1e3,2e3,5e3,1e4],lC=1e4,uC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cC{constructor(t,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dp,this.transport=null,this.heartbeatIntervalMs=kc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nd,this.ref=0,this.reconnectTimer=null,this.vsn=I0,this.logger=Nd,this.conn=null,this.sendBuffer=[],this.serializer=new eC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${pp.websocket}`,this.httpEndpoint=gw(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=FO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,a){this.logger(t,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case ls.connecting:return ia.Connecting;case ls.open:return ia.Open;case ls.closing:return ia.Closing;default:return ia.Closed}}isConnected(){return this.connectionState()===ia.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const a=`realtime:${t}`,l=this.getChannels().find(u=>u.topic===a);if(l)return l;{const u=new wo(`realtime:${t}`,r,this);return this.channels.push(u),u}}push(t){const{topic:r,event:a,payload:l,ref:u}=t,f=()=>{this.encode(t,m=>{var y;(y=this.conn)===null||y===void 0||y.send(m)})};this.log("push",`${r} ${a} (${u})`,l),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(WO,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},kc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const v=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",v)}catch(w){this.log("error","error in heartbeat callback",w)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:l,payload:u,ref:f}=r,m=f?`(${f})`:"",y=u.status||"";this.log("receive",`${y} ${a} ${l} ${m}`.trim(),u),this.channels.filter(v=>v._isMember(a)).forEach(v=>v._trigger(l,u,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ls.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ls.open||this.conn.readyState===ls.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(_i.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const a=t.match(/\?/)?"&":"?",l=new URLSearchParams(r);return`${t}${a}${l}`}_workerObjectUrl(t){let r;if(t)r=t;else{const a=new Blob([uC],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,a=!1;if(t)r=t,a=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),r=this.accessTokenValue}else r=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(l=>{const u={access_token:r,version:JO};r&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(_i.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(r)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new mw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},kc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,a,l,u,f,m,y,v,w,T,x,O;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:dp,this.heartbeatIntervalMs=(l=t?.heartbeatIntervalMs)!==null&&l!==void 0?l:kc.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=t?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=t?.heartbeatCallback)!==null&&m!==void 0?m:Nd,this.vsn=(y=t?.vsn)!==null&&y!==void 0?y:I0,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=t?.reconnectAfterMs)!==null&&v!==void 0?v:(j=>oC[j-1]||lC),this.vsn){case QO:this.encode=(w=t?.encode)!==null&&w!==void 0?w:((j,D)=>D(JSON.stringify(j))),this.decode=(T=t?.decode)!==null&&T!==void 0?T:((j,D)=>D(JSON.parse(j)));break;case pw:this.encode=(x=t?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(O=t?.decode)!==null&&O!==void 0?O:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Ql=class extends Error{constructor(n,t){super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function fC(n,t,r){const a=new URL(t,n);if(r)for(const[l,u]of Object.entries(r))u!==void 0&&a.searchParams.set(l,u);return a.toString()}async function hC(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function dC(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:l,body:u,headers:f}){const m=fC(n.baseUrl,a,l),y=await hC(n.auth),v=await t(m,{method:r,headers:{...u?{"Content-Type":"application/json"}:{},...y,...f},body:u?JSON.stringify(u):void 0}),w=await v.text(),T=(v.headers.get("content-type")||"").includes("application/json"),x=T&&w?JSON.parse(w):w;if(!v.ok){const O=T?x:void 0,j=O?.error;throw new Ql(j?.message??`Request failed with status ${v.status}`,{status:v.status,icebergType:j?.type,icebergCode:j?.code,details:O})}return{status:v.status,headers:v.headers,data:x}}}}function Dc(n){return n.join("")}var pC=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:Dc(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(n,t){const r={namespace:n.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dc(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dc(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dc(n.namespace)}`}),!0}catch(t){if(t instanceof Ql&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(r){if(r instanceof Ql&&r.status===409)return;throw r}}};function ro(n){return n.join("")}var mC=class{constructor(n,t="",r){this.client=n,this.prefix=t,this.accessDelegation=r}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ro(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ro(n.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(n,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ro(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ro(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ro(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ro(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(r){if(r instanceof Ql&&r.status===404)return!1;throw r}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(r){if(r instanceof Ql&&r.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw r}}},yC=class{constructor(n){let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const r=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=dC({baseUrl:r,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new pC(this.client,t),this.tableOps=new mC(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}},df=class extends Error{constructor(n,t="storage",r,a){super(n),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=a}};function pf(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Mc=class extends df{constructor(n,t,r,a="storage"){super(n,a,t,r),this.name=a==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vw=class extends df{constructor(n,t,r="storage"){super(n,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const gC=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),vC=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},yp=n=>{if(Array.isArray(n))return n.map(r=>yp(r));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([r,a])=>{const l=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[l]=yp(a)}),t},bC=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Wl(n){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(n)}function _C(n,t){if(Wl(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,t);if(Wl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function wC(n){var t=_C(n,"string");return Wl(t)=="symbol"?t:t+""}function SC(n,t,r){return(t=wC(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function $0(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),r.push.apply(r,a)}return r}function ze(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$0(Object(r),!0).forEach(function(a){SC(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):$0(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}const Y0=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},TC=async(n,t,r,a)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!r?.noResolveJson){const l=n,u=l.status||500;if(typeof l.json=="function")l.json().then(f=>{const m=f?.statusCode||f?.code||u+"";t(new Mc(Y0(f),u,m,a))}).catch(()=>{if(a==="vectors"){const f=u+"";t(new Mc(l.statusText||`HTTP ${u} error`,u,f,a))}else{const f=u+"";t(new Mc(l.statusText||`HTTP ${u} error`,u,f,a))}});else{const f=u+"";t(new Mc(l.statusText||`HTTP ${u} error`,u,f,a))}}else t(new vw(Y0(n),n,a))},EC=(n,t,r,a)=>{const l={method:n,headers:t?.headers||{}};return n==="GET"||n==="HEAD"||!a?ze(ze({},l),r):(vC(a)?(l.headers=ze({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(a)):l.body=a,t?.duplex&&(l.duplex=t.duplex),ze(ze({},l),r))};async function Nl(n,t,r,a,l,u,f){return new Promise((m,y)=>{n(r,EC(t,a,l,u)).then(v=>{if(!v.ok)throw v;if(a?.noResolveJson)return v;if(f==="vectors"){const w=v.headers.get("content-type");if(v.headers.get("content-length")==="0"||v.status===204)return{};if(!w||!w.includes("application/json"))return{}}return v.json()}).then(v=>m(v)).catch(v=>TC(v,y,a,f))})}function bw(n="storage"){return{get:async(t,r,a,l)=>Nl(t,"GET",r,a,l,void 0,n),post:async(t,r,a,l,u)=>Nl(t,"POST",r,l,u,a,n),put:async(t,r,a,l,u)=>Nl(t,"PUT",r,l,u,a,n),head:async(t,r,a,l)=>Nl(t,"HEAD",r,ze(ze({},a),{},{noResolveJson:!0}),l,void 0,n),remove:async(t,r,a,l,u)=>Nl(t,"DELETE",r,l,u,a,n)}}const xC=bw("storage"),{get:Zl,post:bi,put:gp,head:AC,remove:im}=xC,Fn=bw("vectors");var Co=class{constructor(n,t={},r,a="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.fetch=gC(r),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var t=this;try{return{data:await n(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(pf(r))return{data:null,error:r};throw r}}},OC=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(pf(t))return{data:null,error:t};throw t}}};let _w;_w=Symbol.toStringTag;var CC=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[_w]="BlobDownloadBuilder",this.promise=null}asStream(){return new OC(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(pf(t))return{data:null,error:t};throw t}}};const RC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},F0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var jC=class extends Co{constructor(n,t={},r,a){super(n,t,a,"storage"),this.bucketId=r}async uploadOrUpdate(n,t,r,a){var l=this;return l.handleOperation(async()=>{let u;const f=ze(ze({},F0),a);let m=ze(ze({},l.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const y=f.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),y&&u.append("metadata",l.encodeMetadata(y)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.has("cacheControl")||u.append("cacheControl",f.cacheControl),y&&!u.has("metadata")&&u.append("metadata",l.encodeMetadata(y))):(u=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,y&&(m["x-metadata"]=l.toBase64(l.encodeMetadata(y))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!f.duplex&&(f.duplex="half")),a?.headers&&(m=ze(ze({},m),a.headers));const v=l._removeEmptyFolders(t),w=l._getFinalPath(v),T=await(n=="PUT"?gp:bi)(l.fetch,`${l.url}/object/${w}`,u,ze({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{path:v,id:T.Id,fullPath:T.Key}})}async upload(n,t,r){return this.uploadOrUpdate("POST",n,t,r)}async uploadToSignedUrl(n,t,r,a){var l=this;const u=l._removeEmptyFolders(n),f=l._getFinalPath(u),m=new URL(l.url+`/object/upload/sign/${f}`);return m.searchParams.set("token",t),l.handleOperation(async()=>{let y;const v=ze({upsert:F0.upsert},a),w=ze(ze({},l.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&r instanceof Blob?(y=new FormData,y.append("cacheControl",v.cacheControl),y.append("",r)):typeof FormData<"u"&&r instanceof FormData?(y=r,y.append("cacheControl",v.cacheControl)):(y=r,w["cache-control"]=`max-age=${v.cacheControl}`,w["content-type"]=v.contentType),{path:u,fullPath:(await gp(l.fetch,m.toString(),y,{headers:w})).Key}})}async createSignedUploadUrl(n,t){var r=this;return r.handleOperation(async()=>{let a=r._getFinalPath(n);const l=ze({},r.headers);t?.upsert&&(l["x-upsert"]="true");const u=await bi(r.fetch,`${r.url}/object/upload/sign/${a}`,{},{headers:l}),f=new URL(r.url+u.url),m=f.searchParams.get("token");if(!m)throw new df("No token returned by API");return{signedUrl:f.toString(),path:n,token:m}})}async update(n,t,r){return this.uploadOrUpdate("PUT",n,t,r)}async move(n,t,r){var a=this;return a.handleOperation(async()=>await bi(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:a.headers}))}async copy(n,t,r){var a=this;return a.handleOperation(async()=>({path:(await bi(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(n,t,r){var a=this;return a.handleOperation(async()=>{let l=a._getFinalPath(n),u=await bi(a.fetch,`${a.url}/object/sign/${l}`,ze({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:a.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${a.url}${u.signedURL}${f}`)}})}async createSignedUrls(n,t,r){var a=this;return a.handleOperation(async()=>{const l=await bi(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:n},{headers:a.headers}),u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return l.map(f=>ze(ze({},f),{},{signedUrl:f.signedURL?encodeURI(`${a.url}${f.signedURL}${u}`):null}))})}download(n,t,r){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(t?.transform||{}),u=l?`?${l}`:"",f=this._getFinalPath(n),m=()=>Zl(this.fetch,`${this.url}/${a}/${f}${u}`,{headers:this.headers,noResolveJson:!0},r);return new CC(m,this.shouldThrowOnError)}async info(n){var t=this;const r=t._getFinalPath(n);return t.handleOperation(async()=>yp(await Zl(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(n){var t=this;const r=t._getFinalPath(n);try{return await AC(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(pf(a)&&a instanceof vw){const l=a.originalError;if([400,404].includes(l?.status))return{data:!1,error:a}}throw a}}getPublicUrl(n,t){const r=this._getFinalPath(n),a=[],l=t?.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&a.push(l);const u=typeof t?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(t?.transform||{});f!==""&&a.push(f);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${m}`)}}}async remove(n){var t=this;return t.handleOperation(async()=>await im(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:n},{headers:t.headers}))}async list(n,t,r){var a=this;return a.handleOperation(async()=>{const l=ze(ze(ze({},RC),t),{},{prefix:n||""});return await bi(a.fetch,`${a.url}/object/list/${a.bucketId}`,l,{headers:a.headers},r)})}async listV2(n,t){var r=this;return r.handleOperation(async()=>{const a=ze({},n);return await bi(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,a,{headers:r.headers},t)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};const kC="2.95.3",uu={"X-Client-Info":`storage-js/${kC}`};var DC=class extends Co{constructor(n,t={},r,a){const l=new URL(n);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase."));const u=l.href.replace(/\/$/,""),f=ze(ze({},uu),t);super(u,f,r,"storage")}async listBuckets(n){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(n);return await Zl(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(n){var t=this;return t.handleOperation(async()=>await Zl(t.fetch,`${t.url}/bucket/${n}`,{headers:t.headers}))}async createBucket(n,t={public:!1}){var r=this;return r.handleOperation(async()=>await bi(r.fetch,`${r.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(n,t){var r=this;return r.handleOperation(async()=>await gp(r.fetch,`${r.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(n){var t=this;return t.handleOperation(async()=>await bi(t.fetch,`${t.url}/bucket/${n}/empty`,{},{headers:t.headers}))}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await im(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},MC=class extends Co{constructor(n,t={},r){const a=n.replace(/\/$/,""),l=ze(ze({},uu),t);super(a,l,r,"storage")}async createBucket(n){var t=this;return t.handleOperation(async()=>await bi(t.fetch,`${t.url}/bucket`,{name:n},{headers:t.headers}))}async listBuckets(n){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;n?.limit!==void 0&&r.set("limit",n.limit.toString()),n?.offset!==void 0&&r.set("offset",n.offset.toString()),n?.sortColumn&&r.set("sortColumn",n.sortColumn),n?.sortOrder&&r.set("sortOrder",n.sortOrder),n?.search&&r.set("search",n.search);const a=r.toString(),l=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return await Zl(t.fetch,l,{headers:t.headers})})}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await im(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}))}from(n){var t=this;if(!bC(n))throw new df("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new yC({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(l,u){const f=l[u];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(l,m),error:null}}catch(y){if(a)throw y;return{data:null,error:y}}}}})}},NC=class extends Co{constructor(n,t={},r){const a=n.replace(/\/$/,""),l=ze(ze({},uu),{},{"Content-Type":"application/json"},t);super(a,l,r,"vectors")}async createIndex(n){var t=this;return t.handleOperation(async()=>await Fn.post(t.fetch,`${t.url}/CreateIndex`,n,{headers:t.headers})||{})}async getIndex(n,t){var r=this;return r.handleOperation(async()=>await Fn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:r.headers}))}async listIndexes(n){var t=this;return t.handleOperation(async()=>await Fn.post(t.fetch,`${t.url}/ListIndexes`,n,{headers:t.headers}))}async deleteIndex(n,t){var r=this;return r.handleOperation(async()=>await Fn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:r.headers})||{})}},UC=class extends Co{constructor(n,t={},r){const a=n.replace(/\/$/,""),l=ze(ze({},uu),{},{"Content-Type":"application/json"},t);super(a,l,r,"vectors")}async putVectors(n){var t=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Fn.post(t.fetch,`${t.url}/PutVectors`,n,{headers:t.headers})||{})}async getVectors(n){var t=this;return t.handleOperation(async()=>await Fn.post(t.fetch,`${t.url}/GetVectors`,n,{headers:t.headers}))}async listVectors(n){var t=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return t.handleOperation(async()=>await Fn.post(t.fetch,`${t.url}/ListVectors`,n,{headers:t.headers}))}async queryVectors(n){var t=this;return t.handleOperation(async()=>await Fn.post(t.fetch,`${t.url}/QueryVectors`,n,{headers:t.headers}))}async deleteVectors(n){var t=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Fn.post(t.fetch,`${t.url}/DeleteVectors`,n,{headers:t.headers})||{})}},BC=class extends Co{constructor(n,t={},r){const a=n.replace(/\/$/,""),l=ze(ze({},uu),{},{"Content-Type":"application/json"},t);super(a,l,r,"vectors")}async createBucket(n){var t=this;return t.handleOperation(async()=>await Fn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{})}async getBucket(n){var t=this;return t.handleOperation(async()=>await Fn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:n},{headers:t.headers}))}async listBuckets(n={}){var t=this;return t.handleOperation(async()=>await Fn.post(t.fetch,`${t.url}/ListVectorBuckets`,n,{headers:t.headers}))}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await Fn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{})}},LC=class extends BC{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new zC(this.url,this.headers,n,this.fetch)}async createBucket(n){var t=()=>super.createBucket,r=this;return t().call(r,n)}async getBucket(n){var t=()=>super.getBucket,r=this;return t().call(r,n)}async listBuckets(n={}){var t=()=>super.listBuckets,r=this;return t().call(r,n)}async deleteBucket(n){var t=()=>super.deleteBucket,r=this;return t().call(r,n)}},zC=class extends NC{constructor(n,t,r,a){super(n,t,a),this.vectorBucketName=r}async createIndex(n){var t=()=>super.createIndex,r=this;return t().call(r,ze(ze({},n),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(n={}){var t=()=>super.listIndexes,r=this;return t().call(r,ze(ze({},n),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(n){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,n)}async deleteIndex(n){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,n)}index(n){return new VC(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},VC=class extends UC{constructor(n,t,r,a,l){super(n,t,l),this.vectorBucketName=r,this.indexName=a}async putVectors(n){var t=()=>super.putVectors,r=this;return t().call(r,ze(ze({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(n){var t=()=>super.getVectors,r=this;return t().call(r,ze(ze({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(n={}){var t=()=>super.listVectors,r=this;return t().call(r,ze(ze({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(n){var t=()=>super.queryVectors,r=this;return t().call(r,ze(ze({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(n){var t=()=>super.deleteVectors,r=this;return t().call(r,ze(ze({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},PC=class extends DC{constructor(n,t={},r,a){super(n,t,r,a)}from(n){return new jC(this.url,this.headers,n,this.fetch)}get vectors(){return new LC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new MC(this.url+"/iceberg",this.headers,this.fetch)}};const ww="2.95.3",po=30*1e3,vp=3,Ud=vp*po,qC="http://localhost:9999",IC="supabase.auth.token",KC={"X-Client-Info":`gotrue-js/${ww}`},bp="X-Supabase-Api-Version",Sw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GC=600*1e3;class eu extends Error{constructor(t,r,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function Me(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class $C extends eu{constructor(t,r,a){super(t,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function YC(n){return Me(n)&&n.name==="AuthApiError"}class ra extends eu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class wr extends eu{constructor(t,r,a,l){super(t,a,l),this.name=r,this.status=a}}class Yn extends wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bd(n){return Me(n)&&n.name==="AuthSessionMissingError"}class so extends wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Nc extends wr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Uc extends wr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FC(n){return Me(n)&&n.name==="AuthImplicitGrantRedirectError"}class X0 extends wr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class XC extends wr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class _p extends wr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ld(n){return Me(n)&&n.name==="AuthRetryableFetchError"}class J0 extends wr{constructor(t,r,a){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class wp extends wr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const rf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Q0=` 	
\r=`.split(""),JC=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<Q0.length;t+=1)n[Q0[t].charCodeAt(0)]=-2;for(let t=0;t<rf.length;t+=1)n[rf[t].charCodeAt(0)]=t;return n})();function W0(n,t,r){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(rf[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(rf[a]),t.queuedBits-=6}}function Tw(n,t,r){const a=JC[n];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Z0(n){const t=[],r=f=>{t.push(String.fromCodePoint(f))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=f=>{ZC(f,a,r)};for(let f=0;f<n.length;f+=1)Tw(n.charCodeAt(f),l,u);return t.join("")}function QC(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function WC(n,t){for(let r=0;r<n.length;r+=1){let a=n.charCodeAt(r);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(n.charCodeAt(r+1)-56320&65535|l)+65536,r+=1}QC(a,t)}}function ZC(n,t,r){if(t.utf8seq===0){if(n<=127){r(n);return}for(let a=1;a<6;a+=1)if((n>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function To(n){const t=[],r={queue:0,queuedBits:0},a=l=>{t.push(l)};for(let l=0;l<n.length;l+=1)Tw(n.charCodeAt(l),r,a);return new Uint8Array(t)}function eR(n){const t=[];return WC(n,r=>t.push(r)),new Uint8Array(t)}function oa(n){const t=[],r={queue:0,queuedBits:0},a=l=>{t.push(l)};return n.forEach(l=>W0(l,r,a)),W0(null,r,a),t.join("")}function tR(n){return Math.round(Date.now()/1e3)+n}function nR(){return Symbol("auth-callback")}const hn=()=>typeof window<"u"&&typeof document<"u",Zs={tested:!1,writable:!1},Ew=()=>{if(!hn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zs.tested)return Zs.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Zs.tested=!0,Zs.writable=!0}catch{Zs.tested=!0,Zs.writable=!1}return Zs.writable};function iR(n){const t={},r=new URL(n);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((l,u)=>{t[u]=l})}catch{}return r.searchParams.forEach((a,l)=>{t[l]=a}),t}const xw=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),rR=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",mo=async(n,t,r)=>{await n.setItem(t,JSON.stringify(r))},ea=async(n,t)=>{const r=await n.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},fn=async(n,t)=>{await n.removeItem(t)};class mf{constructor(){this.promise=new mf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}mf.promiseConstructor=Promise;function Bc(n){const t=n.split(".");if(t.length!==3)throw new wp("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!HC.test(t[a]))throw new wp("JWT not in base64url format");return{header:JSON.parse(Z0(t[0])),payload:JSON.parse(Z0(t[1])),signature:To(t[2]),raw:{header:t[0],payload:t[1]}}}async function sR(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function aR(n,t){return new Promise((a,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await n(u);if(!t(u,null,f)){a(f);return}}catch(f){if(!t(u,f)){l(f);return}}})()})}function oR(n){return("0"+n.toString(16)).substr(-2)}function lR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let l="";for(let u=0;u<56;u++)l+=r.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(t),Array.from(t,oR).join("")}async function uR(n){const r=new TextEncoder().encode(n),a=await crypto.subtle.digest("SHA-256",r),l=new Uint8Array(a);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function cR(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const r=await uR(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ao(n,t,r=!1){const a=lR();let l=a;r&&(l+="/PASSWORD_RECOVERY"),await mo(n,`${t}-code-verifier`,l);const u=await cR(a);return[u,a===u?"plain":"s256"]}const fR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hR(n){const t=n.headers.get(bp);if(!t||!t.match(fR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function dR(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function pR(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function oo(n){if(!mR.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zd(){const n={};return new Proxy(n,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yR(n,t){return new Proxy(n,{get:(r,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const u=a.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,l)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,a,l)}})}function eb(n){return JSON.parse(JSON.stringify(n))}const na=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),gR=[502,503,504];async function tb(n){var t;if(!rR(n))throw new _p(na(n),0);if(gR.includes(n.status))throw new _p(na(n),n.status);let r;try{r=await n.json()}catch(u){throw new ra(na(u),u)}let a;const l=hR(n);if(l&&l.getTime()>=Sw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new J0(na(r),n.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Yn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new J0(na(r),n.status,r.weak_password.reasons);throw new $C(na(r),n.status||500,a)}const vR=(n,t,r,a)=>{const l={method:n,headers:t?.headers||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),r))};async function Le(n,t,r,a){var l;const u=Object.assign({},a?.headers);u[bp]||(u[bp]=Sw["2024-01-01"].name),a?.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const f=(l=a?.query)!==null&&l!==void 0?l:{};a?.redirectTo&&(f.redirect_to=a.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",y=await bR(n,t,r+m,{headers:u,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(y):{data:Object.assign({},y),error:null}}async function bR(n,t,r,a,l,u){const f=vR(t,a,l,u);let m;try{m=await n(r,Object.assign({},f))}catch(y){throw console.error(y),new _p(na(y),0)}if(m.ok||await tb(m),a?.noResolveJson)return m;try{return await m.json()}catch(y){await tb(y)}}function gi(n){var t;let r=null;SR(n)&&(r=Object.assign({},n),n.expires_at||(r.expires_at=tR(n.expires_in)));const a=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:r,user:a},error:null}}function nb(n){const t=gi(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(t.data.weak_password=n.weak_password),t}function cs(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function _R(n){return{data:n,error:null}}function wR(n){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:l,verification_type:u}=n,f=hf(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:r,hashed_token:a,redirect_to:l,verification_type:u},y=Object.assign({},f);return{data:{properties:m,user:y},error:null}}function ib(n){return n}function SR(n){return n.access_token&&n.refresh_token&&n.expires_in}const Vd=["global","local","others"];class TR{constructor({url:t="",headers:r={},fetch:a}){this.url=t,this.headers=r,this.fetch=xw(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Vd[0]){if(Vd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vd.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Me(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,r={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:cs})}catch(a){if(Me(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:r}=t,a=hf(t,["options"]),l=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(l.new_email=a?.newEmail,delete l.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:wR,redirectTo:r?.redirectTo})}catch(r){if(Me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:cs})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,a,l,u,f,m,y;try{const v={nextPage:null,lastPage:0,total:0},w=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(u=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:ib});if(w.error)throw w.error;const T=await w.json(),x=(f=w.headers.get("x-total-count"))!==null&&f!==void 0?f:0,O=(y=(m=w.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return O.length>0&&(O.forEach(j=>{const D=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(j.split(";")[1].split("=")[1]);v[`${H}Page`]=D}),v.total=parseInt(x)),{data:Object.assign(Object.assign({},T),v),error:null}}catch(v){if(Me(v))return{data:{users:[]},error:v};throw v}}async getUserById(t){oo(t);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:cs})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){oo(t);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:cs})}catch(a){if(Me(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,r=!1){oo(t);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:cs})}catch(a){if(Me(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){oo(t.userId);try{const{data:r,error:a}=await Le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:r,error:a}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _deleteFactor(t){oo(t.userId),oo(t.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,a,l,u,f,m,y;try{const v={nextPage:null,lastPage:0,total:0},w=await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(u=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:ib});if(w.error)throw w.error;const T=await w.json(),x=(f=w.headers.get("x-total-count"))!==null&&f!==void 0?f:0,O=(y=(m=w.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return O.length>0&&(O.forEach(j=>{const D=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(j.split(";")[1].split("=")[1]);v[`${H}Page`]=D}),v.total=parseInt(x)),{data:Object.assign(Object.assign({},T),v),error:null}}catch(v){if(Me(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Me(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await Le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}}function rb(n={}){return{getItem:t=>n[t]||null,setItem:(t,r)=>{n[t]=r},removeItem:t=>{delete n[t]}}}const lo={debug:!!(globalThis&&Ew()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Aw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ER extends Aw{}async function xR(n,t,r){lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),lo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await r()}finally{lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(t===0)throw lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new ER(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(lo.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function AR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ow(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function OR(n){return parseInt(n,16)}function CR(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function RR(n){var t;const{chainId:r,domain:a,expirationTime:l,issuedAt:u=new Date,nonce:f,notBefore:m,requestId:y,resources:v,scheme:w,uri:T,version:x}=n;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!T)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const O=Ow(n.address),j=w?`${w}://${a}`:a,D=n.statement?`${n.statement}
`:"",H=`${j} wants you to sign in with your Ethereum account:
${O}

${D}`;let X=`URI: ${T}
Version: ${x}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${u.toISOString()}`;if(l&&(X+=`
Expiration Time: ${l.toISOString()}`),m&&(X+=`
Not Before: ${m.toISOString()}`),y&&(X+=`
Request ID: ${y}`),v){let ee=`
Resources:`;for(const F of v){if(!F||typeof F!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${F}`);ee+=`
- ${F}`}X+=ee}return`${H}
${X}`}class Gt extends Error{constructor({message:t,code:r,cause:a,name:l}){var u;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(u=l??(a instanceof Error?a.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=r}}class sf extends Gt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function jR({error:n,options:t}){var r,a,l;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((r=u.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Gt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((a=u.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Gt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Gt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Gt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Gt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Gt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Gt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const f=window.location.hostname;if(Cw(f)){if(u.rp.id!==f)return new Gt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Gt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Gt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function kR({error:n,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Gt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const a=window.location.hostname;if(Cw(a)){if(r.rpId!==a)return new Gt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Gt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class DR{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const MR=new DR;function NR(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:r,excludeCredentials:a}=n,l=hf(n,["challenge","user","excludeCredentials"]),u=To(t).buffer,f=Object.assign(Object.assign({},r),{id:To(r.id).buffer}),m=Object.assign(Object.assign({},l),{challenge:u,user:f});if(a&&a.length>0){m.excludeCredentials=new Array(a.length);for(let y=0;y<a.length;y++){const v=a[y];m.excludeCredentials[y]=Object.assign(Object.assign({},v),{id:To(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return m}function UR(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:r}=n,a=hf(n,["challenge","allowCredentials"]),l=To(t).buffer,u=Object.assign(Object.assign({},a),{challenge:l});if(r&&r.length>0){u.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const m=r[f];u.allowCredentials[f]=Object.assign(Object.assign({},m),{id:To(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function BR(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n;return{id:n.id,rawId:n.id,response:{attestationObject:oa(new Uint8Array(n.response.attestationObject)),clientDataJSON:oa(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function LR(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n,a=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:oa(new Uint8Array(l.authenticatorData)),clientDataJSON:oa(new Uint8Array(l.clientDataJSON)),signature:oa(new Uint8Array(l.signature)),userHandle:l.userHandle?oa(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Cw(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function sb(){var n,t;return!!(hn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function zR(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sf("Browser returned unexpected credential type",t)}:{data:null,error:new sf("Empty credential response",t)}}catch(t){return{data:null,error:jR({error:t,options:n})}}}async function VR(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sf("Browser returned unexpected credential type",t)}:{data:null,error:new sf("Empty credential response",t)}}catch(t){return{data:null,error:kR({error:t,options:n})}}}const PR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function af(...n){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),r=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of n)if(l)for(const u in l){const f=l[u];if(f!==void 0)if(Array.isArray(f))a[u]=f;else if(r(f))a[u]=f;else if(t(f)){const m=a[u];t(m)?a[u]=af(m,f):a[u]=af(f)}else a[u]=f}return a}function IR(n,t){return af(PR,n,t||{})}function KR(n,t){return af(qR,n,t||{})}class HR{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:a,signal:l},u){var f;try{const{data:m,error:y}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!m)return{data:null,error:y};const v=l??MR.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:w}=m.webauthn.credential_options.publicKey;if(!w.name){const T=a;if(T)w.name=`${w.id}:${T}`;else{const O=(await this.client.getUser()).data.user,j=((f=O?.user_metadata)===null||f===void 0?void 0:f.name)||O?.email||O?.id||"User";w.name=`${w.id}:${j}`}}w.displayName||(w.displayName=w.name)}switch(m.webauthn.type){case"create":{const w=IR(m.webauthn.credential_options.publicKey,u?.create),{data:T,error:x}=await zR({publicKey:w,signal:v});return T?{data:{factorId:t,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:T}},error:null}:{data:null,error:x}}case"request":{const w=KR(m.webauthn.credential_options.publicKey,u?.request),{data:T,error:x}=await VR(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:w,signal:v}));return T?{data:{factorId:t,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:T}},error:null}:{data:null,error:x}}}}catch(m){return Me(m)?{data:null,error:m}:{data:null,error:new ra("Unexpected error in challenge",m)}}}async _verify({challengeId:t,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!r)return{data:null,error:new eu("rpId is required for WebAuthn authentication")};try{if(!sb())return{data:null,error:new ra("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:a},signal:l},{request:u});if(!f)return{data:null,error:m};const{webauthn:y}=f;return this._verify({factorId:t,challengeId:f.challengeId,webauthn:{type:y.type,rpId:r,rpOrigins:a,credential_response:y.credential_response}})}catch(f){return Me(f)?{data:null,error:f}:{data:null,error:new ra("Unexpected error in authenticate",f)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!r)return{data:null,error:new eu("rpId is required for WebAuthn registration")};try{if(!sb())return{data:null,error:new ra("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:t});if(!f)return await this.client.mfa.listFactors().then(w=>{var T;return(T=w.data)===null||T===void 0?void 0:T.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w?.id}):void 0),{data:null,error:m};const{data:y,error:v}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:l},{create:u});return y?this._verify({factorId:f.id,challengeId:y.challengeId,webauthn:{rpId:r,rpOrigins:a,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:v}}catch(f){return Me(f)?{data:null,error:f}:{data:null,error:new ra("Unexpected error in register",f)}}}}AR();const GR={url:qC,storageKey:IC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ab(n,t,r){return await r()}const uo={};class tu{get jwks(){var t,r;return(r=(t=uo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){uo[this.storageKey]=Object.assign(Object.assign({},uo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=uo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){uo[this.storageKey]=Object.assign(Object.assign({},uo[this.storageKey]),{cachedAt:t})}constructor(t){var r,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},GR),t);if(this.storageKey=u.storageKey,this.instanceID=(r=tu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,tu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&hn()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new TR({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=xw(u.fetch),this.lock=u.lock||ab,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&hn()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=xR:this.lock=ab,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new HR(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Ew()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rb(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=rb(this.memoryStorage)),hn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ww}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},a="none";if(hn()&&(r=iR(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),hn()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:u}=await this._getSessionFromURL(r,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),FC(u)){const y=(t=u.details)===null||t===void 0?void 0:t.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:f,redirectType:m}=l;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Me(r)?this._returnResult({error:r}):this._returnResult({error:new ra("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,a,l;try{const u=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=t?.options)===null||l===void 0?void 0:l.captchaToken}},xform:gi}),{data:f,error:m}=u;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const y=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(u){if(Me(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var r,a,l;try{let u;if("email"in t){const{email:w,password:T,options:x}=t;let O=null,j=null;this.flowType==="pkce"&&([O,j]=await ao(this.storage,this.storageKey)),u=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:w,password:T,data:(r=x?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:O,code_challenge_method:j},xform:gi})}else if("phone"in t){const{phone:w,password:T,options:x}=t;u=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:T,data:(a=x?.data)!==null&&a!==void 0?a:{},channel:(l=x?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:gi})}else throw new Nc("You must provide either an email or phone number and a password");const{data:f,error:m}=u;if(m||!f)return await fn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const y=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(u){if(await fn(this.storage,`${this.storageKey}-code-verifier`),Me(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let r;if("email"in t){const{email:u,password:f,options:m}=t;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:nb})}else if("phone"in t){const{phone:u,password:f,options:m}=t;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:nb})}else throw new Nc("You must provide either an email or phone number and a password");const{data:a,error:l}=r;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const u=new so;return this._returnResult({data:{user:null,session:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,a,l,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,a,l,u,f,m,y,v,w,T,x;let O,j;if("message"in t)O=t.message,j=t.signature;else{const{chain:D,wallet:H,statement:X,options:ee}=t;let F;if(hn())if(typeof H=="object")F=H;else{const je=window;if("ethereum"in je&&typeof je.ethereum=="object"&&"request"in je.ethereum&&typeof je.ethereum.request=="function")F=je.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!ee?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=H}const ce=new URL((r=ee?.url)!==null&&r!==void 0?r:window.location.href),ne=await F.request({method:"eth_requestAccounts"}).then(je=>je).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ne||ne.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ye=Ow(ne[0]);let fe=(a=ee?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!fe){const je=await F.request({method:"eth_chainId"});fe=OR(je)}const ie={domain:ce.host,address:ye,statement:X,uri:ce.href,version:"1",chainId:fe,nonce:(l=ee?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(f=(u=ee?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=ee?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(y=ee?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(v=ee?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(w=ee?.signInWithEthereum)===null||w===void 0?void 0:w.resources};O=RR(ie),j=await F.request({method:"personal_sign",params:[CR(O),ye]})}try{const{data:D,error:H}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:O,signature:j},!((T=t.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:gi});if(H)throw H;if(!D||!D.session||!D.user){const X=new so;return this._returnResult({data:{user:null,session:null},error:X})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:H})}catch(D){if(Me(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async signInWithSolana(t){var r,a,l,u,f,m,y,v,w,T,x,O;let j,D;if("message"in t)j=t.message,D=t.signature;else{const{chain:H,wallet:X,statement:ee,options:F}=t;let ce;if(hn())if(typeof X=="object")ce=X;else{const ye=window;if("solana"in ye&&typeof ye.solana=="object"&&("signIn"in ye.solana&&typeof ye.solana.signIn=="function"||"signMessage"in ye.solana&&typeof ye.solana.signMessage=="function"))ce=ye.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof X!="object"||!F?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ce=X}const ne=new URL((r=F?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in ce&&ce.signIn){const ye=await ce.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},F?.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),ee?{statement:ee}:null));let fe;if(Array.isArray(ye)&&ye[0]&&typeof ye[0]=="object")fe=ye[0];else if(ye&&typeof ye=="object"&&"signedMessage"in ye&&"signature"in ye)fe=ye;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in fe&&"signature"in fe&&(typeof fe.signedMessage=="string"||fe.signedMessage instanceof Uint8Array)&&fe.signature instanceof Uint8Array)j=typeof fe.signedMessage=="string"?fe.signedMessage:new TextDecoder().decode(fe.signedMessage),D=fe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ce)||typeof ce.signMessage!="function"||!("publicKey"in ce)||typeof ce!="object"||!ce.publicKey||!("toBase58"in ce.publicKey)||typeof ce.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${ne.host} wants you to sign in with your Solana account:`,ce.publicKey.toBase58(),...ee?["",ee,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(l=(a=F?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=F?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${F.signInWithSolana.notBefore}`]:[],...!((f=F?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${F.signInWithSolana.expirationTime}`]:[],...!((m=F?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${F.signInWithSolana.chainId}`]:[],...!((y=F?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${F.signInWithSolana.nonce}`]:[],...!((v=F?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${F.signInWithSolana.requestId}`]:[],...!((T=(w=F?.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||T===void 0)&&T.length?["Resources",...F.signInWithSolana.resources.map(fe=>`- ${fe}`)]:[]].join(`
`);const ye=await ce.signMessage(new TextEncoder().encode(j),"utf8");if(!ye||!(ye instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=ye}}try{const{data:H,error:X}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:oa(D)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(O=t.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:gi});if(X)throw X;if(!H||!H.session||!H.user){const ee=new so;return this._returnResult({data:{user:null,session:null},error:ee})}return H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),this._returnResult({data:Object.assign({},H),error:X})}catch(H){if(Me(H))return this._returnResult({data:{user:null,session:null},error:H});throw H}}async _exchangeCodeForSession(t){const r=await ea(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(r??"").split("/");try{if(!a&&this.flowType==="pkce")throw new XC;const{data:u,error:f}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:gi});if(await fn(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!u||!u.session||!u.user){const m=new so;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:f})}catch(u){if(await fn(this.storage,`${this.storageKey}-code-verifier`),Me(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:r,provider:a,token:l,access_token:u,nonce:f}=t,m=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:gi}),{data:y,error:v}=m;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!y||!y.session||!y.user){const w=new so;return this._returnResult({data:{user:null,session:null},error:w})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:v})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,a,l,u,f;try{if("email"in t){const{email:m,options:y}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await ao(this.storage,this.storageKey));const{error:T}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=y?.data)!==null&&r!==void 0?r:{},create_user:(a=y?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:v,code_challenge_method:w},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:T})}if("phone"in t){const{phone:m,options:y}=t,{data:v,error:w}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(l=y?.data)!==null&&l!==void 0?l:{},create_user:(u=y?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(f=y?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v?.message_id},error:w})}throw new Nc("You must provide either an email or phone number.")}catch(m){if(await fn(this.storage,`${this.storageKey}-code-verifier`),Me(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(t){var r,a;try{let l,u;"options"in t&&(l=(r=t.options)===null||r===void 0?void 0:r.redirectTo,u=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:f,error:m}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:gi});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const y=f.session,v=f.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(l){if(Me(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var r,a,l,u,f;try{let m=null,y=null;this.flowType==="pkce"&&([m,y]=await ao(this.storage,this.storageKey));const v=await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=t?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:y}),headers:this.headers,xform:_R});return!((u=v.data)===null||u===void 0)&&u.url&&hn()&&!(!((f=t.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(m){if(await fn(this.storage,`${this.storageKey}-code-verifier`),Me(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;if(a)throw a;if(!r)throw new Yn;const{error:l}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(Me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:a,type:l,options:u}=t,{error:f}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in t){const{phone:a,type:l,options:u}=t,{data:f,error:m}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Nc("You must provide either an email or phone number and a type")}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Ud:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const f=await ea(this.userStorage,this.storageKey+"-user");f?.user?t.user=f.user:t.user=zd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};t.user=yR(t.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:cs}):await this._useSession(async r=>{var a,l,u;const{data:f,error:m}=r;if(m)throw m;return!(!((a=f.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yn}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:cs})})}catch(r){if(Me(r))return Bd(r)&&(await this._removeSession(),await fn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async a=>{const{data:l,error:u}=a;if(u)throw u;if(!l.session)throw new Yn;const f=l.session;let m=null,y=null;this.flowType==="pkce"&&t.email!=null&&([m,y]=await ao(this.storage,this.storageKey));const{data:v,error:w}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:y}),jwt:f.access_token,xform:cs});if(w)throw w;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(a){if(await fn(this.storage,`${this.storageKey}-code-verifier`),Me(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yn;const r=Date.now()/1e3;let a=r,l=!0,u=null;const{payload:f}=Bc(t.access_token);if(f.exp&&(a=f.exp,l=a<=r),l){const{data:m,error:y}=await this._callRefreshToken(t.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:y}=await this._getUser(t.access_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});u={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(r){if(Me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var a;if(!t){const{data:f,error:m}=r;if(m)throw m;t=(a=f.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new Yn;const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!hn())throw new Uc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Uc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new X0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new X0("No code detected.");const{data:ee,error:F}=await this._exchangeCodeForSession(t.code);if(F)throw F;const ce=new URL(window.location.href);return ce.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ce.toString()),{data:{session:ee.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:u,refresh_token:f,expires_in:m,expires_at:y,token_type:v}=t;if(!u||!m||!f||!v)throw new Uc("No session defined in URL");const w=Math.round(Date.now()/1e3),T=parseInt(m);let x=w+T;y&&(x=parseInt(y));const O=x-w;O*1e3<=po&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${T}s`);const j=x-T;w-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,x,w):w-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,x,w);const{data:D,error:H}=await this._getUser(u);if(H)throw H;const X={provider_token:a,provider_refresh_token:l,access_token:u,expires_in:T,expires_at:x,refresh_token:f,token_type:v,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:X,redirectType:t.type},error:null})}catch(a){if(Me(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ea(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:l,error:u}=r;if(u&&!Bd(u))return this._returnResult({error:u});const f=(a=l.session)===null||a===void 0?void 0:a.access_token;if(f){const{error:m}=await this.admin.signOut(f,t);if(m&&!(YC(m)&&(m.status===404||m.status===401||m.status===403)||Bd(m)))return this._returnResult({error:m})}return t!=="others"&&(await this._removeSession(),await fn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=nR(),a={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async r=>{var a,l;try{const{data:{session:u},error:f}=r;if(f)throw f;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,r={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await ao(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(await fn(this.storage,`${this.storageKey}-code-verifier`),Me(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:a,error:l}=await this._useSession(async u=>{var f,m,y,v,w;const{data:T,error:x}=u;if(x)throw x;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(f=t.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(y=t.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",O,{headers:this.headers,jwt:(w=(v=T.session)===null||v===void 0?void 0:v.access_token)!==null&&w!==void 0?w:void 0})});if(l)throw l;return hn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(Me(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var a;try{const{error:l,data:{session:u}}=r;if(l)throw l;const{options:f,provider:m,token:y,access_token:v,nonce:w}=t,T=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=u?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:m,id_token:y,access_token:v,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:gi}),{data:x,error:O}=T;return O?this._returnResult({data:{user:null,session:null},error:O}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new so}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:O}))}catch(l){if(await fn(this.storage,`${this.storageKey}-code-verifier`),Me(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var a,l;const{data:u,error:f}=r;if(f)throw f;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await aR(async l=>(l>0&&await sR(200*Math.pow(2,l-1)),this._debug(r,"refreshing attempt",l),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gi})),(l,u)=>{const f=200*Math.pow(2,l);return u&&Ld(u)&&Date.now()+f-a<po})}catch(a){if(this._debug(r,"error",a),Me(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",a),hn()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await ea(this.storage,this.storageKey);if(l&&this.userStorage){let f=await ea(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:l.user},await mo(this.userStorage,this.storageKey+"-user",f)),l.user=(t=f?.user)!==null&&t!==void 0?t:zd()}else if(l&&!l.user&&!l.user){const f=await ea(this.storage,this.storageKey+"-user");f&&f?.user?(l.user=f.user,await fn(this.storage,this.storageKey+"-user"),await mo(this.storage,this.storageKey,l)):l.user=zd()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const u=((r=l.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ud;if(this._debug(a,`session has${u?"":" not"} expired with margin of ${Ud}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:f}=await this._callRefreshToken(l.refresh_token);f&&(console.error(f),Ld(f)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(l.access_token);!m&&f?.user?(l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(a,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var r,a;if(!t)throw new Yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new mf;const{data:u,error:f}=await this._refreshAccessToken(t);if(f)throw f;if(!u.session)throw new Yn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={data:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(l,"error",u),Me(u)){const f={data:null,error:u};return Ld(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,r,a=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:r});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,r)}catch(y){u.push(y)}});if(await Promise.all(f),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await fn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await mo(this.userStorage,this.storageKey+"-user",{user:r.user});const l=Object.assign({},r);delete l.user;const u=eb(l);await mo(this.storage,this.storageKey,u)}else{const l=eb(r);await mo(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await fn(this.storage,this.storageKey),await fn(this.storage,this.storageKey+"-code-verifier"),await fn(this.storage,this.storageKey+"-user"),this.userStorage&&await fn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&hn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),po);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-t)/po);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${po}ms, refresh threshold is ${vp} ticks`),l<=vp&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Aw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,a){const l=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,f]=await ao(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});l.push(m.toString())}if(a?.queryParams){const u=new URLSearchParams(a.queryParams);l.push(u.toString())}return a?.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var a;const{data:l,error:u}=r;return u?this._returnResult({data:null,error:u}):await Le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var a,l;const{data:u,error:f}=r;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:y,error:v}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return v?this._returnResult({data:null,error:v}):(t.factorType==="totp"&&y.type==="totp"&&(!((l=y?.totp)===null||l===void 0)&&l.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var a;const{data:l,error:u}=r;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?BR(t.webauthn.credential_response):LR(t.webauthn.credential_response)})}:{code:t.code}),{data:m,error:y}=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:f,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:y}))})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var a;const{data:l,error:u}=r;if(u)return this._returnResult({data:null,error:u});const f=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:NR(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:UR(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=r?.factors)!==null&&t!==void 0?t:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,a,l,u;if(t)try{const{payload:O}=Bc(t);let j=null;O.aal&&(j=O.aal);let D=j;const{data:{user:H},error:X}=await this.getUser(t);if(X)return this._returnResult({data:null,error:X});((a=(r=H?.factors)===null||r===void 0?void 0:r.filter(ce=>ce.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(D="aal2");const F=O.amr||[];return{data:{currentLevel:j,nextLevel:D,currentAuthenticationMethods:F},error:null}}catch(O){if(Me(O))return this._returnResult({data:null,error:O});throw O}const{data:{session:f},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:y}=Bc(f.access_token);let v=null;y.aal&&(v=y.aal);let w=v;((u=(l=f.user.factors)===null||l===void 0?void 0:l.filter(O=>O.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(w="aal2");const x=y.amr||[];return{data:{currentLevel:v,nextLevel:w,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;return l?this._returnResult({data:null,error:l}):a?await Le(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:l},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new Yn});const f=await Le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&hn()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(a){if(Me(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:l},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new Yn});const f=await Le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&hn()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(a){if(Me(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;return a?this._returnResult({data:null,error:a}):r?await Le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(t){if(Me(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;return l?this._returnResult({data:null,error:l}):a?(await Le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yn})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let a=r.keys.find(m=>m.kid===t);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(m=>m.kid===t),a&&this.jwks_cached_at+GC>l)return a;const{data:u,error:f}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,a=u.keys.find(m=>m.kid===t),!a)?null:a}async getClaims(t,r={}){try{let a=t;if(!a){const{data:O,error:j}=await this.getSession();if(j||!O.session)return this._returnResult({data:null,error:j});a=O.session.access_token}const{header:l,payload:u,signature:f,raw:{header:m,payload:y}}=Bc(a);r?.allowExpired||dR(u.exp);const v=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!v){const{error:O}=await this.getUser(a);if(O)throw O;return{data:{claims:u,header:l,signature:f},error:null}}const w=pR(l.alg),T=await crypto.subtle.importKey("jwk",v,w,!0,["verify"]);if(!await crypto.subtle.verify(w,T,f,eR(`${m}.${y}`)))throw new wp("Invalid JWT signature");return{data:{claims:u,header:l,signature:f},error:null}}catch(a){if(Me(a))return this._returnResult({data:null,error:a});throw a}}}tu.nextInstanceID={};const $R=tu,YR="2.95.3";let Bl="";typeof Deno<"u"?Bl="deno":typeof document<"u"?Bl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bl="react-native":Bl="node";const FR={"X-Client-Info":`supabase-js-${Bl}/${YR}`},XR={headers:FR},JR={schema:"public"},QR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},WR={};function nu(n){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(n)}function ZR(n,t){if(nu(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,t);if(nu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function ej(n){var t=ZR(n,"string");return nu(t)=="symbol"?t:t+""}function tj(n,t,r){return(t=ej(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function ob(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),r.push.apply(r,a)}return r}function Mt(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ob(Object(r),!0).forEach(function(a){tj(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ob(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}const nj=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),ij=()=>Headers,rj=(n,t,r)=>{const a=nj(r),l=ij();return async(u,f)=>{var m;const y=(m=await t())!==null&&m!==void 0?m:n;let v=new l(f?.headers);return v.has("apikey")||v.set("apikey",n),v.has("Authorization")||v.set("Authorization",`Bearer ${y}`),a(u,Mt(Mt({},f),{},{headers:v}))}};function sj(n){return n.endsWith("/")?n:n+"/"}function aj(n,t){var r,a;const{db:l,auth:u,realtime:f,global:m}=n,{db:y,auth:v,realtime:w,global:T}=t,x={db:Mt(Mt({},y),l),auth:Mt(Mt({},v),u),realtime:Mt(Mt({},w),f),storage:{},global:Mt(Mt(Mt({},T),m),{},{headers:Mt(Mt({},(r=T?.headers)!==null&&r!==void 0?r:{}),(a=m?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return n.accessToken?x.accessToken=n.accessToken:delete x.accessToken,x}function oj(n){const t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(sj(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var lj=class extends $R{constructor(n){super(n)}},uj=class{constructor(n,t,r){var a,l;this.supabaseUrl=n,this.supabaseKey=t;const u=oj(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:JR,realtime:WR,auth:Mt(Mt({},QR),{},{storageKey:f}),global:XR},y=aj(r??{},m);if(this.storageKey=(a=y.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=y.global.headers)!==null&&l!==void 0?l:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(w,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=y.auth)!==null&&v!==void 0?v:{},this.headers,y.global.fetch)}this.fetch=rj(t,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Mt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new YO(new URL("rest/v1",u).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch,timeout:y.db.timeout,urlLengthLimit:y.db.urlLengthLimit}),this.storage=new PC(this.storageUrl.href,this.headers,this.fetch,r?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new VO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,t,r;if(n.accessToken)return await n.accessToken();const{data:a}=await n.auth.getSession();return(t=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:a,userStorage:l,storageKey:u,flowType:f,lock:m,debug:y,throwOnError:v},w,T){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lj({url:this.authUrl.href,headers:Mt(Mt({},x),w),storageKey:u,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:a,userStorage:l,flowType:f,lock:m,debug:y,throwOnError:v,fetch:T,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new cC(this.realtimeUrl.href,Mt(Mt({},n),{},{params:Mt(Mt({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,t)=>{this._handleTokenChanged(n,"CLIENT",t?.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const cj=(n,t,r)=>new uj(n,t,r);function fj(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const t=n.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}fj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hj="https://qjibyzokkpznbjtxhmmo.supabase.co",dj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFqaWJ5em9ra3B6bmJqdHhobW1vIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA3OTMyMjgsImV4cCI6MjA4NjM2OTIyOH0.S3Y1mtAm23l-8F_m7RIOAGKqb2VjyvxLGVhOf5zvKg0",Sr=cj(hj,dj),Si=()=>!!Sr,Tn=new nf("GigaWordsDB");Tn.version(4).stores({words:"++id, word, translation, status, timestamp, viewCount, testCount, familiarity, analysis, phonetics, images"}).upgrade(n=>n.words.toCollection().modify(t=>{t.analysis=t.analysis||null,t.phonetics=t.phonetics||{dj:"",kk:""},t.images=t.images||[]}));const Rw=(n,t)=>{const r=n+t*2;return r>=20?5:r>=12?4:r>=6?3:r>=3?2:1},rm=n=>({word:n.word,translation:n.translation,example:n.example,status:n.status,timestamp:n.timestamp,view_count:n.viewCount,test_count:n.testCount,familiarity:n.familiarity,analysis:n.analysis,phonetics:n.phonetics,images:n.images}),sm=n=>({id:n.id,word:n.word,translation:n.translation,example:n.example,status:n.status,timestamp:n.timestamp,viewCount:n.view_count,testCount:n.test_count,familiarity:n.familiarity,analysis:n.analysis,phonetics:n.phonetics,images:n.images}),pj=async n=>{const t={...n,status:n.status||"learning",timestamp:Date.now(),viewCount:0,testCount:0,familiarity:1,analysis:n.analysis||null,phonetics:n.phonetics||{dj:"",kk:""},images:n.images||[]};if(Si()){const{data:r,error:a}=await Sr.from("words").insert([rm(t)]).select();if(a)throw a;return await Tn.words.add({...t,id:r[0].id}),r[0].id}return await Tn.words.add(t)},mj=async(n,t)=>{const r={...t,timestamp:Date.now()};if(Si()){const{error:a}=await Sr.from("words").update(rm(r)).eq("id",n);a&&console.warn("Supabase update failed, checking if sync needed:",a)}return await Tn.words.update(n,r)},yj=async n=>{const t=await(Si()?jw(n):Tn.words.get(n));if(!t)return;const r=(t.viewCount||0)+1,a=Rw(r,t.testCount||0);return Si()&&await Sr.from("words").update({view_count:r,familiarity:a}).eq("id",n),await Tn.words.update(n,{viewCount:r,familiarity:a})},gj=async n=>{const t=await(Si()?jw(n):Tn.words.get(n));if(!t)return;const r=(t.testCount||0)+1,a=Rw(t.viewCount||0,r);return Si()&&await Sr.from("words").update({test_count:r,familiarity:a}).eq("id",n),await Tn.words.update(n,{testCount:r,familiarity:a})},jw=async n=>{if(Si()){const{data:t,error:r}=await Sr.from("words").select("*").eq("id",n).single();if(t)return sm(t)}return await Tn.words.get(n)},vj=async()=>{if(Si()){const{data:n,error:t}=await Sr.from("words").select("*").order("timestamp",{ascending:!1});if(t)console.error("Supabase fetch failed, falling back to local:",t);else{const r=n.map(sm);return await Tn.words.clear(),await Tn.words.bulkAdd(r),r}}return await Tn.words.orderBy("timestamp").reverse().toArray()},bj=async n=>(Si()&&await Sr.from("words").delete().eq("id",n),await Tn.words.delete(n)),_j=async()=>{if(!Si())throw new Error("Remote not active");const n=await Tn.words.toArray();if(n.length===0)return{count:0};const t=n.map(u=>{const f=rm(u);return typeof u.id=="number"&&delete f.id,f}),{data:r,error:a}=await Sr.from("words").insert(t).select();if(a)throw a;await Tn.words.clear();const l=r.map(sm);return await Tn.words.bulkAdd(l),{count:l.length}},wj=()=>new Promise(n=>{let t=window.speechSynthesis.getVoices();if(t.length>0){n(t);return}window.speechSynthesis.onvoiceschanged=()=>{t=window.speechSynthesis.getVoices(),n(t)}}),Sp=async(n,t="en-US")=>{const r=await wj(),a=new SpeechSynthesisUtterance(n);t==="en-US"?a.voice=r.find(l=>l.lang==="en-US"&&l.name.includes("Google"))||r.find(l=>l.lang==="en-US")||r[0]:t==="en-GB"&&(a.voice=r.find(l=>l.lang==="en-GB"&&l.name.includes("Google"))||r.find(l=>l.lang==="en-GB")||r[0]),a.rate=.9,window.speechSynthesis.speak(a)};var lb;(function(n){n.STRING="string",n.NUMBER="number",n.INTEGER="integer",n.BOOLEAN="boolean",n.ARRAY="array",n.OBJECT="object"})(lb||(lb={}));var ub;(function(n){n.LANGUAGE_UNSPECIFIED="language_unspecified",n.PYTHON="python"})(ub||(ub={}));var cb;(function(n){n.OUTCOME_UNSPECIFIED="outcome_unspecified",n.OUTCOME_OK="outcome_ok",n.OUTCOME_FAILED="outcome_failed",n.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(cb||(cb={}));const fb=["user","model","function","system"];var hb;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(hb||(hb={}));var db;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(db||(db={}));var pb;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(pb||(pb={}));var mb;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER"})(mb||(mb={}));var Kl;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.OTHER="OTHER"})(Kl||(Kl={}));var yb;(function(n){n.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",n.RETRIEVAL_QUERY="RETRIEVAL_QUERY",n.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",n.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",n.CLASSIFICATION="CLASSIFICATION",n.CLUSTERING="CLUSTERING"})(yb||(yb={}));var gb;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(gb||(gb={}));var vb;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(vb||(vb={}));class wn extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class co extends wn{constructor(t,r){super(t),this.response=r}}class kw extends wn{constructor(t,r,a,l){super(t),this.status=r,this.statusText=a,this.errorDetails=l}}class hs extends wn{}class Dw extends wn{}const Sj="https://generativelanguage.googleapis.com",Tj="v1beta",Ej="0.24.1",xj="genai-js";var ua;(function(n){n.GENERATE_CONTENT="generateContent",n.STREAM_GENERATE_CONTENT="streamGenerateContent",n.COUNT_TOKENS="countTokens",n.EMBED_CONTENT="embedContent",n.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ua||(ua={}));class Aj{constructor(t,r,a,l,u){this.model=t,this.task=r,this.apiKey=a,this.stream=l,this.requestOptions=u}toString(){var t,r;const a=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||Tj;let u=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||Sj}/${a}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function Oj(n){const t=[];return n?.apiClient&&t.push(n.apiClient),t.push(`${xj}/${Ej}`),t.join(" ")}async function Cj(n){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",Oj(n.requestOptions)),r.append("x-goog-api-key",n.apiKey);let a=(t=n.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(a){if(!(a instanceof Headers))try{a=new Headers(a)}catch(l){throw new hs(`unable to convert customHeaders value ${JSON.stringify(a)} to Headers: ${l.message}`)}for(const[l,u]of a.entries()){if(l==="x-goog-api-key")throw new hs(`Cannot set reserved header name ${l}`);if(l==="x-goog-api-client")throw new hs(`Header name ${l} can only be set using the apiClient field`);r.append(l,u)}}return r}async function Rj(n,t,r,a,l,u){const f=new Aj(n,t,r,a,u);return{url:f.toString(),fetchOptions:Object.assign(Object.assign({},Mj(u)),{method:"POST",headers:await Cj(f),body:l})}}async function cu(n,t,r,a,l,u={},f=fetch){const{url:m,fetchOptions:y}=await Rj(n,t,r,a,l,u);return jj(m,y,f)}async function jj(n,t,r=fetch){let a;try{a=await r(n,t)}catch(l){kj(l,n)}return a.ok||await Dj(a,n),a}function kj(n,t){let r=n;throw r.name==="AbortError"?(r=new Dw(`Request aborted when fetching ${t.toString()}: ${n.message}`),r.stack=n.stack):n instanceof kw||n instanceof hs||(r=new wn(`Error fetching from ${t.toString()}: ${n.message}`),r.stack=n.stack),r}async function Dj(n,t){let r="",a;try{const l=await n.json();r=l.error.message,l.error.details&&(r+=` ${JSON.stringify(l.error.details)}`,a=l.error.details)}catch{}throw new kw(`Error fetching from ${t.toString()}: [${n.status} ${n.statusText}] ${r}`,n.status,n.statusText,a)}function Mj(n){const t={};if(n?.signal!==void 0||n?.timeout>=0){const r=new AbortController;n?.timeout>=0&&setTimeout(()=>r.abort(),n.timeout),n?.signal&&n.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}function am(n){return n.text=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),$c(n.candidates[0]))throw new co(`${us(n)}`,n);return Nj(n)}else if(n.promptFeedback)throw new co(`Text not available. ${us(n)}`,n);return""},n.functionCall=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),$c(n.candidates[0]))throw new co(`${us(n)}`,n);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),bb(n)[0]}else if(n.promptFeedback)throw new co(`Function call not available. ${us(n)}`,n)},n.functionCalls=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),$c(n.candidates[0]))throw new co(`${us(n)}`,n);return bb(n)}else if(n.promptFeedback)throw new co(`Function call not available. ${us(n)}`,n)},n}function Nj(n){var t,r,a,l;const u=[];if(!((r=(t=n.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const f of(l=(a=n.candidates)===null||a===void 0?void 0:a[0].content)===null||l===void 0?void 0:l.parts)f.text&&u.push(f.text),f.executableCode&&u.push("\n```"+f.executableCode.language+`
`+f.executableCode.code+"\n```\n"),f.codeExecutionResult&&u.push("\n```\n"+f.codeExecutionResult.output+"\n```\n");return u.length>0?u.join(""):""}function bb(n){var t,r,a,l;const u=[];if(!((r=(t=n.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const f of(l=(a=n.candidates)===null||a===void 0?void 0:a[0].content)===null||l===void 0?void 0:l.parts)f.functionCall&&u.push(f.functionCall);if(u.length>0)return u}const Uj=[Kl.RECITATION,Kl.SAFETY,Kl.LANGUAGE];function $c(n){return!!n.finishReason&&Uj.includes(n.finishReason)}function us(n){var t,r,a;let l="";if((!n.candidates||n.candidates.length===0)&&n.promptFeedback)l+="Response was blocked",!((t=n.promptFeedback)===null||t===void 0)&&t.blockReason&&(l+=` due to ${n.promptFeedback.blockReason}`),!((r=n.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(l+=`: ${n.promptFeedback.blockReasonMessage}`);else if(!((a=n.candidates)===null||a===void 0)&&a[0]){const u=n.candidates[0];$c(u)&&(l+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(l+=`: ${u.finishMessage}`))}return l}function iu(n){return this instanceof iu?(this.v=n,this):new iu(n)}function Bj(n,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(n,t||[]),l,u=[];return l={},f("next"),f("throw"),f("return"),l[Symbol.asyncIterator]=function(){return this},l;function f(x){a[x]&&(l[x]=function(O){return new Promise(function(j,D){u.push([x,O,j,D])>1||m(x,O)})})}function m(x,O){try{y(a[x](O))}catch(j){T(u[0][3],j)}}function y(x){x.value instanceof iu?Promise.resolve(x.value.v).then(v,w):T(u[0][2],x)}function v(x){m("next",x)}function w(x){m("throw",x)}function T(x,O){x(O),u.shift(),u.length&&m(u[0][0],u[0][1])}}const _b=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Lj(n){const t=n.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=Pj(t),[a,l]=r.tee();return{stream:Vj(a),response:zj(l)}}async function zj(n){const t=[],r=n.getReader();for(;;){const{done:a,value:l}=await r.read();if(a)return am(qj(t));t.push(l)}}function Vj(n){return Bj(this,arguments,function*(){const r=n.getReader();for(;;){const{value:a,done:l}=yield iu(r.read());if(l)break;yield yield iu(am(a))}})}function Pj(n){const t=n.getReader();return new ReadableStream({start(a){let l="";return u();function u(){return t.read().then(({value:f,done:m})=>{if(m){if(l.trim()){a.error(new wn("Failed to parse stream"));return}a.close();return}l+=f;let y=l.match(_b),v;for(;y;){try{v=JSON.parse(y[1])}catch{a.error(new wn(`Error parsing JSON response: "${y[1]}"`));return}a.enqueue(v),l=l.substring(y[0].length),y=l.match(_b)}return u()}).catch(f=>{let m=f;throw m.stack=f.stack,m.name==="AbortError"?m=new Dw("Request aborted when reading from the stream"):m=new wn("Error reading from the stream"),m})}}})}function qj(n){const t=n[n.length-1],r={promptFeedback:t?.promptFeedback};for(const a of n){if(a.candidates){let l=0;for(const u of a.candidates)if(r.candidates||(r.candidates=[]),r.candidates[l]||(r.candidates[l]={index:l}),r.candidates[l].citationMetadata=u.citationMetadata,r.candidates[l].groundingMetadata=u.groundingMetadata,r.candidates[l].finishReason=u.finishReason,r.candidates[l].finishMessage=u.finishMessage,r.candidates[l].safetyRatings=u.safetyRatings,u.content&&u.content.parts){r.candidates[l].content||(r.candidates[l].content={role:u.content.role||"user",parts:[]});const f={};for(const m of u.content.parts)m.text&&(f.text=m.text),m.functionCall&&(f.functionCall=m.functionCall),m.executableCode&&(f.executableCode=m.executableCode),m.codeExecutionResult&&(f.codeExecutionResult=m.codeExecutionResult),Object.keys(f).length===0&&(f.text=""),r.candidates[l].content.parts.push(f)}l++}a.usageMetadata&&(r.usageMetadata=a.usageMetadata)}return r}async function Mw(n,t,r,a){const l=await cu(t,ua.STREAM_GENERATE_CONTENT,n,!0,JSON.stringify(r),a);return Lj(l)}async function Nw(n,t,r,a){const u=await(await cu(t,ua.GENERATE_CONTENT,n,!1,JSON.stringify(r),a)).json();return{response:am(u)}}function Uw(n){if(n!=null){if(typeof n=="string")return{role:"system",parts:[{text:n}]};if(n.text)return{role:"system",parts:[n]};if(n.parts)return n.role?n:{role:"system",parts:n.parts}}}function ru(n){let t=[];if(typeof n=="string")t=[{text:n}];else for(const r of n)typeof r=="string"?t.push({text:r}):t.push(r);return Ij(t)}function Ij(n){const t={role:"user",parts:[]},r={role:"function",parts:[]};let a=!1,l=!1;for(const u of n)"functionResponse"in u?(r.parts.push(u),l=!0):(t.parts.push(u),a=!0);if(a&&l)throw new wn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!a&&!l)throw new wn("No content is provided for sending chat message.");return a?t:r}function Kj(n,t){var r;let a={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(r=t?.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const l=n.generateContentRequest!=null;if(n.contents){if(l)throw new hs("CountTokensRequest must have one of contents or generateContentRequest, not both.");a.contents=n.contents}else if(l)a=Object.assign(Object.assign({},a),n.generateContentRequest);else{const u=ru(n);a.contents=[u]}return{generateContentRequest:a}}function wb(n){let t;return n.contents?t=n:t={contents:[ru(n)]},n.systemInstruction&&(t.systemInstruction=Uw(n.systemInstruction)),t}function Hj(n){return typeof n=="string"||Array.isArray(n)?{content:ru(n)}:n}const Sb=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Gj={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function $j(n){let t=!1;for(const r of n){const{role:a,parts:l}=r;if(!t&&a!=="user")throw new wn(`First content should be with role 'user', got ${a}`);if(!fb.includes(a))throw new wn(`Each item should include role field. Got ${a} but valid roles are: ${JSON.stringify(fb)}`);if(!Array.isArray(l))throw new wn("Content should have 'parts' property with an array of Parts");if(l.length===0)throw new wn("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const m of l)for(const y of Sb)y in m&&(u[y]+=1);const f=Gj[a];for(const m of Sb)if(!f.includes(m)&&u[m]>0)throw new wn(`Content with role '${a}' can't contain '${m}' part`);t=!0}}function Tb(n){var t;if(n.candidates===void 0||n.candidates.length===0)return!1;const r=(t=n.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const a of r.parts)if(a===void 0||Object.keys(a).length===0||a.text!==void 0&&a.text==="")return!1;return!0}const Eb="SILENT_ERROR";class Yj{constructor(t,r,a,l={}){this.model=r,this.params=a,this._requestOptions=l,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,a?.history&&($j(a.history),this._history=a.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var a,l,u,f,m,y;await this._sendPromise;const v=ru(t),w={safetySettings:(a=this.params)===null||a===void 0?void 0:a.safetySettings,generationConfig:(l=this.params)===null||l===void 0?void 0:l.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(y=this.params)===null||y===void 0?void 0:y.cachedContent,contents:[...this._history,v]},T=Object.assign(Object.assign({},this._requestOptions),r);let x;return this._sendPromise=this._sendPromise.then(()=>Nw(this._apiKey,this.model,w,T)).then(O=>{var j;if(Tb(O.response)){this._history.push(v);const D=Object.assign({parts:[],role:"model"},(j=O.response.candidates)===null||j===void 0?void 0:j[0].content);this._history.push(D)}else{const D=us(O.response);D&&console.warn(`sendMessage() was unsuccessful. ${D}. Inspect response object for details.`)}x=O}).catch(O=>{throw this._sendPromise=Promise.resolve(),O}),await this._sendPromise,x}async sendMessageStream(t,r={}){var a,l,u,f,m,y;await this._sendPromise;const v=ru(t),w={safetySettings:(a=this.params)===null||a===void 0?void 0:a.safetySettings,generationConfig:(l=this.params)===null||l===void 0?void 0:l.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(y=this.params)===null||y===void 0?void 0:y.cachedContent,contents:[...this._history,v]},T=Object.assign(Object.assign({},this._requestOptions),r),x=Mw(this._apiKey,this.model,w,T);return this._sendPromise=this._sendPromise.then(()=>x).catch(O=>{throw new Error(Eb)}).then(O=>O.response).then(O=>{if(Tb(O)){this._history.push(v);const j=Object.assign({},O.candidates[0].content);j.role||(j.role="model"),this._history.push(j)}else{const j=us(O);j&&console.warn(`sendMessageStream() was unsuccessful. ${j}. Inspect response object for details.`)}}).catch(O=>{O.message!==Eb&&console.error(O)}),x}}async function Fj(n,t,r,a){return(await cu(t,ua.COUNT_TOKENS,n,!1,JSON.stringify(r),a)).json()}async function Xj(n,t,r,a){return(await cu(t,ua.EMBED_CONTENT,n,!1,JSON.stringify(r),a)).json()}async function Jj(n,t,r,a){const l=r.requests.map(f=>Object.assign(Object.assign({},f),{model:t}));return(await cu(t,ua.BATCH_EMBED_CONTENTS,n,!1,JSON.stringify({requests:l}),a)).json()}class xb{constructor(t,r,a={}){this.apiKey=t,this._requestOptions=a,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=Uw(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var a;const l=wb(t),u=Object.assign(Object.assign({},this._requestOptions),r);return Nw(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(a=this.cachedContent)===null||a===void 0?void 0:a.name},l),u)}async generateContentStream(t,r={}){var a;const l=wb(t),u=Object.assign(Object.assign({},this._requestOptions),r);return Mw(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(a=this.cachedContent)===null||a===void 0?void 0:a.name},l),u)}startChat(t){var r;return new Yj(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const a=Kj(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),l=Object.assign(Object.assign({},this._requestOptions),r);return Fj(this.apiKey,this.model,a,l)}async embedContent(t,r={}){const a=Hj(t),l=Object.assign(Object.assign({},this._requestOptions),r);return Xj(this.apiKey,this.model,a,l)}async batchEmbedContents(t,r={}){const a=Object.assign(Object.assign({},this._requestOptions),r);return Jj(this.apiKey,this.model,t,a)}}class Qj{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new wn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new xb(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,a){if(!t.name)throw new hs("Cached content must contain a `name` field.");if(!t.model)throw new hs("Cached content must contain a `model` field.");const l=["model","systemInstruction"];for(const f of l)if(r?.[f]&&t[f]&&r?.[f]!==t[f]){if(f==="model"){const m=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,y=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(m===y)continue}throw new hs(`Different value for "${f}" specified in modelParams (${r[f]}) and cachedContent (${t[f]})`)}const u=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new xb(this.apiKey,u,a)}}const Wj="AIzaSyDwzj5ApPFldmbGReQGUTxSIFmZXLTf5No",of=new Qj(Wj),Zj=async n=>{if(!of)throw new Error("Gemini API Key is missing. Please set VITE_GEMINI_API_KEY in .env");const t=of.getGenerativeModel({model:"gemini-3-flash-preview"}),r=`Translate the English word "${n}" into Traditional Chinese. 
  Provide the result in a valid JSON format with the following structure:
  {
    "word": "${n}",
    "phonetics": { "dj": "/.../", "kk": "[...]" },
    "pos": [
      { "type": " (n.)", "translation": "", "example": "English example sentence" },
      { "type": " (v.)", "translation": "", "example": "Another example" }
    ],
    "translation": "(pos.) Most common Chinese translation",
    "example": "A natural English example sentence for the most common usage"
  }
  Requirements:
  1. Phonetics must include both DJ and KK systems.
  2. The POS list must categorize items as "" or "".
  3. Ensure all translations are in Traditional Chinese (TW).
  4. The primary "translation" field MUST include the part of speech prefix in parentheses, e.g., "(n.) " or "(v.) ".
  5. Return ONLY the JSON object, no markdown blocks.`;try{const u=(await(await t.generateContent(r)).response).text();console.log("Gemini Translation Raw Response:",u);const f=u.match(/\{[\s\S]*\}/);if(!f)throw new Error("Invalid response format from AI. Could not find JSON.");return JSON.parse(f[0])}catch(a){throw console.error("Gemini Translation Error:",a),a}},ek=async(n,t)=>{if(!of)throw new Error("Gemini API Key is missing. Please set VITE_GEMINI_API_KEY in .env");const r=of.getGenerativeModel({model:"gemini-3-flash-preview"}),a={inlineData:{data:n.split(",")[1],mimeType:"image/png"}},l=`Analyze this image. ${t?`Find and specifically analyze the English word "${t}" based on its context.`:"Pick the most important English learning word in the image."}
  Provide the result in a valid JSON format:
  {
    "word": "The word found",
    "phonetics": { "dj": "/.../", "kk": "[...]" },
    "translation": "(pos.) Traditional Chinese translation",
    "example": "English example sentence based on the image context",
    "contextMatch": "Briefly explain how the word relates to the image context",
    "pos": [
      { "type": " (...)", "translation": "...", "example": "..." }
    ]
  }
  Requirements:
  1. Return ONLY the JSON, no markdown.
  2. The "translation" field MUST include the part of speech prefix in parentheses, e.g., "(adj.) ".
  3. Maintain consistency with the POS structure used in translateWord.`;try{const m=(await(await r.generateContent([l,a])).response).text();console.log("Gemini Vision Raw Response:",m);const y=m.match(/\{[\s\S]*\}/);if(!y)throw new Error("Invalid vision response format from AI. Could not find JSON.");return JSON.parse(y[0])}catch(u){throw console.error("Gemini Vision Error:",u),u}};function tk({onClose:n,onSave:t,initialData:r}){const[a,l]=me.useState(r?.word||""),[u,f]=me.useState(r?.translation||""),[m,y]=me.useState(r?.example||""),[v,w]=me.useState(r?.phonetics||{dj:"",kk:""}),[T,x]=me.useState(r?.images||[]),[O,j]=me.useState(r?.analysis||null),[D,H]=me.useState(!1),X=async()=>{if(a){H(!0);try{const ne=await Zj(a);j(ne.pos),w(ne.phonetics),ne.pos.length>0&&(f(`${ne.pos[0].type} ${ne.pos[0].translation}`),y(ne.pos[0].example))}catch(ne){console.error("WordModal handleTranslate Error:",ne),alert(`Translation failed: ${ne.message}. Check console for details.`)}finally{H(!1)}}},ee=ne=>{const ye=ne.target.files[0];if(ye){const fe=new FileReader;fe.onloadend=()=>{x([...T,fe.result])},fe.readAsDataURL(ye)}},F=ne=>{x(T.filter((ye,fe)=>fe!==ne))},ce=ne=>{ne.preventDefault(),a&&(t({...r,word:a,translation:u,example:m,phonetics:v,images:T,analysis:O}),n())};return I.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:3e3,padding:"16px"},children:I.jsxs(Xl.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"glass",style:{width:"100%",maxWidth:"600px",padding:window.innerWidth<768?"20px":"32px",background:"var(--surface)",maxHeight:"90vh",overflowY:"auto"},children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[I.jsx("h2",{style:{fontSize:"1.5rem"},children:r?"Edit Word Details":"Add New Word"}),I.jsx("button",{onClick:n,className:"btn glass",style:{padding:"8px"},children:I.jsx(Yc,{size:20})})]}),I.jsxs("form",{onSubmit:ce,style:{display:"grid",gap:"20px"},children:[I.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"flex-end",flexWrap:"wrap"},children:[I.jsxs("div",{style:{flex:"1 1 200px"},children:[I.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-muted)",fontSize:"0.85rem"},children:"English Word"}),I.jsx("input",{autoFocus:!0,className:"input",style:{width:"100%"},value:a,onChange:ne=>l(ne.target.value),placeholder:"e.g. Resilience"})]}),I.jsxs("button",{type:"button",className:"btn glass",style:{height:"46px",borderColor:"var(--primary)",color:"var(--primary)"},onClick:X,disabled:D||!a,children:[D?I.jsx(Ob,{className:"animate-spin",size:20}):I.jsx(Lc,{size:20}),"AI Analyze"]})]}),I.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[I.jsxs("div",{children:[I.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-muted)",fontSize:"0.85rem"},children:"DJ Phonetic"}),I.jsx("input",{className:"input",style:{width:"100%"},value:v.dj,onChange:ne=>w({...v,dj:ne.target.value})})]}),I.jsxs("div",{children:[I.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-muted)",fontSize:"0.85rem"},children:"KK Phonetic"}),I.jsx("input",{className:"input",style:{width:"100%"},value:v.kk,onChange:ne=>w({...v,kk:ne.target.value})})]})]}),I.jsxs("div",{children:[I.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-muted)",fontSize:"0.85rem"},children:"Primary Translation"}),I.jsx("input",{className:"input",style:{width:"100%"},value:u,onChange:ne=>f(ne.target.value)})]}),O&&I.jsxs("div",{className:"glass",style:{padding:"16px",background:"#f8f9fa",boxShadow:"none"},children:[I.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginBottom:"12px"},children:"Analysis & Parts of Speech"}),I.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:O.map((ne,ye)=>I.jsxs("div",{className:"glass",style:{padding:"12px",display:"flex",flexDirection:"column",gap:"4px",cursor:"pointer",border:u===`${ne.type} ${ne.translation}`?"1px solid var(--primary)":"1px solid var(--glass-border)",background:u===`${ne.type} ${ne.translation}`?"rgba(26, 115, 232, 0.05)":"transparent",borderRadius:"8px"},onClick:()=>{f(`${ne.type} ${ne.translation}`),y(ne.example)},children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[I.jsx("span",{style:{fontWeight:"700",color:"var(--primary)"},children:ne.type}),I.jsxs("div",{style:{display:"flex",gap:"8px"},children:[I.jsx("button",{type:"button",className:"btn glass",style:{padding:"2px 8px",fontSize:"0.7rem",color:"var(--secondary)",borderColor:"var(--secondary)"},onClick:fe=>{fe.stopPropagation(),f(`${ne.type} ${ne.translation}`),y(ne.example)},children:"Select"}),I.jsx("button",{type:"button",onClick:fe=>{fe.stopPropagation(),j(O.filter((ie,je)=>je!==ye))},style:{background:"none",border:"none",color:"#ef4444",padding:0},children:I.jsx(bv,{size:14})})]})]}),I.jsx("div",{style:{fontSize:"0.9rem",marginTop:"4px"},children:ne.translation}),I.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",fontStyle:"italic"},children:ne.example})]},ye))})]}),I.jsxs("div",{children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[I.jsx("label",{style:{color:"var(--text-muted)",fontSize:"0.85rem"},children:"Associated OCR Images"}),I.jsxs("label",{className:"btn glass",style:{padding:"4px 12px",fontSize:"0.8rem",cursor:"pointer"},children:[I.jsx(Cb,{size:16})," Add Image",I.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:ee})]})]}),I.jsxs("div",{style:{display:"flex",gap:"8px",overflowX:"auto",padding:"4px"},children:[T.map((ne,ye)=>I.jsxs("div",{style:{position:"relative",flexShrink:0},children:[I.jsx("img",{src:ne,alt:"",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"8px",border:"1px solid var(--glass-border)"}}),I.jsx("button",{type:"button",onClick:()=>F(ye),style:{position:"absolute",top:"-4px",right:"-4px",background:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:I.jsx(Yc,{size:12})})]},ye)),T.length===0&&I.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"8px",border:"2px dashed var(--glass-border)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-muted)"},children:I.jsx(xT,{size:24})})]})]}),I.jsxs("div",{children:[I.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-muted)",fontSize:"0.85rem"},children:"Main Example Sentence"}),I.jsx("textarea",{className:"input",style:{width:"100%",minHeight:"80px",resize:"vertical"},value:m,onChange:ne=>y(ne.target.value)})]}),I.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"12px"},children:[I.jsxs("button",{type:"submit",className:"btn btn-primary",style:{flex:1,height:"50px",fontSize:"1.1rem"},children:[I.jsx(kT,{size:20})," ",r?"Update Word":"Save Word"]}),r&&I.jsx("button",{type:"button",className:"btn glass",style:{color:"var(--accent)",padding:"0 20px"},onClick:()=>{window.confirm("Delete this word?")&&(onDelete(r.id),n())},children:I.jsx(bv,{size:20})})]})]})]})})}function nk({onClose:n,onSave:t}){const[r,a]=me.useState(null),[l,u]=me.useState(!1),[f,m]=me.useState(null),[y,v]=me.useState(""),w=me.useRef(null),T=O=>{const j=O.target.files[0];if(j){const D=new FileReader;D.onloadend=()=>{a(D.result)},D.readAsDataURL(j)}},x=async()=>{if(r){u(!0);try{const O=await ek(r,y);m(O)}catch{alert("Analysis failed. Please try again.")}finally{u(!1)}}};return I.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"16px"},children:I.jsxs(Xl.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"glass",style:{width:"100%",maxWidth:"500px",padding:window.innerWidth<768?"20px":"32px",background:"var(--surface)"},children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[I.jsx("h2",{style:{fontSize:"1.5rem"},children:"Analyze Screenshot"}),I.jsx("button",{onClick:n,className:"btn glass",style:{padding:"8px"},children:I.jsx(Yc,{size:20})})]}),r?f?I.jsxs("div",{children:[I.jsxs("div",{className:"glass",style:{padding:"20px",marginBottom:"24px",background:"rgba(26, 115, 232, 0.05)",boxShadow:"none"},children:[I.jsx("h3",{style:{fontSize:"1.4rem",color:"var(--primary)",marginBottom:"4px"},children:f.word}),I.jsx("p",{style:{fontWeight:"600",marginBottom:"12px"},children:f.translation}),I.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",fontStyle:"italic"},children:['"',f.example,'"']})]}),I.jsxs("div",{style:{display:"flex",gap:"12px"},children:[I.jsx("button",{className:"btn glass",style:{flex:1},onClick:()=>m(null),children:"Back"}),I.jsx("button",{className:"btn btn-primary",style:{flex:2},onClick:()=>{t({...f,analysis:f.pos}),n()},children:"Add to My List"})]})]}):I.jsxs("div",{style:{textAlign:"center"},children:[I.jsx("img",{src:r,alt:"Preview",style:{width:"100%",borderRadius:"12px",marginBottom:"24px",maxHeight:"300px",objectFit:"contain"}}),I.jsxs("div",{style:{display:"flex",gap:"12px"},children:[I.jsx("button",{className:"btn glass",style:{flex:1},onClick:()=>a(null),disabled:l,children:"Remove"}),I.jsxs("button",{className:"btn btn-primary",style:{flex:2},onClick:x,disabled:l,children:[l?I.jsx(Ob,{className:"animate-spin"}):I.jsx(bT,{size:20}),l?"Analyzing...":"Start Analysis"]})]})]}):I.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[I.jsxs("div",{children:[I.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-muted)",fontSize:"0.9rem"},children:"Target Word (Optional)"}),I.jsx("input",{className:"input",style:{width:"100%"},placeholder:"Type a word to find in the image...",value:y,onChange:O=>v(O.target.value)})]}),I.jsxs("div",{onClick:()=>w.current.click(),style:{border:"2px dashed var(--glass-border)",borderRadius:"16px",padding:"48px",textAlign:"center",cursor:"pointer",transition:"background 0.2s",background:"#f8f9fa"},onMouseEnter:O=>O.currentTarget.style.background="#f1f3f4",onMouseLeave:O=>O.currentTarget.style.background="#f8f9fa",children:[I.jsx(LT,{size:48,style:{color:"var(--primary)",marginBottom:"16px"}}),I.jsx("p",{style:{color:"var(--text-muted)"},children:"Click to upload or drag screenshot"}),I.jsx("input",{type:"file",hidden:!0,ref:w,onChange:T,accept:"image/*"})]})]})]})})}function ik({words:n,onClose:t,onRefresh:r}){const a=me.useMemo(()=>[...n].sort(()=>.5-Math.random()).slice(0,10),[n]),[l,u]=me.useState(0),[f,m]=me.useState(!1),[y,v]=me.useState(new Set),w=a[l],T=async()=>{!f&&!y.has(w.id)&&(await gj(w.id),v(D=>new Set(D).add(w.id)),r&&r()),m(!f)},x=()=>{l<a.length-1&&(m(!1),u(D=>D+1))},O=()=>{l>0&&(m(!1),u(D=>D-1))},j=(D,H)=>{H.offset.x<-100?x():H.offset.x>100&&O()};return I.jsxs("div",{style:{position:"fixed",inset:0,background:"var(--background)",zIndex:2e3,display:"flex",flexDirection:"column"},children:[I.jsxs("div",{style:{padding:"24px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid var(--glass-border)"},children:[I.jsxs("h2",{style:{fontSize:"1.2rem",fontWeight:"700"},children:["Flashcard Study (",l+1," / ",a.length,")"]}),I.jsx("button",{className:"btn glass",onClick:t,style:{padding:"8px"},children:I.jsx(Yc,{size:24})})]}),I.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:window.innerWidth<768?"16px":"24px",gap:"24px"},children:[I.jsx("div",{style:{width:"100%",maxWidth:"400px",height:window.innerWidth<768?"400px":"500px",perspective:"1000px"},children:I.jsx(lp,{mode:"wait",children:I.jsxs(Xl.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1,rotateY:f?180:0},exit:{x:-300,opacity:0},transition:{x:{type:"spring",stiffness:300,damping:30},rotateY:{duration:.6,type:"spring",stiffness:260,damping:20}},drag:"x",dragConstraints:{left:0,right:0},onDragEnd:j,style:{width:"100%",height:"100%",position:"relative",transformStyle:"preserve-3d",cursor:"pointer"},onClick:T,children:[I.jsxs("div",{className:"glass",style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backfaceVisibility:"hidden",padding:window.innerWidth<768?"20px":"32px",textAlign:"center"},children:[I.jsx("h1",{style:{fontSize:window.innerWidth<768?"2.25rem":"3rem",marginBottom:"8px"},children:w.word}),w.phonetics&&I.jsxs("div",{style:{display:"flex",gap:"12px",color:"var(--text-muted)",fontSize:"0.9rem",marginBottom:"24px"},children:[I.jsxs("span",{children:["DJ: ",w.phonetics.dj]}),I.jsxs("span",{children:["KK: ",w.phonetics.kk]})]}),I.jsxs("button",{className:"btn glass",onClick:D=>{D.stopPropagation(),Sp(w.word,"en-US")},children:[I.jsx(Pd,{size:24})," Pronounce"]}),I.jsx("div",{style:{position:"absolute",bottom:"24px",color:"var(--text-muted)",fontSize:"0.8rem"},children:"Tap to flip / Swipe left or right"})]}),I.jsxs("div",{className:"glass",style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backfaceVisibility:"hidden",transform:"rotateY(180deg)",padding:window.innerWidth<768?"20px":"32px",textAlign:"center",background:"rgba(26, 115, 232, 0.05)"},children:[I.jsx("h2",{style:{fontSize:window.innerWidth<768?"2rem":"2.5rem",color:"var(--primary)",marginBottom:"8px"},children:w.translation}),I.jsx("p",{style:{color:"var(--secondary)",fontWeight:"600",marginBottom:"16px"},children:w.analysis?.find(D=>D.type.includes(""))?.type||""}),w.example&&I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"16px"},children:[I.jsx("button",{className:"btn glass",style:{padding:"6px",background:"transparent",border:"1px solid var(--glass-border)",borderRadius:"50%"},onClick:D=>{D.stopPropagation(),Sp(w.example,"en-US")},children:I.jsx(Pd,{size:16})}),I.jsxs("p",{style:{fontStyle:"italic",color:"var(--text-muted)",fontSize:"1.1rem",maxWidth:"300px"},children:['"',w.example,'"']})]}),I.jsx("div",{style:{position:"absolute",bottom:"24px",width:"100%",display:"flex",justifyContent:"center"},children:I.jsx("button",{className:"btn glass",style:{fontSize:"0.8rem",padding:"6px 12px"},onClick:D=>{D.stopPropagation(),onEdit&&onEdit(w)},children:"Edit Details & Images"})})]})]},l)})}),I.jsx("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:a.map((D,H)=>I.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:H===l?"var(--primary)":"rgba(0,0,0,0.1)",transition:"all 0.3s ease"}},H))})]}),I.jsxs("div",{style:{padding:window.innerWidth<768?"24px":"48px",display:"flex",justifyContent:"center",gap:"24px"},children:[I.jsx("button",{className:"btn glass",style:{padding:window.innerWidth<768?"12px":"16px"},onClick:O,disabled:l===0,children:I.jsx(wT,{size:window.innerWidth<768?24:32})}),I.jsx("button",{className:"btn glass",style:{padding:window.innerWidth<768?"12px":"16px"},onClick:T,children:I.jsx(RT,{size:window.innerWidth<768?24:32})}),I.jsx("button",{className:"btn glass",style:{padding:window.innerWidth<768?"12px":"16px"},onClick:x,disabled:l===a.length-1,children:I.jsx(TT,{size:window.innerWidth<768?24:32})})]})]})}const rk=({level:n})=>I.jsx("div",{style:{display:"flex",gap:"2px",marginTop:"4px"},children:[1,2,3,4,5].map(t=>I.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:t<=n?"var(--secondary)":"#e8eaed"}},t))});function sk(){const[n,t]=me.useState([]),[r,a]=me.useState(""),[l,u]=me.useState(!1),[f,m]=me.useState(!1),[y,v]=me.useState(!1),[w,T]=me.useState(null),[x,O]=me.useState(null),[j,D]=me.useState(!1),[H,X]=me.useState(Si());me.useEffect(()=>{ee()},[]);const ee=async()=>{const ie=await vj();t(ie)},F=async ie=>{ie.id?await mj(ie.id,ie):await pj(ie),ee(),O(null),u(!1)},ce=async ie=>{confirm("Are you sure you want to delete this word?")&&(await bj(ie),ee())},ne=async()=>{if(H&&confirm("Migrate your local words to Supabase Cloud? This will enable cross-device sync.")){D(!0);try{const ie=await _j();alert(`Successfully migrated ${ie.count} words to the cloud!`),ee()}catch(ie){console.error(ie),alert("Migration failed: "+ie.message)}finally{D(!1)}}},ye=async(ie,je,it)=>{Sp(je,it),await yj(ie),ee()},fe=n.filter(ie=>ie.word.toLowerCase().includes(r.toLowerCase())||ie.translation?.toLowerCase().includes(r.toLowerCase()));return I.jsxs("div",{className:"dashboard",children:[I.jsxs("div",{className:"header",children:[I.jsx("h1",{className:"title",children:"GigaWords"}),I.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[H&&I.jsxs("div",{title:"Cloud Sync Active",style:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 12px",borderRadius:"20px",background:"rgba(16, 185, 129, 0.1)",color:"#10b981",fontSize:"0.8rem",fontWeight:"600",border:"1px solid rgba(16, 185, 129, 0.2)"},children:[I.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#10b981"}}),"Cloud Active"]}),I.jsxs("button",{className:"btn glass",onClick:()=>v(!0),disabled:n.length===0,children:[I.jsx(gT,{size:20})," Study"]}),I.jsxs("button",{className:"btn btn-primary",onClick:()=>u(!0),children:[I.jsx(Cb,{size:20})," Add Word"]})]})]}),H&&n.length>0&&!n[0].id.toString().includes("-")&&I.jsxs("div",{className:"glass",style:{padding:"16px",marginBottom:"24px",display:"flex",justifyContent:"space-between",alignItems:"center",borderColor:"var(--primary)"},children:[I.jsxs("div",{style:{fontSize:"0.9rem"},children:[I.jsx("span",{style:{color:"var(--primary)",fontWeight:"700"},children:"Local words detected."})," Would you like to sync them to your Supabase cloud?"]}),I.jsxs("button",{className:"btn btn-primary",style:{padding:"8px 16px",fontSize:"0.85rem"},onClick:ne,disabled:j,children:[j?I.jsx(Lc,{className:"animate-spin",size:16}):I.jsx(Lc,{size:16}),"Sync to Cloud"]})]}),I.jsx("div",{className:"glass",style:{padding:"24px",marginBottom:"32px"},children:I.jsxs("div",{style:{position:"relative"},children:[I.jsx(MT,{size:20,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),I.jsx("input",{className:"input",placeholder:"Search words...",style:{width:"100%",paddingLeft:"48px",height:"48px"},value:r,onChange:ie=>a(ie.target.value)})]})}),I.jsxs("div",{style:{display:"grid",gap:"16px"},children:[I.jsx(lp,{children:fe.map(ie=>I.jsxs(Xl.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"glass",style:{padding:"24px",display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"flex-start",gap:"16px",position:"relative"},children:[I.jsxs("div",{style:{flex:1},children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"15px"},children:[I.jsx("h3",{style:{fontSize:"2rem",fontWeight:"700"},children:ie.word}),I.jsx(rk,{level:ie.familiarity})]}),I.jsx("button",{className:"btn glass",style:{position:"absolute",top:"12px",right:"12px",padding:"8px",minWidth:"auto",borderRadius:"50%",background:"transparent",border:"none",boxShadow:"none",color:"var(--text-muted)"},onClick:()=>O(ie),children:I.jsx(Lc,{size:20})}),ie.phonetics&&(ie.phonetics.dj||ie.phonetics.kk)&&I.jsxs("div",{style:{display:"flex",gap:"20px",fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"8px",alignItems:"center"},children:[ie.phonetics.dj&&I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},onClick:()=>ye(ie.id,ie.word,"en-GB"),children:[I.jsx("img",{src:"https://flagcdn.com/w40/gb.png",alt:"UK Flag",style:{width:"18px",height:"18px",borderRadius:"50%",objectFit:"cover"}}),I.jsxs("span",{children:["DJ: [",ie.phonetics.dj,"]"]})]}),ie.phonetics.kk&&I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},onClick:()=>ye(ie.id,ie.word,"en-US"),children:[I.jsx("img",{src:"https://flagcdn.com/w40/us.png",alt:"US Flag",style:{width:"18px",height:"18px",borderRadius:"50%",objectFit:"cover"}}),I.jsxs("span",{children:["KK: /",ie.phonetics.kk,"/"]})]})]}),I.jsx("p",{style:{color:"var(--primary)",fontWeight:"600",marginBottom:"4px"},children:ie.translation}),ie.example&&I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[I.jsx("button",{className:"btn glass",style:{padding:"6px",background:"transparent",border:"1px solid var(--glass-border)",borderRadius:"50%"},onClick:()=>ye(ie.id,ie.example,"en-US"),title:"Speak Example",children:I.jsx(Pd,{size:12})}),I.jsxs("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem",fontStyle:"italic",flex:1},children:['"',ie.example,'"']})]}),I.jsx("div",{style:{margin:"12px 0 8px 0",height:"1px",background:"rgba(0,0,0,0.15)",width:"100%"}}),I.jsxs("div",{style:{display:"flex",gap:"12px",fontSize:"0.75rem",color:"var(--text-muted)"},children:[I.jsxs("span",{children:["Views: ",ie.viewCount||0]}),I.jsxs("span",{children:["Tests: ",ie.testCount||0]}),ie.analysis&&I.jsx("button",{onClick:()=>T(w===ie.id?null:ie.id),style:{background:"transparent",border:"none",color:"var(--primary)",cursor:"pointer",padding:0,fontSize:"0.75rem",textDecoration:"underline"},children:w===ie.id?"Hide Details":"Show Details"})]}),I.jsx(lp,{children:w===ie.id&&ie.analysis&&I.jsx(Xl.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},style:{overflow:"hidden",marginBottom:"12px"},children:I.jsx("div",{className:"glass",style:{padding:"12px",background:"#f8f9fa",fontSize:"0.85rem",boxShadow:"none"},children:ie.analysis.map((je,it)=>I.jsxs("div",{style:{marginBottom:"8px"},children:[I.jsx("span",{style:{fontWeight:"700",color:"var(--secondary)"},children:je.type}),": ",je.translation,I.jsxs("div",{style:{fontStyle:"italic",color:"var(--text-muted)",fontSize:"0.8rem",marginTop:"2px"},children:['"',je.example,'"']})]},it))})})})]}),I.jsx("div",{style:{display:"none"}})]},ie.id))}),fe.length===0&&I.jsx("div",{style:{textAlign:"center",padding:"64px",color:"var(--text-muted)"},children:"No words found. Start by adding some!"})]}),(l||x)&&I.jsx(tk,{onClose:()=>{u(!1),O(null)},onSave:F,onDelete:ce,initialData:x}),f&&I.jsx(nk,{onClose:()=>m(!1),onSave:F}),y&&n.length>0&&I.jsx(ik,{words:n,onClose:()=>v(!1),onRefresh:ee,onEdit:ie=>{v(!1),O(ie)}})]})}cT.createRoot(document.getElementById("root")).render(I.jsx(me.StrictMode,{children:I.jsx(sk,{})}));
